{"data":{"site":{"siteMetadata":{"blogTitle":"LaySent's Blog","author":"LaySent"}},"markdownRemark":{"id":"58e6db42-9180-58ca-b08e-01afe07ebcc1","html":"<section><h1>录制视频</h1><p>OSX 自带的 QuickTime Player 支持屏幕的录制功能。具体的操作步骤如下：</p><ul>\n<li>打开 QuickTime Player</li>\n<li>点击菜单中的 File => New Screen Recording</li>\n<li>拖拽选择需要录制的区域，并点击开始录制，点击右上角可以结束录制</li>\n<li>录屏结束后，可以选择菜单中的 File => Export => As Movie 来保存视频</li>\n</ul></section>\n<section><h1>转化为 Gif 格式</h1><p>假设上述步骤保存了一个名为 <code class=\"language-text\">in.mov</code> 的视频，通过以下步骤可以将视频转化为 Gif 格式：</p><ul>\n<li>\n<p>右键点击 <code class=\"language-text\">in.mov</code> 文件，选择 <code class=\"language-text\">Get Info</code>，在 <code class=\"language-text\">More Info</code> 中找到视频的大小信息，这里假设大小为 600x400</p>\n</li>\n<li>\n<p>运行如下命令，讲 <code class=\"language-text\">in.mov</code> 转化为 <code class=\"language-text\">out.gif</code> 文件</p>\n<p><code class=\"language-text\">ffmpeg -i in.mov -s 600x400 -pix_fmt rgb24 -r 10 -f gif out.gif</code></p>\n<p>这里参数的具体含义如下：</p>\n<ul>\n<li><code class=\"language-text\">-s 600x400</code> 指定了最大宽度和最大高度。这里可以不指定，输出将按照原始大小来。如果指定较小的长宽值，输出将变小。</li>\n<li><code class=\"language-text\">-r 10</code> 将帧数从 25 调整为 10。</li>\n</ul>\n</li>\n</ul><p>如果 <code class=\"language-text\">ffmpeg</code> 命令找不到，可以使用 <code class=\"language-text\">Homebrew</code> 进行安装：</p><p>  <code class=\"language-text\">brew install ffmpeg</code></p></section>\n<section><h1>优化 Gif 文件</h1><p>可以使用 <code class=\"language-text\">gifsicle</code> 命令对产生的 gif 文件进行压缩：</p><p>  <code class=\"language-text\">gifsicle out.gif --optimize=3 -o optimized.gif</code></p><p>这里，<code class=\"language-text\">--optimize=3</code> 参数要求 <code class=\"language-text\">gifsicle</code> 使用最高等级优化图片。这会需要更多的时间和 CPU 来计算，但是压缩效果\n相对也是最好的。</p><p>如果找不到 <code class=\"language-text\">gifsicle</code> 命令，可以使用 <code class=\"language-text\">Homebrew</code> 进行安装：</p><p>  <code class=\"language-text\">brew install gifsicle</code></p><p>经测试，一个 <code class=\"language-text\">463 KB</code> 的文件，压缩后的大小为 <code class=\"language-text\">417 KB</code>，压缩了 10%。</p><p>以上生成 Gif 和优化 Gif 的命令可以放到一起执行：</p><p>  <code class=\"language-text\">ffmpeg -i in.mov -s 600x400 -pix_fmt rgb24 -r 10 - | gifsicle --optimize=3 &gt; optimized.gif</code></p></section>\n<section><h1>参考</h1><ul>\n<li><a href=\"https://gist.github.com/dergachev/4627207\">https://gist.github.com/dergachev/4627207</a></li>\n<li>该文作者针对 mov 到 gif 的转换写了一个 Ruby 脚本，可以显著提高转化后的质量，脚本见\n<a href=\"https://github.com/dergachev/screengif\">https://github.com/dergachev/screengif</a></li>\n</ul></section>","frontmatter":{"title":"Mac OS X 电脑录屏","date":"2019-03-08","modified":"2019-03-08","description":"这篇文章介绍各种常见的 Lint 工具"}}},"pageContext":{"slug":"/Mac-OS-X-电脑录屏/","previous":{"fields":{"slug":"/Preload-Prefetch/","type":"draft"},"frontmatter":{"title":"Preload & Prefetch","category":"Tools","tags":"Tools"}},"next":{"fields":{"slug":"/baseline-and-progressive-jpeg/","type":"blog"},"frontmatter":{"title":"Baseline & Progressive JPEG","category":"Web","tags":"Web, Graphics"}}}}
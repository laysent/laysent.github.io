{"componentChunkName":"component---src-templates-til-js","path":"/til/2019-10-14_parse-gitconfig-via-node","webpackCompilationHash":"d0c1c456129354e33ddb","result":{"data":{"markdownRemark":{"id":"d7262571-a581-5b2f-8938-103fb637b4ce","html":"<p>使用 Node 解析当前的 Git Config 文件，有两个可以辅助的 npm 库：</p>\n<ol>\n<li><code class=\"language-text\">git-config-path</code>：可以用于判断当前的 Git Config 地址</li>\n</ol>\n<p>例如，需要获取全局 Git Config 地址，可以运行：</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> configPath <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'git-config-path'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token string\">'global'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>更多可以参考<a href=\"https://github.com/jonschlinkert/git-config-path\">文档</a>。</p>\n<ol start=\"2\">\n<li><code class=\"language-text\">ini</code>：可以用于解析和处理 ini 类型的配置文件，<a href=\"https://github.com/jonschlinkert/parse-git-config\">parse-git-config</a> 也使用了这个来解析 Git Config 文件。</li>\n</ol>\n<p>简单的使用方法如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> configPath <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'git-config-path'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token string\">'global'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> ini <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ini'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> content <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span>configPath<span class=\"token punctuation\">,</span> <span class=\"token string\">'utf8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> parsed <span class=\"token operator\">=</span> ini<span class=\"token punctuation\">.</span><span class=\"token function\">decode</span><span class=\"token punctuation\">(</span>content<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> stringify <span class=\"token operator\">=</span> ini<span class=\"token punctuation\">.</span><span class=\"token function\">encode</span><span class=\"token punctuation\">(</span>parsed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nfs<span class=\"token punctuation\">.</span><span class=\"token function\">writeFileSync</span><span class=\"token punctuation\">(</span>configPath<span class=\"token punctuation\">,</span> stringify<span class=\"token punctuation\">,</span> <span class=\"token string\">'utf8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>更多内容，可以参考<a href=\"https://github.com/npm/ini#readme\">文档</a>。</p>","frontmatter":{"title":"Parse GitConfig via Node","category":"Tool","date":"2019-10-14"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"time":"2019-10-14","title":"Parse GitConfig via Node","previous":{"time":"2019-10-11","title":"shape-rendering"},"next":null}}}
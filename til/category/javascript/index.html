<!DOCTYPE html><html lang="zh-cmn-Hans"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.75 'Rubik',-apple-system,'BlinkMacSystemFont','PingFang SC','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue','Helvetica','Arial','Hiragino Sans GB','Microsoft Yahei','WenQuanYi Micro Hei',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.9);font-family:'Rubik',-apple-system,'BlinkMacSystemFont','PingFang SC','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue','Helvetica','Arial','Hiragino Sans GB','Microsoft Yahei','WenQuanYi Micro Hei',sans-serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:"Rubik","-apple-system","BlinkMacSystemFont","PingFang SC","Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue","Helvetica","Arial","Hiragino Sans GB","Microsoft Yahei","WenQuanYi Micro Hei","sans-serif";font-weight:900;text-rendering:optimizeLegibility;font-size:2.5rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Rubik',-apple-system,'BlinkMacSystemFont','PingFang SC','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue','Helvetica','Arial','Hiragino Sans GB','Microsoft Yahei','WenQuanYi Micro Hei',sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.73286rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Rubik',-apple-system,'BlinkMacSystemFont','PingFang SC','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue','Helvetica','Arial','Hiragino Sans GB','Microsoft Yahei','WenQuanYi Micro Hei',sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.4427rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Rubik',-apple-system,'BlinkMacSystemFont','PingFang SC','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue','Helvetica','Arial','Hiragino Sans GB','Microsoft Yahei','WenQuanYi Micro Hei',sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;letter-spacing:0.140625em;text-transform:initial;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Rubik',-apple-system,'BlinkMacSystemFont','PingFang SC','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue','Helvetica','Arial','Hiragino Sans GB','Microsoft Yahei','WenQuanYi Micro Hei',sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.83255rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Rubik',-apple-system,'BlinkMacSystemFont','PingFang SC','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue','Helvetica','Arial','Hiragino Sans GB','Microsoft Yahei','WenQuanYi Micro Hei',sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.75966rem;line-height:1.1;font-style:italic;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}ul{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;list-style:disc;}ol{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:0.85rem;line-height:1.75rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1rem;line-height:1.75rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}blockquote{margin-left:-1.75rem;margin-right:1.75rem;margin-top:0;padding-bottom:0;padding-left:1.42188rem;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1.20112rem;line-height:1.75rem;color:hsla(0,0%,0%,0.59);font-style:italic;border-left:0.32813rem solid hsla(0,0%,0%,0.9);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.75rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.75rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}li > ul{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.75rem / 2);}code{font-size:0.85rem;line-height:1.75rem;}kbd{font-size:0.85rem;line-height:1.75rem;}samp{font-size:0.85rem;line-height:1.75rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.16667rem;padding-right:1.16667rem;padding-top:0.875rem;padding-bottom:calc(0.875rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.75rem;color:hsla(0,0%,0%,0.9);font-weight:400;}blockquote cite:before{content:"â€” ";}ul,ol{margin-left:0;}@media only screen and (max-width:480px){ul,ol{margin-left:1.75rem;}blockquote{margin-left:-1.3125rem;margin-right:0;padding-left:0.98438rem;}}h1,h2,h3,h4,h5,h6{margin-top:3.5rem;}a{box-shadow:0 1px 0 0 currentColor;color:#007acc;text-decoration:none;}a:hover,a:active{box-shadow:none;}mark,ins{background:#007acc;color:white;padding:0.10938rem 0.21875rem;text-decoration:none;}a.gatsby-resp-image-link{box-shadow:none;}audio[controls]{margin-bottom:1.75rem;}video[controls]{margin-bottom:1.75rem;}@media (prefers-color-scheme: dark){body{color:#fff;background-color:#333;}blockquote{border-left-color:hsla(0,0%,100%,0.9);color:hsla(0,0%,100%,0.59);}hr{background-color:hsla(0,0%,100%,0.2);}th{border-bottom-color:hsla(0,0%,100%,0.12);}td{border-bottom-color:hsla(0,0%,100%,0.12);}}</style><meta data-react-helmet="true" name="description" content="Site where LaySent writes thoughts."/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-31656866-1', 'auto', {});
      
      
      
      
      
      }</script><link rel="alternate" type="application/rss+xml" title="Things I Learn (LaySent)" href="/til/rss.xml"/><link rel="shortcut icon" href="/icons/icon-48x48.png?v=c6cc8db8f32c2f6ab9ac0dc9de82f143"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#339af0"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=c6cc8db8f32c2f6ab9ac0dc9de82f143"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=c6cc8db8f32c2f6ab9ac0dc9de82f143"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=c6cc8db8f32c2f6ab9ac0dc9de82f143"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=c6cc8db8f32c2f6ab9ac0dc9de82f143"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=c6cc8db8f32c2f6ab9ac0dc9de82f143"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=c6cc8db8f32c2f6ab9ac0dc9de82f143"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=c6cc8db8f32c2f6ab9ac0dc9de82f143"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=c6cc8db8f32c2f6ab9ac0dc9de82f143"/><title data-react-helmet="true">Things I Learned (JavaScript) | LaySent&#x27;s Site</title><link data-react-helmet="true" href="https://laysent.github.iotil/category/javascript/" rel="canonical"/><meta name="generator" content="Gatsby 2.17.4"/><meta data-react-helmet="true" property="og:title" content="Things I Learned (JavaScript)"/><meta data-react-helmet="true" property="og:description" content="Site where LaySent writes thoughts."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="LaySent"/><meta data-react-helmet="true" name="twitter:title" content="Things I Learned (JavaScript)"/><meta data-react-helmet="true" name="twitter:description" content="Site where LaySent writes thoughts."/><meta data-react-helmet="true" name="keywords" content="JavaScript, Web, Blog, LaySent"/><meta data-react-helmet="true" name="robots" content="noindex"/><style data-href="/styles.46ea367fdcf654900fa9.css">code[class*=language-],pre[class*=language-]{color:#fff;background:none;font-family:Consolas,Menlo,Monaco,source-code-pro,Courier New,monospace;font-feature-settings:normal;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;margin-bottom:0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{overflow:auto;padding:1em}pre[class*=language-]::selection{background:#27292a}pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:hsla(0,0%,100%,.15)}:not(pre)>code[class*=language-]{border-radius:.3em;background:rgba(255,229,100,.2);color:#1a1a1a;padding:.15em .2em .05em;white-space:normal}@media (prefers-color-scheme:dark){:not(pre)>code[class*=language-]{background-color:rgba(255,229,100,.8)}}.token.attr-name{color:#addb67;font-style:italic}.token.comment{color:#637777}.token.string,.token.url{color:#addb67}.token.variable{color:#d6deeb}.token.number{color:#f78c6c}.token.builtin,.token.char,.token.constant,.token.function{color:#82aaff}.token.punctuation{color:#c792ea}.token.doctype,.token.selector{color:#c792ea;font-style:"italic"}.token.class-name{color:#ffcb8b}.token.keyword,.token.operator,.token.tag{color:#ffa7c4}.token.boolean{color:#ff5874}.token.property{color:#80cbc4}.token.namespace{color:#b2ccd6}pre[data-line]{padding:1em 0 1em 3em;position:relative}.gatsby-highlight-code-line{background-color:#022a4b;display:block;margin-right:-1em;margin-left:-1em;padding-right:1em;padding-left:.75em;border-left:.25em solid #ffa7c4}.gatsby-highlight{margin-bottom:1.75rem;border-radius:10px;background:#011627;-webkit-overflow-scrolling:touch;overflow:auto}.gatsby-highlight pre[class*=language-]{float:left;min-width:100%}.license{display:flex;align-items:center;font-size:.8rem}.license>a{display:inline-block;box-shadow:none;height:31px;flex-shrink:0}a.no-link-style{box-shadow:none;color:inherit}.license>div{margin-left:10px}.title{font-family:Abril Fatface,cursive;text-align:center;position:relative;margin:0}.title span{background-color:#fff;position:relative;padding:0 1rem}@media (prefers-color-scheme:dark){.title span{background-color:#333}}.title:before{content:"";height:1px;position:absolute;background-color:#ccc;width:100%;top:50%;left:0;right:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}nav.menu{position:fixed;top:0;right:0;line-height:2}nav.menu ul{list-style:none;display:flex}nav.menu ul,nav.menu ul li{margin:0}nav.menu ul li{padding:0 .5rem}nav.footer svg{fill:#000;width:1rem;height:1rem}nav.footer{height:100%}nav.footer,nav.footer>div{display:flex;justify-content:space-around}nav.footer>div{width:200px;align-items:center}nav.footer a{border-radius:50px;width:50px;height:50px;display:flex;align-items:center;justify-content:center;background-color:hsla(0,0%,100%,.3);cursor:pointer;text-decoration:none;box-shadow:none}nav.footer a:hover{border-radius:5px;color:hsla(0,0%,100%,.9);background-color:#ce2323;-webkit-transition:all .5s ease-in-out;transition:all .5s ease-in-out}@font-face{font-family:KaTeX_AMS;src:url(/static/KaTeX_AMS-Regular-e78e28b4834954df047e4925e9dbf354.woff2) format("woff2"),url(/static/KaTeX_AMS-Regular-7f06b4e30317f784d61d26686aed0ab2.woff) format("woff"),url(/static/KaTeX_AMS-Regular-aaf4eee9fba9907d61c3935e0b6a54ae.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Caligraphic;src:url(/static/KaTeX_Caligraphic-Bold-4ec58befa687e9752c3c91cd9bcf1bcb.woff2) format("woff2"),url(/static/KaTeX_Caligraphic-Bold-1e802ca9dedc4ed4e3c6f645e4316128.woff) format("woff"),url(/static/KaTeX_Caligraphic-Bold-021dd4dc61ee5f5cdf315f43b48c094b.ttf) format("truetype");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Caligraphic;src:url(/static/KaTeX_Caligraphic-Regular-7edb53b6693d75b8a2232481eea1a52c.woff2) format("woff2"),url(/static/KaTeX_Caligraphic-Regular-d3b46c3a530116933081d9d74e3e9fe8.woff) format("woff"),url(/static/KaTeX_Caligraphic-Regular-d49f2d55ce4f40f982d8ba63d746fbf9.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Fraktur;src:url(/static/KaTeX_Fraktur-Bold-d5b59ec9764e10f4a82369ae29f3ac58.woff2) format("woff2"),url(/static/KaTeX_Fraktur-Bold-c4c8cab7d5be97b2bb283e531c077355.woff) format("woff"),url(/static/KaTeX_Fraktur-Bold-a31e7cba7b7221ebf1a2ae545fb306b2.ttf) format("truetype");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Fraktur;src:url(/static/KaTeX_Fraktur-Regular-32a5339eb809f381a7357ba56f82aab3.woff2) format("woff2"),url(/static/KaTeX_Fraktur-Regular-b7d9c46bff5d51da6209e355cc4a235d.woff) format("woff"),url(/static/KaTeX_Fraktur-Regular-a48dad4f58c82e38a10da0ceebb86370.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Main;src:url(/static/KaTeX_Main-Bold-8e1e01c4b1207c0a383d9a2b4f86e637.woff2) format("woff2"),url(/static/KaTeX_Main-Bold-22086eb5d97009c3e99bcc1d16ce6865.woff) format("woff"),url(/static/KaTeX_Main-Bold-9ceff51b3cb7ce6eb4e8efa8163a1472.ttf) format("truetype");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Main;src:url(/static/KaTeX_Main-BoldItalic-284a17fe5baf72ff8217d4c7e70c0f82.woff2) format("woff2"),url(/static/KaTeX_Main-BoldItalic-4c57dbc44bfff1fdf08a59cf556fdab3.woff) format("woff"),url(/static/KaTeX_Main-BoldItalic-e8b44b990516dab7937bf240fde8b46a.ttf) format("truetype");font-weight:700;font-style:italic}@font-face{font-family:KaTeX_Main;src:url(/static/KaTeX_Main-Italic-e533d5a2506cf053cd671b335ec04dde.woff2) format("woff2"),url(/static/KaTeX_Main-Italic-99be0e10c38cd42466e6fe1665ef9536.woff) format("woff"),url(/static/KaTeX_Main-Italic-29c86397e75cdcb3135af8295f1c2e28.ttf) format("truetype");font-weight:400;font-style:italic}@font-face{font-family:KaTeX_Main;src:url(/static/KaTeX_Main-Regular-5c734d78610fa35282f3379f866707f2.woff2) format("woff2"),url(/static/KaTeX_Main-Regular-b741441f6d71014d0453ca3ebc884dd4.woff) format("woff"),url(/static/KaTeX_Main-Regular-5c94aef490324b0925dbe5f643e8fd04.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Math;src:url(/static/KaTeX_Math-BoldItalic-d747bd1e7a6a43864285edd73dcde253.woff2) format("woff2"),url(/static/KaTeX_Math-BoldItalic-b13731ef4e2bfc3d8d859271e39550fc.woff) format("woff"),url(/static/KaTeX_Math-BoldItalic-9a2834a9ff8ab411153571e0e55ac693.ttf) format("truetype");font-weight:700;font-style:italic}@font-face{font-family:KaTeX_Math;src:url(/static/KaTeX_Math-Italic-4ad08b826b8065e1eab85324d726538c.woff2) format("woff2"),url(/static/KaTeX_Math-Italic-f0303906c2a67ac63bf1e8ccd638a89e.woff) format("woff"),url(/static/KaTeX_Math-Italic-291e76b8871b84560701bd29f9d1dcc7.ttf) format("truetype");font-weight:400;font-style:italic}@font-face{font-family:"KaTeX_SansSerif";src:url(/static/KaTeX_SansSerif-Bold-6e0830bee40435e72165345e0682fbfc.woff2) format("woff2"),url(/static/KaTeX_SansSerif-Bold-3fb419559955e3ce75619f1a5e8c6c84.woff) format("woff"),url(/static/KaTeX_SansSerif-Bold-7dc027cba9f7b11ec92af4a311372a85.ttf) format("truetype");font-weight:700;font-style:normal}@font-face{font-family:"KaTeX_SansSerif";src:url(/static/KaTeX_SansSerif-Italic-fba01c9c6fb2866a0f95bcacb2c187a5.woff2) format("woff2"),url(/static/KaTeX_SansSerif-Italic-727a9b0d97d72d2fc0228fe4e07fb4d8.woff) format("woff"),url(/static/KaTeX_SansSerif-Italic-4059868e460d2d2e6be18e180d20c43d.ttf) format("truetype");font-weight:400;font-style:italic}@font-face{font-family:"KaTeX_SansSerif";src:url(/static/KaTeX_SansSerif-Regular-d929cd671b19f0cfea55b6200fb47461.woff2) format("woff2"),url(/static/KaTeX_SansSerif-Regular-2555754a67062cac3a0913b715ab982f.woff) format("woff"),url(/static/KaTeX_SansSerif-Regular-5c58d168c0b66d2c32234a6718e74dfb.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Script;src:url(/static/KaTeX_Script-Regular-755e2491f13b5269f0afd5a56f7aa692.woff2) format("woff2"),url(/static/KaTeX_Script-Regular-d524c9a5b62a17f98f4a97af37fea735.woff) format("woff"),url(/static/KaTeX_Script-Regular-d12ea9efb375f9dc331f562e69892638.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size1;src:url(data:font/woff2;base64,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) format("woff2"),url(data:font/woff;base64,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) format("woff"),url(/static/KaTeX_Size1-Regular-7342d45b052c3a2abc21049959fbab7f.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size2;src:url(data:font/woff2;base64,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) format("woff2"),url(data:font/woff;base64,d09GRgABAAAAABkkAA4AAAAAL4wAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAAOlAAAAE4AAABgRWJbumNtYXAAAA7kAAAAyQAAAdqK1xeEY3Z0IAAAFaQAAAAKAAAADAAAAABmcGdtAAAPsAAABYwAAAuX1RTb8Gdhc3AAABkcAAAACAAAAAgAAAAQZ2x5ZgAAAUQAAAwCAAAWjK6904RoZWFkAAANwAAAADYAAAA2FFN06WhoZWEAAA50AAAAHwAAACQJfAGCaG10eAAADfgAAAB5AAAArH3JAgZsb2NhAAANaAAAAFgAAABYadFve21heHAAAA1IAAAAIAAAACAAyAxmbmFtZQAAFbAAAAK/AAAG50rK5LZwb3N0AAAYcAAAAKkAAAFCunBaJXByZXAAABU8AAAAaAAAAH/i0Eg6eNrlWAVg21gS1fwvsGXLtmxBwLEMiexwYll2aZOmFGjKzHhQ5i6Wl5nhmJnTHDMzM/My826s3khO2vSY73Y34tHov5k3k/l/zBAmzzDMF4nKUEZgfMM8CwzpaLZkS85aciZ/6+Z8nqjle/PwXgaYk+VzSSd7mIkz/FCQQEczKELGNLOmXShFS5amKgIv8JRXFT2qa6STj7/49sZCYfF34ryUSL4z5fOZv5fKRym/7NlbP/LLX3wMrGGesqFU7h7nmjkHDs5xFj4VYhAnUz4XXoM4CcSRXJxYoWhZmqa7CETIpE27WCrGinYhS7IIn/FJ0iiSFBIg+HvT50u9M5kIsnt9rIv1q59/zPnaMOuD0FPwrjkHD8yBffc0Jj2sCejTI4glIRbPuFjoDVMqut4wAj9XI9dQKmvlfZSiphbgf0BFoolP56iIX/8SLf0Cfi3g1+B9LVtqBo9f3nkS2RIE6+l1FuqVRlFCqOcHj7lMOmsyWbNo5XWNIY/oEQTYBxAOBHlKrilfVyWy/I+5QFikTzfiCJHyucyTo0gUXCQbA4RH5M47T7KzraeetvjXot65iJRBvXmo1+AhIV8uSWY7Mb1roVjCrZsUXBLdA521dFXh3eCFiaLixT0EQdd0xT1UHc+4aSrJ8JIUHDJYACCckN4isqy4JS1wBIAFdXXzZF8gxFOfafSGUURB32bxYvDlCbwFEu41TB8tH+LZ7v1y0zceCVSFl1hUqPJRa0m4OvBw/cSXhyjMmVitET4kcTSs53vFh5u6rw0BLJ9WTSnfdRAgdG1300OB3rweppw0zuMB9Lh+LFvyFYtVZczyinvomVK5uklU6CKlIrof9c6lUrZCUOXURs/lwpLU1bYgxoFgN9t+Sv3JmmUB4GIL2rokKcSzbJAtzBeBQLCtubE94N/bGvO71IA4v4DvWHZrmOM0o9SvPXS3MKPUXMVyQYljw0rPSuHuh7T+kqFxfMjvpyzRF1hB+JGU7zESMZbt7I0n5aavPyJYC3TCUj/DwKlniU3voyyjoZ8+Fv2keTSb1RU+49qbTQs8xixtcvDDZxrgMS5ADOPIxMfpoxOPGAYJkFV9i6W3AM34fenw9OnhtM+fQfYYsoneSR5g2nFUXXbzxcprHmdW3k0NpEXTdRzayyLcMojjISGkqwAdcm5mtmV1R9CcO/+cDsoTQjlf/bLL5rR3xu217WeL50/pIfcHguEUT+rUKjcrfP5ItLlVEmJni3KKysBIjNgMO95n+PM+j8T+Aadx3Cqy6dSpf8Xrct9/zmtmgtPFfo6+n2lA65Ke15plqSkbbSvJKTk27sl0bcvYKRUNZNOxS0UnIh6qoU4ATt8HqqvNksheI57QnC8tKRYH/ewHym8ov7FyuymeCISLxcXMONws4kYruH8eicqpP0V+dt8ZNHgI0QAeH/fkYo8HRBPewH5wHHrJ6eK2I/pkRM95Fa6YSukJomOoK1tDSmd0TQDFSpaK3mZhRLikNwG5QWOyBTQLsoUplKwkKydJyTDNCWhhbvdXO51vOT/1wTcIQPmh78Bb01cM3LRIVXJ0yqTym8tvwlBl0pf2gAjTbpjoPAH0JLnMGExzoUZEnSFRCJQv4wlbfhMQIVq/sbaVf8PLgRCBsNncHf3QTmDFF+bCjrAbv13lg3QEK1Lt2JwCed2dTDIZdIJ6SeSWm1gNlh96t0zKv44KcpBw9mvD0aQ/Wp2rL3xzsfPaIM8ejrJPD5YETvkoaYmqWV800dk0pdwGAjXhVFp0WRt5HX0PN5/pQixbcVlTBDeNNY+faKyLloqY27pSqXhY405nM26EjhXDbMFVe7NN2FiNFLLsePPKSzW9zTJShtVF6+J60qZUpOEoR5KpVC5Rvf5oUmtoaZ3a2k0StXqyXNscolQByXrm+FMkSqoXL7xkgVY1rbMulaxqDrHUR0Twr1r5lRtfXv5J2Tkyffek7hkd8VSSIa4P3Cc9Hw7hGmT/Ilsh/6If3P+GBBL57/NX9c/yTl3ehY+O8v5RRvzA0I0u9/Rf5/6FFDgYeW7E/F/PFa/OLGBezBzEXNm1ZePSvsQf5Uqs0gtgJbZKUVfwV6JHK8t5nhcyAjkrjNBFSq4Wytzlm57HARsKWV4IEcHCBxz1TKTbOuY0tLUld0wX/UubWq2sRX1/lvuOQbOtzdiJagtbW60z0fMJNTHC1be09QR5XpmrAaHV0HbEX+3K2WDV9DUSGRenb0O7OXn6ogWzOqfyLXD08lumFfzwpwRe5/zcnDRrwaLpnT18i3Pry2+ZUSGSvsM4uorTtPl5faq+zJJC8sXNl/bVX5c4vorjIy/ui1TmQdag7/dmD6XSZXnLEGCEUR6LTKnSNugaa8SVRIh1tjvbqJRQ6oDCZ0jQiIcIfI6AsyuWqOXZ657dxdbWKQLr5zS2uoo+8zuBMn8OaXTlDN74XnQQc7RRKdWqhsTDjXAbhOuUOBBnMpHidWHinEOBXhwzaoLPHmRvJjWJmECFZ35Hq2oop4r0NM4w04Y4YW8+rKzP3T0WwUBj5E05gukxGnb5tNDLIuLTCsEbdg9sCHEAQOPpWhZA/O0b+mftvMoHwNam4xQAqq4/SochsqT0qhV1i5yjzkRW1jWZhY/CJ8QbvleTO7lbdHqcGays6Sj9Anwx8Jlzt1R46PZ46DjdQRRd//HjCFo4mnJyBC+ekIx1EGO9Ao1MILVROV6xamDWjvFWBbKzb9p2boux9JWT1qtoP70u4lrlzHB6xqyCT8BHXasinDPRmRBYOXhdv8UFF3VvvaxuERyFLzCjneYpXFNwZzrNFHaavwTjvkqf2cJUukRod7XOdIkpOSNHwLC8HpH/7l8Yy3J7Vssb6ukW68+OhDope8RyflV+G/9dbDfdkXZj7xVArRrUUnnUKtmxaMljT1Cpu16OxVTNo4ruft8ranm/GAzBUG6dpg0NQVgMB2pf8VgI3g37Zwb8YVFw5m38bbHozHHmC4GwMhP2I8ZStMTtnXXECHrWpk2EiRUIGW2fEYNiUHaLERgaet8QgVAgIsAHhoc/AEL53IgowHtgCOAdcFIQZQmcXmd2yBlwekFiGIqr3m7uXZiddcwUZgAr28zuNkMGilk6ro2shBzdqK9UuFKRO13J3CZzXOdQtAtoGOC/ktd2Ztw8Jq9ItE0OnNj60x0D5tSbX/nF+t2ZIefuQXy45dWwLGC1a++99KLJiXl9j706WpeI7tzw4lc1tbzx8LnOnXau3rKyqXYfwfILofxLfnzzG/fv/vCFJ2o4ruobt1YeLpkFrL532xtWr3/1NRe9PkSI2Nr+pq279r0Z5MHe8nDOIvlsLp+tCzIMN87fRmYi08ssYcJTg4P9kye1tRoJGbi/5XhMzqCEuH6nwMxk5VTStk0Td/QaH1QV/faaKSikUnKFFNz+GgcPkRbzfSMGBzG4IcryEMMNpIs2HXPudO537nfvN1/yDnKt+8BvW4PsVAe5v0ZI+SaSZf0556lPJIJA6gmUfwSE+OihH81e9+xLSHbsYbNMGtx3YgsS1t2bOIufdqabmc9sdvlZu7i355x8k/F38IOJUckMFeeuUqngVu5sRaB4HWYRTGRQYHQvYWxUoJpp6mlGVbxBK3n0t1ImFvS9+ZLGZds+/elPNx53fuU4x/lcUm2ZJ9ZUscdp3A/Lt34ayKiwegf/hS9y4BwqRM6/LToleuuFEeuv5xNI6+Pschz9M2x8dflDwB6bUrB27XvVNbH6zDFyKIivnJExWfPIL/gvfZF3LgJiinMw/0JzRJNhyLjKuhlX9nOsekL+ieoKox+oqsu7Szq+RpZVZUzRtjNp784ueD9n2YV/oCLDZ9lqT3fLdhrRayVDsNQtwIXjdSEOtqiWYEi1eoRu3/JPlG7nNe4n+C3QWtmQBNi6NO6vqfHHl24FQTLkWoqo4+fi4p/MQXJqjBw1TrQ4yyuKqqLjqQYza08h5hS2WCjYE0Z9oPXopzdBCgbn2E4x4Ts955SvLF9FDpCDaLAmK0rvmvMO3XDpDYfOW9OrKIaAxNSeLXQjiH/Qwmwe/X2Yq/w+3GlbqoXH5srf368Hrh5qod7Y3OPquO/+AMfzgJUAAAABAAAAKwC9AAUAAAAAAAIAAAAQAHcAAAAgC5cAAAAAAAAAFgAWABYAFgBKAIAAnwCzANQA6AFhAdUB1QIAAk8CewLKAwYDRQOqA+AEQgT+BhQGyQb+BzIHggfUB+cH+ggMCB8IUQiBCPkJiQovCsQLEAskCzgLRgABAAAAAQAAf0Tz9V8PPPUACwPoAAAAANiymQkAAAAA2LKZCfwT/KIHvAVQAAAACAACAAAAAAAAeNpVyjEOAUEUxvH/zOyqJ9HolbbSvClcQYkD0NM5jNYRHEa5nT0Dgu9JRqL45f/y8nFnDhCWoJu44iLTNKOEK71qao4njs43aXg/0gDwHMukeVFce8b038cOaxbYqGDfe/MvZnrJv245yLq9Uaq6DR04dvABg04iLgAAAHjaY2BkYGAN+LOIIYrN4o/wvxr2PUARVKANAJIcBgUAeNpjYGK2Z5zAwMrAwNTFtIeBgaEHQjM+YDBkZGJAAg0MDO8FGN68hfED0lxTGBwYFN7/Z1b4b8EQxRrAHKfAwNAfxwzXosDACAD6LQ+wAAB42mNgYGCGYhkGRgYQuALkMYL5LAw7gLQWgwKQxQUkNRn0GWIZqhlqGRYwHWO6w8ysJKgkpaSndFiZW/2lFpMWixbb+////zMwANVqANVGI6llUuIHqtVWOqDMof5CiwGs9i9Q8eP/d/5f/7/mf///vv85f93/Gv3lvcd099fdV3cj74resLymfE3pmqKANtBFJABGNiCGsZmABBO6ApCXIYCFFUyxkWA8OwcnXnkuBm4GcoGwIIMojC0CoXhI0M7LB2MBAO5wM9cAAAB42qxV5ZrjyA4th5phGHxBnpr07ZuUPcxsx8nwNH6fa9Fu+r28+wx+GjnL//bR9shJc/dyQ1SlUklHR1KFlSFWq0lsiV79pKYXX3Fj+b2Eb7o8b9MtylcTrjSzn0fVqFpf12uu57GyrCLd6StHRWnos2OY0i2fK4Y2iH9Z4Nrce/15ZzyK1+Ol9xNPe26eEC8sJB4/tS7xXVndtZaKgVG2wfNQDXfEV+X8KizhLCGAyDPi8YUkhYbkbFxWt2V1O3VTa63LTttazWoh2bTW56oh+Kk1MwCqRwsJ13XIDR0CvmUn9blmNHDRRlFfC0lOBsHlk1Uar3O15UEfUU45fBdX602ktZikC262ZBNtcfp0OcGRi6S2I/tcNzwStfuqMqCmga0ONbHSYcaVtS121hGf6y2fRwwJyIlo/aeaWiPxwE9TKyZppwQ5avojEyqKw5a3Q/aY2U/+eOkFODT0yDilONcZbQyZUq6wyeQC5DZKrjZ11hmEmDjmOl/GLYVbR12aNGVC/Ynxapx4rvZsy/N5yhSVSswbWcfnaQNDIp6MXsp1LHRoeUp2S9hNYefzDNzMlpQQGFhHXJ6OUspT4mmQ5vOsebWSFLWNjr3MU5v6G59PmFeLyavlgdL1oD9V6k+aQs1Eq0kxMxOxk4U805YmReuGxaR8TOGDnbOakMdCUgh5yDbMcyrDtjyNa9trd3COK/gvNRaZ9IC/B+3+Uh1TwEKpUxpsRawe9x3HKWt1yqhCVeKVhGd0SDFP6JDHwW8aUorw38/OOmpahWGeFicbbf6y7V4CTaeR26m2z2dM4Yg8C55FnjNFVeR5U9REXjBFXeRFUzREuqYYEfkvU4yK/LcpxkT+31DAzoc+t8rFpz63y8VnPv/HKJ5q/wWM/wXG/8A3AaNIDxhFXgJGkRoYRV4GRpFNYBQ5B4wi/weMIueBUaQx9LBsNd8g7GxKkcY2knJAspF+Cwz7bfYxSVcMUY+OqYTO7mp5xn7TAq3k89Wd8jhn+UqrqDtn4uSqLRO8VjJz7PF1Q7dKvDdg58SHg2DCEPxovTr7nZKfzmN9t7junEFGN5E/9Y7ByyrK7vp8ywTnHvp8+/dM2YnWYX4HJVFnmxRQj5WWzn6R5z3d0xkla8ifHUz0bcc5cxrx7xqgwoDgrzThsai9mQea6GEOX/d2jykY+OCaDsWKOJV5f7qYfFuhKrnfVuaqF20ob+BoRLkurXUX04dqHkBLYGPw2FeidENzNco2FhJsMhfrVN6gg3cyTQg9p7uooUaELvKCKKOkdFQQLVE0TlJIrqOh6oe8wqNk1CxB4HNh8MrtxkLJ7wsHBE19bsiBfghqHogaueoQZ13dk2BSrYeiLxMYMqpWkoAeas+FZlsJZ7uUN5rYvdj77Tso1FEdPKyMljZ+NEQQbZcmla/ngylul/Kx0RQIa108zA9tUATOaQzgkx31wl710/3WR9o8M3y3faTT0PC9do7A0ixAe9gGZQk4gGm002Fgd6cFNVo90HeH7jp4NPCG/4VW7P1T3Sfws7uApfGE7Km3Z4cYYyFjO/+u5O/pIQH67v6Ue0j5zGA4+0rm8FTANzGLz4/RvzCFck6f4ltYvzR8B+KVsBaDV+rmQPFrj/WAHEEABFA0xj1STOcCsb22OWv7WIMLbv9R8XXVH9Pf7L9wO5p/yojY+p5RRBWHICb24QGIKw5BguZDkaQBKRqQpgEZmhdFlgbkaECeBhRo3hRFGlCiAWUaUKH5VFRpQI0G1GlAg+ZV0aQBLRrQpgGGmLfhae4wmI+qrqsnVY8zw/CsQ1/Mu7AeMLj1ELn1CLnpWMz7MJ0wuOkUuekMuelczIcwXTC46RK56Qq56Vqcy5Oj4Ofp9dq8MMzjq/gu+Kbc7AERbE1geNpj8N7BcCIoYiMjY1/kBsadHAwcDMkFGxnYnDYyMGhBaA4UeicDAwMnMouZwWWjCmNHYMQGh46IjcwpLhvVQLxdHA0MjCwOHckhESAlkUCwkYFHawfj/9YNLL0bmYC6WFNcAJhIJBt42mNAAgAADAABAAB42kzMtYFCYRAE4PntDncPsQYgxiF/ORFWChWgIW4VUAp1kOODbPStDYCI8EDgVRZACzhh0RL/aNIKKbRpjSD6tIEbU/rvZ+4WOaxpDxLiRPt+8v3PfAWh7QDm4kwLROSQlvDIA63QkEdaIyuvtEFCZei/n7lb9lSR9iBvVrTvJ9//yK/eWqOK5ciBGPrO/grdljxtWA4zM99SHY8y7sRUdg9+/SodpuUyvZIftKSyGtamk1p6m7yjOAy/t+IwCmmBG9MpaD8xXCTs02qRKO8pOfp0Rf5G66kuaDbRbc6H6/qAT073zYjjPe50M10vlYVdKusOU6xCGqMHjNYN5YXSEdeNKQsKVag+vXJK/8Vj0tuJfr+vcm3TCz1Qkjz17reOfiO8lJK+rlyLfa9vbEp73HDd4zZdNURbOueHrSjPO0hNc/1zvzy3fV0zSSEzCReNyLpFm2uyKdP+6gZtV1xckzeuCT7dthypSInZvZZ0T5tMn2VM7iSalmZ3SdsxL7W2GguCJqlNZRvVmOzqyMH20sbrfzCPEhWGqGHQQQoLwlskeCffGKFc39FyKJKHsABG47gFCPtIBLPgRN6+VFYdVvB+6Rzh053zN6mtC0c711kkgtpg5KJfF3wg+ASnkmcwEhxjDyyuXWTQkrAkWQWs+9ZSZ5eh3InHQK94tB67/CbrCCxvmYHLJMlQ7vn0h7P0f3+azmcCfXcp5NCw4n8h3wHUTc9TePcfp/448fKGpR9yHiX78IRp3LnITaxxc+qBhU93GyJsQYuaX92KEidP6qlUmkfKfUHngvpuD+Jww8jkm7i5NTdpXcFtl0/uROzUq9iQ7zYqx33ovPHIwQc923IE5R53shdzCRo9eYzUNc7kLbUHM9EucRa7DluMwZO6lasSHMjVIHF7q2AFK5ee3U05wLboN/5G8wPUoVjhAHjabME3AYMAAADB//Teu4Vs2ZNghOIFE7QVT6AGDHDHCAC6lA9D3oCMGLNmw4kffwIiEkc0tI6dUDglp6Zy5tyFS1eu3bh1596DR0+evXj15t2HT1/zviW5NkAAhoIAWrPNF7SL74G7w/zRq97J/3EmstRVksnvfNvtt8/7pi0iTEPxMMA49AQZCtSu0hKuoIWuu4hLOH5LBBkKnMJ5M6YUYISpAMYdQXoAAAAAAQAB//8ADw==) format("woff"),url(/static/KaTeX_Size2-Regular-eb130dcc661de766c999c60ba1525a88.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size3;src:url(data:font/woff2;base64,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) format("woff2"),url(data:font/woff;base64,d09GRgABAAAAABHYAA4AAAAAH7gAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAAHnAAAAE4AAABgRbpbgGNtYXAAAAfsAAAAogAAAar/FJbOY3Z0IAAADoQAAAAKAAAADAAAAABmcGdtAAAIkAAABYwAAAuX1RTb8Gdhc3AAABHQAAAACAAAAAgAAAAQZ2x5ZgAAAUQAAAVKAAAHzrxbewZoZWFkAAAG6AAAADYAAAA2EIN07WhoZWEAAAd8AAAAHwAAACQGBgH2aG10eAAAByAAAABbAAAAbD0F+5psb2NhAAAGsAAAADgAAAA4GmscjW1heHAAAAaQAAAAHwAAACAArwv5bmFtZQAADpAAAALCAAAG50zL6Ldwb3N0AAARVAAAAHoAAAC6UaNkMnByZXAAAA4cAAAAaAAAAH/i0Eg6eNqtVWOcJMkTzcjMyiw1Sj3asdZo7uxgrcFitP7btm3bONu2bX86W2uruvYiu/vD2RHlehUvX0T8ogglaULILTQgjEiiXyg4EDpzSsbJOJ0ZpzX9j4+l0zQobk7DuQTIveEAvVI7jTQQcb5DYeYU8GVrZ0cnYR25bMGFfKGQSQW+FNRJem5Vil4pGnlDV3TbDClnQL6rgTcK6/or52182gpHmeDVvTBGe1Z942vDtBvGequ5YNy+rXhV9PXo+iMk+ttWmyBrC7LGkbUOWX2OrO1JyOYzmapUFfEUHQUhZWtLRy5fIHBG9A09nkBWyCvW6DZkTSTkjG5oOsxq4Dc6R9ro9OKNw1/7+uriDdHpSMv1GUPwI8VVCAfYw8gVIJdBkMtrUdLypJDPpFNSMIFpkmK1lQDGvkC1pO2A+GNjdO2G6BEuwwHX5NQw2pntWm704+HwjJ3hXm6pyPtRBcfIEiNDKbLTHLQ6mWA/xO6+OxwwPti3v75PIWdX1lCFyHg5y6K1pbMDOkgnzaHyVFUKUqTKZQ8nzYTk0SMbomsb/5a0Y4JD6waY2/j38BNW0uLM2slGh+F3uh2nBg/37gzPGI6+jAxWOADVlbUwUGvJNTvNuYxjQSzafbf2ub59x/bpTyHyJ7jqzyByJSKbFRJUwTtwY1Sd0bP5fKHknqtOhUwVlgR7QLlgVB1lnEpZlUrh5vkBntSujgH9jGiIf+g7rgZo9kcW2wCU63Nn5WOAprXfmGwQ1Gyr/aDPSw8SH1/JbEkNZ+wLSfUNB/+DtW0mDVcLMfH7A0E3OLDAXPHjdsmZrzPe3L14xIQF4PQE/x6TIpGklLv+8g/4s6Pt0Y6eYPG3JlPBgRmTv78s6Il2zhy402H0A8t9l1OaVNX4aSUDSzEDHaoabjbfTStiPJSBjk2IIpXLimDVjr00W8mMWz4VCipfmDf0n2q2Fk984NuuAJTsfKq9WjLg2pzJCxMUnwj32x9IxJOCS07/UQMUYtmq9kkzff/yOryp+Uecar9oQMnf7a/qjXZE18S/MT7B4iJmou76Gcs3xaOrox29Vf3fnSi4KYUhGMDw7xz6teTK+fUNTTWG+eHjHfpV53fDgqPKIyHNaiczTjxUaXJUyURboaDxjC9lS1tri8ax7NyEz1x2GXwWnXOt2MNZ9N/o/4xzuoGNTZk6Ogae94uFCz1P5Q3oR7Tj6FbSjhFlqd87y+nIpMtJy6TxuqrUKNjcyltbpLDMj/i//Eqmq9se+uH6OdMKx+8LmPn10/5or7eHfry+a7p6QD/SzJq0KQkd9PZaXa6SzVprzgaQHaU7ZD+0lmYJe7keeB09h9a+XBAvdr+xIDi0iX7kSPRyPfC29Bz65PsgCMgXw34WYhfWI3udp9ixj7KlTuvo7CwUvGx5QlX5ROKwgFPoQ9AkHa4JGRscuhdCKmxhQ/EBzgI7HAROgWWtCUJqeuw73w5nM/1TmmlKfd9N3FDV24dd34182sunVbOzDxZHB0uzat9jlTmySqFePkdaHQsW95VmiNH8BrEyGG1fH0gVat9jfeT1YoFC5cDtiy4Pf20040RC1A/CfvoHRKUQ5WqIKuQ8t6Q8CBj1PS/wVfbZDza/SK1kzHkeza1O0Bd3ObSf9vOEG9OLVxSvEsWrilcacSfBab9i/wCu8YuVmWuX534OI2cZDtxyiTE0o1J8vwEjvgCG71j0xc2bN4MeDjQYdCFdIOgCuihGaSrBixcVL3KKFxYvgAShBA2mko9V/rBa+Q87K5cJMrh/rGzkbeOAKPuYwpXzWcaody8Bug6YdwAAeNpjYGRgYJBmCGBgYgACMCnAUA4kpbingwQAFRABtAAAAAAWABYAFgAWAFEAhwC0AMkA+gEPAZACAwIDAiwCawKUAtMDCwMeAzEDRANXA4MDsQPFA9kD5wABAAAAAQAAd4gR/V8PPPUACwPoAAAAANiymQoAAAAA2LKZCvpY/EoFpwWqAAAACAACAAAAAAAAeNpj+MVgxAAEjL4MDEA2A9MDhotArMQiwmDOJMDwHUhbAGlupncMTUDcDFLDuuT/H9YlDIxADRFAHMv8giGfyZ3hGxBzQ2iw+jogjmPUYWAAYYYUBgYASjgYwQB42mNgZGBgXfXHiyGKdcmviP9vWJcDRVCBNACq/gb/AHjaY2BiWs04gYGVgYGpi2kPAwNDD4RmfMBgyMjEgAQaGBjeCzC8eQvjB6S5pjA4MCi8/8+s8N+CIYp1FfM2BQaG/jhmuBYFBkYALwQQzQAAeNpjYGBghmIZBkYGEFgC5DGC+SwMHUBajkEAKMLHoMCgyaDPEMtQzVDLsIDpGNMdZmYlKWVu9Zfv////z8AAlNcAykcjyTMB5TnUX7z/C1Tw+P+d/9f/r/nf/7/vf85f979Gf3nvfr/LdUNPQBpoGwHAyAbEMDYTkGBCVwDyAgSwsIIpNgbiATsHJ155LgZuBmoAQQjFQ4IWXj4YCwD1UyhaAAB42qxV5ZrjyA4th5phGHxBnpr07ZuUPcxsx8nwNH6fa9Fu+r28+wx+GjnL//bR9shJc/dyQ1SlUklHR1KFlSFWq0lsiV79pKYXX3Fj+b2Eb7o8b9MtylcTrjSzn0fVqFpf12uu57GyrCLd6StHRWnos2OY0i2fK4Y2iH9Z4Nrce/15ZzyK1+Ol9xNPe26eEC8sJB4/tS7xXVndtZaKgVG2wfNQDXfEV+X8KizhLCGAyDPi8YUkhYbkbFxWt2V1O3VTa63LTttazWoh2bTW56oh+Kk1MwCqRwsJ13XIDR0CvmUn9blmNHDRRlFfC0lOBsHlk1Uar3O15UEfUU45fBdX602ktZikC262ZBNtcfp0OcGRi6S2I/tcNzwStfuqMqCmga0ONbHSYcaVtS121hGf6y2fRwwJyIlo/aeaWiPxwE9TKyZppwQ5avojEyqKw5a3Q/aY2U/+eOkFODT0yDilONcZbQyZUq6wyeQC5DZKrjZ11hmEmDjmOl/GLYVbR12aNGVC/Ynxapx4rvZsy/N5yhSVSswbWcfnaQNDIp6MXsp1LHRoeUp2S9hNYefzDNzMlpQQGFhHXJ6OUspT4mmQ5vOsebWSFLWNjr3MU5v6G59PmFeLyavlgdL1oD9V6k+aQs1Eq0kxMxOxk4U805YmReuGxaR8TOGDnbOakMdCUgh5yDbMcyrDtjyNa9trd3COK/gvNRaZ9IC/B+3+Uh1TwEKpUxpsRawe9x3HKWt1yqhCVeKVhGd0SDFP6JDHwW8aUorw38/OOmpahWGeFicbbf6y7V4CTaeR26m2z2dM4Yg8C55FnjNFVeR5U9REXjBFXeRFUzREuqYYEfkvU4yK/LcpxkT+31DAzoc+t8rFpz63y8VnPv/HKJ5q/wWM/wXG/8A3AaNIDxhFXgJGkRoYRV4GRpFNYBQ5B4wi/weMIueBUaQx9LBsNd8g7GxKkcY2knJAspF+Cwz7bfYxSVcMUY+OqYTO7mp5xn7TAq3k89Wd8jhn+UqrqDtn4uSqLRO8VjJz7PF1Q7dKvDdg58SHg2DCEPxovTr7nZKfzmN9t7junEFGN5E/9Y7ByyrK7vp8ywTnHvp8+/dM2YnWYX4HJVFnmxRQj5WWzn6R5z3d0xkla8ifHUz0bcc5cxrx7xqgwoDgrzThsai9mQea6GEOX/d2jykY+OCaDsWKOJV5f7qYfFuhKrnfVuaqF20ob+BoRLkurXUX04dqHkBLYGPw2FeidENzNco2FhJsMhfrVN6gg3cyTQg9p7uooUaELvKCKKOkdFQQLVE0TlJIrqOh6oe8wqNk1CxB4HNh8MrtxkLJ7wsHBE19bsiBfghqHogaueoQZ13dk2BSrYeiLxMYMqpWkoAeas+FZlsJZ7uUN5rYvdj77Tso1FEdPKyMljZ+NEQQbZcmla/ngylul/Kx0RQIa108zA9tUATOaQzgkx31wl710/3WR9o8M3y3faTT0PC9do7A0ixAe9gGZQk4gGm002Fgd6cFNVo90HeH7jp4NPCG/4VW7P1T3Sfws7uApfGE7Km3Z4cYYyFjO/+u5O/pIQH67v6Ue0j5zGA4+0rm8FTANzGLz4/RvzCFck6f4ltYvzR8B+KVsBaDV+rmQPFrj/WAHEEABFA0xj1STOcCsb22OWv7WIMLbv9R8XXVH9Pf7L9wO5p/yojY+p5RRBWHICb24QGIKw5BguZDkaQBKRqQpgEZmhdFlgbkaECeBhRo3hRFGlCiAWUaUKH5VFRpQI0G1GlAg+ZV0aQBLRrQpgGGmLfhae4wmI+qrqsnVY8zw/CsQ1/Mu7AeMLj1ELn1CLnpWMz7MJ0wuOkUuekMuelczIcwXTC46RK56Qq56Vqcy5Oj4Ofp9dq8MMzjq/gu+Kbc7AERbE1geNpj8N7BcCIoYiMjY1/kBsadHAwcDMkFGxnYnDYyMGhBaA4UeicDAwMnMouZwWWjCmNHYMQGh46IjcwpLhvVQLxdHA0MjCwOHckhESAlkUCwkYFHawfj/9YNLL0bmYC6WFNcAJhIJBt42mNAAgAADAABAAB42kzMtYFCYRAE4PntDncPsQYgxiF/ORFWChWgIW4VUAp1kOODbPStDYCI8EDgVRZACzhh0RL/aNIKKbRpjSD6tIEbU/rvZ+4WOaxpDxLiRPt+8v3PfAWh7QDm4kwLROSQlvDIA63QkEdaIyuvtEFCZei/n7lb9lSR9iBvVrTvJ9//yK/eWqPCnsSBIPo+91fMR0nKUpAPSowJOUNCIBLFGL+ZtYx0tZSmu1D11984cB7cSc67XDbbfXl9897s7LJ8rdw8C3SUNqiTJKfNTtJO6IK9mxc0TR0XKcc0LFIT/Spud9/FJzTKbEH91M548TqyN3x3P3VvfHzN81Vuq8GyCINlNWfqmIR6tKNobiWfULdcebcsKDGJ6R7oMv60TTo6q+vaLGzInuyLkeTzxpda3xY+C2U3zKY4jmoXMrpmz9WaZ/R+Ibq0C969iomim8z5zc/p8jHUtmISIncpF17KVsWMKwoZ03Q4pknJxUY83ghi+nHltmkbMftZS3ZtXW4fcibtxNKgf0U29KIshLLXavm0cmXwxrv8veXWZDA+/AffsESJV1RwmCNDAOEIKRpydpDIOkVTUVs24QIMr9oChClSwSw4lW8szFCxQfRH5za6H84nwo1EY9W1j1TQDIyF1I8E3wi+w73kObwJPsY1WFxXyGElYSBZBYKelfCsGUY77oEOeDT3Xb6ougXL18NpJkmG0d39y1nGX5+m+pyh1mWwgEUQ/yc5X2C2dz5H4z9OfT/xeauye5rd5BiRKJ32RToxr3Nag0VPHy9EuISVaj74KkacIuEzYfxe5VTQo6Ba34FBW0UuZ6pz89u0leCZ5pN2xFo9xFjOCUrV7jqP9xxi0G+v3IbRrZ19mkuwWMt2wls8yFe4nZlYTezjSnFAD5HwQVYpuCXLI9V3KxEEG03PP6bcwkTqx/9S8x3ziVjpAAB42m1JxQHCQBCcucMdvhSBu2sXuLtXQC30BM1gyT6zMgoFYz53JGE1UQCEgoYXPkRQRQ119DGkwhMvatrwoJ0OOumimx566aPfeduv4vFG3OBUPOm+rrbT2eSwG/+TZCqeFy4IN4SbBuc6eWGj73S7beGOcPcL1/sicgAAAAEAAf//AA8=) format("woff"),url(data:font/ttf;base64,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ZQBYAF8AUwBpAHoAZQAzAC0AUgBlAGcAdQBsAGEAcgBWAGUAcgBzAGkAbwBuACAAMAAuADAALgA0AEMAbwBwAHkAcgBpAGcAaAB0ACAAKABjACkAIAAyADAAMAA5AC0AMgAwADEAMAAsACAARABlAHMAaQBnAG4AIABTAGMAaQBlAG4AYwBlACwAIABJAG4AYwAuACAAKAA8AHcAdwB3AC4AbQBhAHQAaABqAGEAeAAuAG8AcgBnAD4AKQAKAEMAbwBwAHkAcgBpAGcAaAB0ACAAKABjACkAIAAyADAAMQA0AC0AMgAwADEAOAAgAEsAaABhAG4AIABBAGMAYQBkAGUAbQB5ACAAKAA8AHcAdwB3AC4AawBoAGEAbgBhAGMAYQBkAGUAbQB5AC4AbwByAGcAPgApACwACgB3AGkAdABoACAAUgBlAHMAZQByAHYAZQBkACAARgBvAG4AdAAgAE4AYQBtAGUAIABLAGEAVABlAFgAXwBTAGkAegBlADMALgAKAAoAVABoAGkAcwAgAEYAbwBuAHQAIABTAG8AZgB0AHcAYQByAGUAIABpAHMAIABsAGkAYwBlAG4AcwBlAGQAIAB1AG4AZABlAHIAIAB0AGgAZQAgAFMASQBMACAATwBwAGUAbgAgAEYAbwBuAHQAIABMAGkAYwBlAG4AcwBlACwAIABWAGUAcgBzAGkAbwBuACAAMQAuADEALgAKAFQAaABpAHMAIABsAGkAYwBlAG4AcwBlACAAYQB2AGEAaQBsAGEAYgBsAGUAIAB3AGkAdABoACAAYQAgAEYAQQBRACAAYQB0ADoACgBoAHQAdABwADoALwAvAHMAYwByAGkAcAB0AHMALgBzAGkAbAAuAG8AcgBnAC8ATwBGAEwAaAB0AHQAcAA6AC8ALwBzAGMAcgBpAHAAdABzAC4AcwBpAGwALgBvAHIAZwAvAE8ARgBMAAACAAAAAAAA/4MAMgAAAAAAAAAAAAAAAAAAAAAAAAAAABsAAAABAAIAAwALAAwAEgA+AD8AQABeAGABAgDYANkBAwEEAKUBBQEGAQcBCAEJAQoBCwEMAQ0HdW5pMDBBMAd1bmkwMzAyCXRpbGRlY29tYgd1bmkyMzA4B3VuaTIzMDkHdW5pMjMwQQd1bmkyMzBCB3VuaTI3RTgHdW5pMjdFOQd1bmlFRkZEB3VuaUVGRkUHdW5pRUZGRgAAAAEAAf//AA8=) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size4;src:url(data:font/woff2;base64,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) format("woff2"),url(data:font/woff;base64,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) format("woff"),url(/static/KaTeX_Size4-Regular-ad7672524b64b730dfd176140a8945cb.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Typewriter;src:url(/static/KaTeX_Typewriter-Regular-6cc31ea5c223c88705a13727a71417fa.woff2) format("woff2"),url(/static/KaTeX_Typewriter-Regular-3fe216d2a5f736c560cde71984554b64.woff) format("woff"),url(/static/KaTeX_Typewriter-Regular-257023560753aeb0b89b7e434d3da17f.ttf) format("truetype");font-weight:400;font-style:normal}.katex{font:normal 1.21em KaTeX_Main,Times New Roman,serif;line-height:1.2;text-indent:0;text-rendering:auto}.katex *{-ms-high-contrast-adjust:none!important}.katex .katex-version:after{content:"0.10.2"}.katex .katex-mathml{position:absolute;clip:rect(1px,1px,1px,1px);padding:0;border:0;height:1px;width:1px;overflow:hidden}.katex .katex-html>.newline{display:block}.katex .base{position:relative;white-space:nowrap;width:-webkit-min-content;width:min-content}.katex .base,.katex .strut{display:inline-block}.katex .textbf{font-weight:700}.katex .textit{font-style:italic}.katex .textrm{font-family:KaTeX_Main}.katex .textsf{font-family:KaTeX_SansSerif}.katex .texttt{font-family:KaTeX_Typewriter}.katex .mathdefault{font-family:KaTeX_Math;font-style:italic}.katex .mathit{font-family:KaTeX_Main;font-style:italic}.katex .mathrm{font-style:normal}.katex .mathbf{font-family:KaTeX_Main;font-weight:700}.katex .boldsymbol{font-family:KaTeX_Math;font-weight:700;font-style:italic}.katex .amsrm,.katex .mathbb,.katex .textbb{font-family:KaTeX_AMS}.katex .mathcal{font-family:KaTeX_Caligraphic}.katex .mathfrak,.katex .textfrak{font-family:KaTeX_Fraktur}.katex .mathtt{font-family:KaTeX_Typewriter}.katex .mathscr,.katex .textscr{font-family:KaTeX_Script}.katex .mathsf,.katex .textsf{font-family:KaTeX_SansSerif}.katex .mathboldsf,.katex .textboldsf{font-family:KaTeX_SansSerif;font-weight:700}.katex .mathitsf,.katex .textitsf{font-family:KaTeX_SansSerif;font-style:italic}.katex .mainrm{font-family:KaTeX_Main;font-style:normal}.katex .vlist-t{display:inline-table;table-layout:fixed}.katex .vlist-r{display:table-row}.katex .vlist{display:table-cell;vertical-align:bottom;position:relative}.katex .vlist>span{display:block;height:0;position:relative}.katex .vlist>span>span{display:inline-block}.katex .vlist>span>.pstrut{overflow:hidden;width:0}.katex .vlist-t2{margin-right:-2px}.katex .vlist-s{display:table-cell;vertical-align:bottom;font-size:1px;width:2px;min-width:2px}.katex .msupsub{text-align:left}.katex .mfrac>span>span{text-align:center}.katex .mfrac .frac-line{display:inline-block;width:100%;border-bottom-style:solid}.katex .hdashline,.katex .hline,.katex .mfrac .frac-line,.katex .overline .overline-line,.katex .rule,.katex .underline .underline-line{min-height:1px}.katex .mspace{display:inline-block}.katex .clap,.katex .llap,.katex .rlap{width:0;position:relative}.katex .clap>.inner,.katex .llap>.inner,.katex .rlap>.inner{position:absolute}.katex .clap>.fix,.katex .llap>.fix,.katex .rlap>.fix{display:inline-block}.katex .llap>.inner{right:0}.katex .clap>.inner,.katex .rlap>.inner{left:0}.katex .clap>.inner>span{margin-left:-50%;margin-right:50%}.katex .rule{display:inline-block;border:0 solid;position:relative}.katex .hline,.katex .overline .overline-line,.katex .underline .underline-line{display:inline-block;width:100%;border-bottom-style:solid}.katex .hdashline{display:inline-block;width:100%;border-bottom-style:dashed}.katex .sqrt>.root{margin-left:.27777778em;margin-right:-.55555556em}.katex .fontsize-ensurer,.katex .sizing{display:inline-block}.katex .fontsize-ensurer.reset-size1.size1,.katex .sizing.reset-size1.size1{font-size:1em}.katex .fontsize-ensurer.reset-size1.size2,.katex .sizing.reset-size1.size2{font-size:1.2em}.katex .fontsize-ensurer.reset-size1.size3,.katex .sizing.reset-size1.size3{font-size:1.4em}.katex .fontsize-ensurer.reset-size1.size4,.katex .sizing.reset-size1.size4{font-size:1.6em}.katex .fontsize-ensurer.reset-size1.size5,.katex .sizing.reset-size1.size5{font-size:1.8em}.katex .fontsize-ensurer.reset-size1.size6,.katex .sizing.reset-size1.size6{font-size:2em}.katex .fontsize-ensurer.reset-size1.size7,.katex .sizing.reset-size1.size7{font-size:2.4em}.katex .fontsize-ensurer.reset-size1.size8,.katex .sizing.reset-size1.size8{font-size:2.88em}.katex .fontsize-ensurer.reset-size1.size9,.katex .sizing.reset-size1.size9{font-size:3.456em}.katex .fontsize-ensurer.reset-size1.size10,.katex .sizing.reset-size1.size10{font-size:4.148em}.katex .fontsize-ensurer.reset-size1.size11,.katex .sizing.reset-size1.size11{font-size:4.976em}.katex .fontsize-ensurer.reset-size2.size1,.katex .sizing.reset-size2.size1{font-size:.83333333em}.katex .fontsize-ensurer.reset-size2.size2,.katex .sizing.reset-size2.size2{font-size:1em}.katex .fontsize-ensurer.reset-size2.size3,.katex .sizing.reset-size2.size3{font-size:1.16666667em}.katex .fontsize-ensurer.reset-size2.size4,.katex .sizing.reset-size2.size4{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size2.size5,.katex .sizing.reset-size2.size5{font-size:1.5em}.katex .fontsize-ensurer.reset-size2.size6,.katex .sizing.reset-size2.size6{font-size:1.66666667em}.katex .fontsize-ensurer.reset-size2.size7,.katex .sizing.reset-size2.size7{font-size:2em}.katex .fontsize-ensurer.reset-size2.size8,.katex .sizing.reset-size2.size8{font-size:2.4em}.katex .fontsize-ensurer.reset-size2.size9,.katex .sizing.reset-size2.size9{font-size:2.88em}.katex .fontsize-ensurer.reset-size2.size10,.katex .sizing.reset-size2.size10{font-size:3.45666667em}.katex .fontsize-ensurer.reset-size2.size11,.katex .sizing.reset-size2.size11{font-size:4.14666667em}.katex .fontsize-ensurer.reset-size3.size1,.katex .sizing.reset-size3.size1{font-size:.71428571em}.katex .fontsize-ensurer.reset-size3.size2,.katex .sizing.reset-size3.size2{font-size:.85714286em}.katex .fontsize-ensurer.reset-size3.size3,.katex .sizing.reset-size3.size3{font-size:1em}.katex .fontsize-ensurer.reset-size3.size4,.katex .sizing.reset-size3.size4{font-size:1.14285714em}.katex .fontsize-ensurer.reset-size3.size5,.katex .sizing.reset-size3.size5{font-size:1.28571429em}.katex .fontsize-ensurer.reset-size3.size6,.katex .sizing.reset-size3.size6{font-size:1.42857143em}.katex .fontsize-ensurer.reset-size3.size7,.katex .sizing.reset-size3.size7{font-size:1.71428571em}.katex .fontsize-ensurer.reset-size3.size8,.katex .sizing.reset-size3.size8{font-size:2.05714286em}.katex .fontsize-ensurer.reset-size3.size9,.katex .sizing.reset-size3.size9{font-size:2.46857143em}.katex .fontsize-ensurer.reset-size3.size10,.katex .sizing.reset-size3.size10{font-size:2.96285714em}.katex .fontsize-ensurer.reset-size3.size11,.katex .sizing.reset-size3.size11{font-size:3.55428571em}.katex .fontsize-ensurer.reset-size4.size1,.katex .sizing.reset-size4.size1{font-size:.625em}.katex .fontsize-ensurer.reset-size4.size2,.katex .sizing.reset-size4.size2{font-size:.75em}.katex .fontsize-ensurer.reset-size4.size3,.katex .sizing.reset-size4.size3{font-size:.875em}.katex .fontsize-ensurer.reset-size4.size4,.katex .sizing.reset-size4.size4{font-size:1em}.katex .fontsize-ensurer.reset-size4.size5,.katex .sizing.reset-size4.size5{font-size:1.125em}.katex .fontsize-ensurer.reset-size4.size6,.katex .sizing.reset-size4.size6{font-size:1.25em}.katex .fontsize-ensurer.reset-size4.size7,.katex .sizing.reset-size4.size7{font-size:1.5em}.katex .fontsize-ensurer.reset-size4.size8,.katex .sizing.reset-size4.size8{font-size:1.8em}.katex .fontsize-ensurer.reset-size4.size9,.katex .sizing.reset-size4.size9{font-size:2.16em}.katex .fontsize-ensurer.reset-size4.size10,.katex .sizing.reset-size4.size10{font-size:2.5925em}.katex .fontsize-ensurer.reset-size4.size11,.katex .sizing.reset-size4.size11{font-size:3.11em}.katex .fontsize-ensurer.reset-size5.size1,.katex .sizing.reset-size5.size1{font-size:.55555556em}.katex .fontsize-ensurer.reset-size5.size2,.katex .sizing.reset-size5.size2{font-size:.66666667em}.katex .fontsize-ensurer.reset-size5.size3,.katex .sizing.reset-size5.size3{font-size:.77777778em}.katex .fontsize-ensurer.reset-size5.size4,.katex .sizing.reset-size5.size4{font-size:.88888889em}.katex .fontsize-ensurer.reset-size5.size5,.katex .sizing.reset-size5.size5{font-size:1em}.katex .fontsize-ensurer.reset-size5.size6,.katex .sizing.reset-size5.size6{font-size:1.11111111em}.katex .fontsize-ensurer.reset-size5.size7,.katex .sizing.reset-size5.size7{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size5.size8,.katex .sizing.reset-size5.size8{font-size:1.6em}.katex .fontsize-ensurer.reset-size5.size9,.katex .sizing.reset-size5.size9{font-size:1.92em}.katex .fontsize-ensurer.reset-size5.size10,.katex .sizing.reset-size5.size10{font-size:2.30444444em}.katex .fontsize-ensurer.reset-size5.size11,.katex .sizing.reset-size5.size11{font-size:2.76444444em}.katex .fontsize-ensurer.reset-size6.size1,.katex .sizing.reset-size6.size1{font-size:.5em}.katex .fontsize-ensurer.reset-size6.size2,.katex .sizing.reset-size6.size2{font-size:.6em}.katex .fontsize-ensurer.reset-size6.size3,.katex .sizing.reset-size6.size3{font-size:.7em}.katex .fontsize-ensurer.reset-size6.size4,.katex .sizing.reset-size6.size4{font-size:.8em}.katex .fontsize-ensurer.reset-size6.size5,.katex .sizing.reset-size6.size5{font-size:.9em}.katex .fontsize-ensurer.reset-size6.size6,.katex .sizing.reset-size6.size6{font-size:1em}.katex .fontsize-ensurer.reset-size6.size7,.katex .sizing.reset-size6.size7{font-size:1.2em}.katex .fontsize-ensurer.reset-size6.size8,.katex .sizing.reset-size6.size8{font-size:1.44em}.katex .fontsize-ensurer.reset-size6.size9,.katex .sizing.reset-size6.size9{font-size:1.728em}.katex .fontsize-ensurer.reset-size6.size10,.katex .sizing.reset-size6.size10{font-size:2.074em}.katex .fontsize-ensurer.reset-size6.size11,.katex .sizing.reset-size6.size11{font-size:2.488em}.katex .fontsize-ensurer.reset-size7.size1,.katex .sizing.reset-size7.size1{font-size:.41666667em}.katex .fontsize-ensurer.reset-size7.size2,.katex .sizing.reset-size7.size2{font-size:.5em}.katex .fontsize-ensurer.reset-size7.size3,.katex .sizing.reset-size7.size3{font-size:.58333333em}.katex .fontsize-ensurer.reset-size7.size4,.katex .sizing.reset-size7.size4{font-size:.66666667em}.katex .fontsize-ensurer.reset-size7.size5,.katex .sizing.reset-size7.size5{font-size:.75em}.katex .fontsize-ensurer.reset-size7.size6,.katex .sizing.reset-size7.size6{font-size:.83333333em}.katex .fontsize-ensurer.reset-size7.size7,.katex .sizing.reset-size7.size7{font-size:1em}.katex .fontsize-ensurer.reset-size7.size8,.katex .sizing.reset-size7.size8{font-size:1.2em}.katex .fontsize-ensurer.reset-size7.size9,.katex .sizing.reset-size7.size9{font-size:1.44em}.katex .fontsize-ensurer.reset-size7.size10,.katex .sizing.reset-size7.size10{font-size:1.72833333em}.katex .fontsize-ensurer.reset-size7.size11,.katex .sizing.reset-size7.size11{font-size:2.07333333em}.katex .fontsize-ensurer.reset-size8.size1,.katex .sizing.reset-size8.size1{font-size:.34722222em}.katex .fontsize-ensurer.reset-size8.size2,.katex .sizing.reset-size8.size2{font-size:.41666667em}.katex .fontsize-ensurer.reset-size8.size3,.katex .sizing.reset-size8.size3{font-size:.48611111em}.katex .fontsize-ensurer.reset-size8.size4,.katex .sizing.reset-size8.size4{font-size:.55555556em}.katex .fontsize-ensurer.reset-size8.size5,.katex .sizing.reset-size8.size5{font-size:.625em}.katex .fontsize-ensurer.reset-size8.size6,.katex .sizing.reset-size8.size6{font-size:.69444444em}.katex .fontsize-ensurer.reset-size8.size7,.katex .sizing.reset-size8.size7{font-size:.83333333em}.katex .fontsize-ensurer.reset-size8.size8,.katex .sizing.reset-size8.size8{font-size:1em}.katex .fontsize-ensurer.reset-size8.size9,.katex .sizing.reset-size8.size9{font-size:1.2em}.katex .fontsize-ensurer.reset-size8.size10,.katex .sizing.reset-size8.size10{font-size:1.44027778em}.katex .fontsize-ensurer.reset-size8.size11,.katex .sizing.reset-size8.size11{font-size:1.72777778em}.katex .fontsize-ensurer.reset-size9.size1,.katex .sizing.reset-size9.size1{font-size:.28935185em}.katex .fontsize-ensurer.reset-size9.size2,.katex .sizing.reset-size9.size2{font-size:.34722222em}.katex .fontsize-ensurer.reset-size9.size3,.katex .sizing.reset-size9.size3{font-size:.40509259em}.katex .fontsize-ensurer.reset-size9.size4,.katex .sizing.reset-size9.size4{font-size:.46296296em}.katex .fontsize-ensurer.reset-size9.size5,.katex .sizing.reset-size9.size5{font-size:.52083333em}.katex .fontsize-ensurer.reset-size9.size6,.katex .sizing.reset-size9.size6{font-size:.5787037em}.katex .fontsize-ensurer.reset-size9.size7,.katex .sizing.reset-size9.size7{font-size:.69444444em}.katex .fontsize-ensurer.reset-size9.size8,.katex .sizing.reset-size9.size8{font-size:.83333333em}.katex .fontsize-ensurer.reset-size9.size9,.katex .sizing.reset-size9.size9{font-size:1em}.katex .fontsize-ensurer.reset-size9.size10,.katex .sizing.reset-size9.size10{font-size:1.20023148em}.katex .fontsize-ensurer.reset-size9.size11,.katex .sizing.reset-size9.size11{font-size:1.43981481em}.katex .fontsize-ensurer.reset-size10.size1,.katex .sizing.reset-size10.size1{font-size:.24108004em}.katex .fontsize-ensurer.reset-size10.size2,.katex .sizing.reset-size10.size2{font-size:.28929605em}.katex .fontsize-ensurer.reset-size10.size3,.katex .sizing.reset-size10.size3{font-size:.33751205em}.katex .fontsize-ensurer.reset-size10.size4,.katex .sizing.reset-size10.size4{font-size:.38572806em}.katex .fontsize-ensurer.reset-size10.size5,.katex .sizing.reset-size10.size5{font-size:.43394407em}.katex .fontsize-ensurer.reset-size10.size6,.katex .sizing.reset-size10.size6{font-size:.48216008em}.katex .fontsize-ensurer.reset-size10.size7,.katex .sizing.reset-size10.size7{font-size:.57859209em}.katex .fontsize-ensurer.reset-size10.size8,.katex .sizing.reset-size10.size8{font-size:.69431051em}.katex .fontsize-ensurer.reset-size10.size9,.katex .sizing.reset-size10.size9{font-size:.83317261em}.katex .fontsize-ensurer.reset-size10.size10,.katex .sizing.reset-size10.size10{font-size:1em}.katex .fontsize-ensurer.reset-size10.size11,.katex .sizing.reset-size10.size11{font-size:1.19961427em}.katex .fontsize-ensurer.reset-size11.size1,.katex .sizing.reset-size11.size1{font-size:.20096463em}.katex .fontsize-ensurer.reset-size11.size2,.katex .sizing.reset-size11.size2{font-size:.24115756em}.katex .fontsize-ensurer.reset-size11.size3,.katex .sizing.reset-size11.size3{font-size:.28135048em}.katex .fontsize-ensurer.reset-size11.size4,.katex .sizing.reset-size11.size4{font-size:.32154341em}.katex .fontsize-ensurer.reset-size11.size5,.katex .sizing.reset-size11.size5{font-size:.36173633em}.katex .fontsize-ensurer.reset-size11.size6,.katex .sizing.reset-size11.size6{font-size:.40192926em}.katex .fontsize-ensurer.reset-size11.size7,.katex .sizing.reset-size11.size7{font-size:.48231511em}.katex .fontsize-ensurer.reset-size11.size8,.katex .sizing.reset-size11.size8{font-size:.57877814em}.katex .fontsize-ensurer.reset-size11.size9,.katex .sizing.reset-size11.size9{font-size:.69453376em}.katex .fontsize-ensurer.reset-size11.size10,.katex .sizing.reset-size11.size10{font-size:.83360129em}.katex .fontsize-ensurer.reset-size11.size11,.katex .sizing.reset-size11.size11{font-size:1em}.katex .delimsizing.size1{font-family:KaTeX_Size1}.katex .delimsizing.size2{font-family:KaTeX_Size2}.katex .delimsizing.size3{font-family:KaTeX_Size3}.katex .delimsizing.size4{font-family:KaTeX_Size4}.katex .delimsizing.mult .delim-size1>span{font-family:KaTeX_Size1}.katex .delimsizing.mult .delim-size4>span{font-family:KaTeX_Size4}.katex .nulldelimiter{display:inline-block;width:.12em}.katex .delimcenter,.katex .op-symbol{position:relative}.katex .op-symbol.small-op{font-family:KaTeX_Size1}.katex .op-symbol.large-op{font-family:KaTeX_Size2}.katex .accent>.vlist-t,.katex .op-limits>.vlist-t{text-align:center}.katex .accent .accent-body{position:relative}.katex .accent .accent-body:not(.accent-full){width:0}.katex .overlay{display:block}.katex .mtable .vertical-separator{display:inline-block;margin:0 -.025em;border-right:.05em solid;min-width:1px}.katex .mtable .vs-dashed{border-right:.05em dashed}.katex .mtable .arraycolsep{display:inline-block}.katex .mtable .col-align-c>.vlist-t{text-align:center}.katex .mtable .col-align-l>.vlist-t{text-align:left}.katex .mtable .col-align-r>.vlist-t{text-align:right}.katex .svg-align{text-align:left}.katex svg{display:block;position:absolute;width:100%;height:inherit;fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1}.katex svg path{stroke:none}.katex img{border-style:none;min-width:0;min-height:0;max-width:none;max-height:none}.katex .stretchy{width:100%;display:block;position:relative;overflow:hidden}.katex .stretchy:after,.katex .stretchy:before{content:""}.katex .hide-tail{width:100%;position:relative;overflow:hidden}.katex .halfarrow-left{position:absolute;left:0;width:50.2%;overflow:hidden}.katex .halfarrow-right{position:absolute;right:0;width:50.2%;overflow:hidden}.katex .brace-left{position:absolute;left:0;width:25.1%;overflow:hidden}.katex .brace-center{position:absolute;left:25%;width:50%;overflow:hidden}.katex .brace-right{position:absolute;right:0;width:25.1%;overflow:hidden}.katex .x-arrow-pad{padding:0 .5em}.katex .mover,.katex .munder,.katex .x-arrow{text-align:center}.katex .boxpad{padding:0 .3em}.katex .fbox,.katex .fcolorbox{box-sizing:border-box;border:.04em solid}.katex .cancel-pad{padding:0 .2em}.katex .cancel-lap{margin-left:-.2em;margin-right:-.2em}.katex .sout{border-bottom-style:solid;border-bottom-width:.08em}.katex-display{display:block;margin:1em 0;text-align:center}.katex-display>.katex{display:block;text-align:center;white-space:nowrap}.katex-display>.katex>.katex-html{display:block;position:relative}.katex-display>.katex>.katex-html>.tag{position:absolute;right:0}.katex-display.leqno>.katex>.katex-html>.tag{left:0;right:auto}.katex-display.fleqn>.katex{text-align:left}</style><link href="//fonts.googleapis.com/css?family=Rubik:300,400,500" rel="stylesheet" type="text/css"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/component---src-templates-til-category-js-54f94ab5f341d054bb2e.js"/><link as="script" rel="preload" href="/commons-11844f26a7ddf5dbba5a.js"/><link as="script" rel="preload" href="/app-15e06c0726879bc1b144.js"/><link as="script" rel="preload" href="/styles-4e1ffb7669217ab15814.js"/><link as="script" rel="preload" href="/webpack-runtime-c6a0aad0d1f5f7e27cb3.js"/><link as="fetch" rel="preload" href="/page-data/til/category/javascript/page-data.json" crossorigin="anonymous"/></head><body><noscript>Notice: You need to enable JavaScript to enable all functionality in this blog.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><main style="margin-left:auto;margin-right:auto;max-width:49rem;padding:2.625rem 1.3125rem" itemscope="" itemType="http://schema.org/Blog"><nav><h3 style="margin-top:0"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/til/">Latest</a></h3></nav><header><h1 style="box-shadow:none;text-decoration:underline">Things I Learned (JavaScript)</h1></header><main><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Object Deconstructing without Declaration<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-11-07_object-deconstructing-without-declaration">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-11-07">2019-11-07</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>åœ¨ JavaScript ä¸­ï¼Œæ–°çš„<a href="https://github.com/tc39/proposal-object-rest-spread">è§„èŒƒ</a>å®šä¹‰äº† object rest spread è¿ç®—ç¬¦ï¼Œå¯ä»¥ç”¨äºŽå¯¹è±¡çš„è§£æž„ã€‚</p>
<p>ç®€å•çš„ç”¨æ³•å¦‚ä¸‹ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token punctuation">{</span> value <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> others<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>é™¤äº†è¿™ç§è§£æž„åŒæ—¶èµ‹å€¼ç»™æ–°å˜é‡çš„æƒ…å†µï¼Œä¹Ÿå¯ä»¥é€šè¿‡è§£æž„è¿ç®—ï¼Œèµ‹å€¼ç»™ä¸€ä¸ªå·²æœ‰çš„å˜é‡ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token string">'old'</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token punctuation">{</span> value <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token string">'new'</span><span class="token punctuation">,</span> others<span class="token punctuation">:</span> <span class="token string">'value'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>è¿™é‡Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œè§£æž„åŠ èµ‹å€¼çš„è¿ç®—ï¼Œå¿…é¡»è¦åŠ ä¸Šæ‹¬å·ã€‚ä¸‹é¢çš„å†™æ³•ä¼šæŠ¥è¯­æ³•é”™è¯¯ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token string">'old'</span><span class="token punctuation">;</span>
<span class="token punctuation">{</span> value <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token string">'new'</span><span class="token punctuation">,</span> others<span class="token punctuation">:</span> <span class="token string">'value'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>ä¼šæŠ¥é”™çš„åŽŸå› æ˜¯ï¼Œå‰é¢çš„ <code class="language-text">{ value } =</code>ï¼Œå¦‚æžœä¸åŠ ä¸Šæ‹¬å·ï¼Œä¼šè¢«å½“æˆä¸€èˆ¬çš„ä»£ç å—ï¼ˆBlockï¼‰ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªè§£æž„çš„å¯¹è±¡ï¼ˆObjectï¼‰ï¼Œå› æ­¤è§£æžè¯­æ³•æ ‘çš„æ—¶å€™ï¼Œåœ¨ <code class="language-text">=</code> è¿™é‡Œå°±æŠ¥é”™äº†ï¼ˆ<code class="language-text">Uncaught SyntaxError: Unexpected token &#39;=&#39;</code>ï¼‰ã€‚æ³¨ï¼šå¦‚æžœä¸åŠ æœ€åŽçš„ <code class="language-text">;</code>ï¼Œè¯­æ³•ä¹Ÿæ˜¯æ­£ç¡®çš„ã€‚</p>
<p>æ›´å¤šç›¸å…³çš„ç›¸å…³ä»‹ç»ï¼Œå¯ä»¥å‚è€ƒ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#Object_destructuring">MDN</a>ã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">console.assert<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-11-05_console.assert">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-11-05">2019-11-05</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p><code class="language-text">console.assert</code> API å¯ä»¥ç”¨äºŽåˆ¤æ–­æŸä¸ªæ¡ä»¶æ˜¯å¦æ»¡è¶³ï¼Œå¹¶åœ¨ä¸æ»¡è¶³çš„æ—¶å€™ï¼Œåœ¨ Console é‡Œæ‰“å°å‡ºç›¸å…³çš„æ•°æ®ã€‚æ•´ä½“ API å’Œ <code class="language-text">console.error</code> æ¯”è¾ƒç±»ä¼¼ï¼Œä½†æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªåˆ¤æ–­æ¡ä»¶ã€‚æ•´ä¸ªè°ƒç”¨ï¼Œåªä¼šåœ¨ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ falsy å€¼çš„æ—¶å€™ï¼Œæ‰ä¼šå°†åŽé¢çš„æ•°æ®æ‰“å°å‡ºæ¥ã€‚æ‰“å°çš„æ–¹å¼å’Œ <code class="language-text">console.error</code> ç±»ä¼¼ï¼Œè¾“å‡ºçš„æ˜¯ error ä¿¡æ¯ã€‚éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œæ ¹æ® <a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/assert">MDN</a> çš„æè¿°ï¼Œåœ¨ Node.js 10 ç‰ˆæœ¬å‰ï¼Œé™¤äº†è¾“å‡ºä¹‹å¤–ï¼Œè¿˜ä¼šæŠ›å‡ºä¸€ä¸ª <code class="language-text">AssertionError</code>ã€‚è¿™ä¸ªè¡Œä¸ºæ˜¯é”™è¯¯çš„ï¼Œconsole API ä¸åº”è¯¥å½±å“ä¸»æµç¨‹çš„ä»£ç ï¼ŒNode.js åœ¨ 10 ä¿®å¤äº†é—®é¢˜ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€æ®µç¤ºä¾‹ä»£ç ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'before'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">assert</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">'incorrect with error message'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'after'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>è¾“å‡ºçš„ç»“æžœæ˜¯ï¼š</p>
<div class="gatsby-highlight" data-language="plain"><pre class="language-plain"><code class="language-plain">before
incorrect with error message
after</code></pre></div>
<p>å…¶ä¸­ï¼Œ<code class="language-text">incorrect with error message</code> è¿™ä¸€æ¡ï¼Œè¿˜ä¼šé¢å¤–è¾“å‡ºè°ƒç”¨çš„å †æ ˆä¿¡æ¯ï¼Œæ–¹ä¾¿è°ƒè¯•ã€‚</p>
<p>æ€»ç»“æ¥è¯´ï¼Œåœ¨ä»£ç ä¸­å®žçŽ°ç±»ä¼¼ Chrome ä¸­ conditional breakpointï¼Œä½¿ç”¨ <code class="language-text">console.assert</code> æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼šåªåœ¨å‡ºçŽ°é—®é¢˜çš„æ—¶å€™æ‰“å°å¿…è¦çš„ä¿¡æ¯ï¼Œå¯ä»¥å°½å¯èƒ½çš„å‡å°‘å¯¹ Console è¾“å‡ºçš„æ±¡æŸ“ã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">console.trace<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-11-04_console.trace">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-11-04">2019-11-04</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p><code class="language-text">console.trace</code> API æ”¯æŒå¯é€‰å‚æ•°ï¼Œè¾“å‡ºçš„æ•ˆæžœå’Œ <code class="language-text">console.log</code> / <code class="language-text">console.info</code> ç±»ä¼¼ã€‚ä½†æ˜¯é™¤äº†è¾“å‡ºå‚æ•°æŒ‡å®šçš„å†…å®¹ä¹‹å¤–ï¼Œè¿˜ä¼šè¿žå¸¦å°†å½“å‰çš„è°ƒç”¨å †æ ˆä¸€èµ·è¾“å‡ºã€‚å¯ä»¥çœ‹ <a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/trace">MDN</a> ä¸­ç»™å‡ºçš„ä¸€ä¸ªä¾‹å­ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">trace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>è¾“å‡ºçš„ç»“æžœç±»ä¼¼ï¼š</p>
<div class="gatsby-highlight" data-language="plain"><pre class="language-plain"><code class="language-plain">bar
foo
&lt;anonymous&gt;</code></pre></div>
<p>å…¶ä¸­ï¼Œ<code class="language-text">&lt;anonymous&gt;</code> æ˜¯å› ä¸º <code class="language-text">foo</code> å‡½æ•°æ˜¯åœ¨ console ä¸­ç›´æŽ¥è¿è¡Œçš„ã€‚å½“ç„¶ï¼Œè¿™ä¸ªåªèƒ½åœ¨è°ƒè¯•é˜¶æ®µè¿›è¡Œä»£ç çš„æ£€æŸ¥ã€‚å¦‚æžœéœ€è¦åœ¨çº¿ä¸ŠçŽ¯å¢ƒï¼Œå¯¹å¯èƒ½å‡ºé—®é¢˜çš„åœ°æ–¹æ”¶é›†è°ƒç”¨å †æ ˆä¿¡æ¯ï¼Œç›´æŽ¥ä½¿ç”¨ <code class="language-text">console.trace</code> å°±ä¸æ»¡è¶³éœ€æ±‚äº†ã€‚å¯ä»¥è½¬è€Œä½¿ç”¨ Error ä¸­çš„ stack å­—æ®µï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> error <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>è¾“å‡ºç»“æžœç±»ä¼¼ï¼š</p>
<div class="gatsby-highlight" data-language="plain"><pre class="language-plain"><code class="language-plain">Error
    at bar (&lt;anonymous&gt;:3:19)
    at foo (&lt;anonymous&gt;:6:3)
    at &lt;anonymous&gt;:9:1</code></pre></div></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">computed and getter in Mobx<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-10-29_computed-and-getter-in-mobx">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-10-29">2019-10-29</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>Mobx ä¸­ï¼Œå¯ä»¥ç›´æŽ¥é€šè¿‡ <code class="language-text">observable</code> çš„æ–¹å¼æ¥æŽ§åˆ¶å†…éƒ¨çš„ stateï¼Œè€Œä¸å†ä½¿ç”¨ React è‡ªå¸¦çš„ state åŠŸèƒ½ã€‚ä¸€èˆ¬çš„å†™æ³•å¦‚ä¸‹ï¼š</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> observer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'mobx-react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> observable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'mobx'</span><span class="token punctuation">;</span>

@observer
<span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  @observable num<span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token function-variable function">onClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>num <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onClick<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Clicked: </span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>è¿™æ ·å†™çš„ä¼˜åŠ¿åœ¨äºŽï¼Œå¯ä»¥å°†ä½•æ—¶æ¸²æŸ“çš„åˆ¤æ–­äº¤ç»™äº† Mobx åŽ»å¤„ç†ï¼Œä¸ç”¨æ‰‹åŠ¨åŽ»å¤„ç†ã€‚</p>
<p>å¯¹äºŽéœ€è¦ç”¨åˆ° <code class="language-text">observable</code> ç»„åˆæ•°æ®çš„æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨ <code class="language-text">computed</code> æ¥ç”Ÿæˆä¸€ä¸ªæ–°çš„ <code class="language-text">observable</code> å€¼ï¼Œä¹Ÿå¯ä»¥ç›´æŽ¥ä½¿ç”¨ getter å‡½æ•°ã€‚ä»¥ä¸‹çš„ä¸¤ä¸ªæ–¹æ¡ˆåœ¨æ•ˆæžœä¸Šæ˜¯ç­‰ä»·çš„ï¼š</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx">@observer
<span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  @observable num<span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token function-variable function">onClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>num <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">get</span> <span class="token function">isMany</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>num <span class="token operator">></span> <span class="token number">5</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onClick<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        Clicked </span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>isMany <span class="token operator">?</span> <span class="token string">'many'</span> <span class="token punctuation">:</span> <span class="token string">'few'</span><span class="token punctuation">}</span><span class="token plain-text"> times
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> observable<span class="token punctuation">,</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'mobx'</span><span class="token punctuation">;</span>

@observer
<span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  @observable num<span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token function-variable function">onClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>num <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  @computed
  <span class="token keyword">get</span> <span class="token function">isMany</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>num <span class="token operator">></span> <span class="token number">5</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onClick<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        Clicked </span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>isMany <span class="token operator">?</span> <span class="token string">'many'</span> <span class="token punctuation">:</span> <span class="token string">'few'</span><span class="token punctuation">}</span><span class="token plain-text"> times
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>ä¹‹æ‰€ä»¥ä¸¤è€…æ˜¯ç­‰ä»·çš„ï¼Œç†ç”±å¾ˆç®€å•ã€‚åœ¨æ‰§è¡Œ render å‡½æ•°çš„æ—¶å€™ï¼ŒMobx æ³¨æ„åˆ° <code class="language-text">this.isMany</code> è¢«ä½¿ç”¨äº†ï¼Œè€Œåœ¨è°ƒç”¨è¿™ä¸ª getter å‡½æ•°çš„æ—¶å€™ï¼Œå®žé™…ä½¿ç”¨åˆ°äº† <code class="language-text">this.num</code> è¿™ä¸ª observableã€‚å› æ­¤ï¼Œå½“ <code class="language-text">this.num</code> å‘ç”Ÿäº†å˜åŒ–ä¹‹åŽï¼ŒMobx çŸ¥é“éœ€è¦é‡æ–°è°ƒç”¨ render å‡½æ•°è¿›è¡Œç»˜åˆ¶ã€‚è€Œå¯¹äºŽä½¿ç”¨äº† computed çš„æƒ…å†µæ¥è¯´ï¼Œæƒ…å†µä¼šæ›´ç®€å•ä¸€äº›ï¼Œ<code class="language-text">this.num</code> è¿™ä¸ª observable çš„å˜åŒ–è§¦å‘äº† <code class="language-text">this.isMany</code> çš„é‡æ–°è®¡ç®—ï¼Œæœ€ç»ˆåœ¨ <code class="language-text">this.isMany</code> å€¼å˜åŒ–ä¹‹åŽè§¦å‘äº† render å‡½æ•°çš„é‡æ–°è®¡ç®—ã€‚</p>
<p>ç„¶è€Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œä¸¤è€…åªæ˜¯åœ¨æ•ˆæžœä¸Šç­‰ä»·ã€‚åœ¨å®žé™…è¿ç®—è¿‡ç¨‹ä¸­ï¼Œcomputed çš„æ–¹æ¡ˆæœ‰ä¸¤ä¸ªä¼˜åŠ¿ï¼š</p>
<ol>
<li>ä»£ç çœ‹ä¸ŠåŽ»æ›´æ¸…æ™°ã€‚render æ˜¯å› ä¸º computed çš„æ•°æ®è§¦å‘çš„ï¼Œè¿™ä¸€ç‚¹åœ¨ä»£ç ä¸Šå¯ä»¥å¾ˆå®¹æ˜“çš„çœ‹å‡ºæ¥ï¼›è€Œç¬¬ä¸€ç§æ–¹æ¡ˆï¼Œæ˜¯å¦è§¦å‘ getter å‡½æ•°ï¼Œå…¶å®žéœ€è¦å¤šæ€è€ƒä¸€ä¸‹æ‰èƒ½ç¡®å®šï¼›</li>
<li>å®žé™…æ‰§è¡Œæ•ˆçŽ‡æ›´é«˜ã€‚ä½¿ç”¨ getter çš„æ–¹æ¡ˆï¼Œç”±äºŽ render å‡½æ•°å®žé™…ä¸Šæ˜¯å’Œ <code class="language-text">this.num</code> è¿™ä¸ª observable è¿›è¡Œå…³è”çš„ï¼Œå› æ­¤å“ªæ€• <code class="language-text">this.isMany</code> è¿™ä¸ª getter å‡½æ•°æ²¡æœ‰å‘ç”Ÿå€¼çš„å˜åŒ–ï¼Œåªè¦ <code class="language-text">this.num</code> å˜äº†ï¼Œrender å‡½æ•°éƒ½éœ€è¦è¢«æ‰§è¡Œï¼›è€Œå¯¹äºŽä½¿ç”¨ computed çš„æƒ…å†µï¼Œå› ä¸º render æ˜¯å’Œ <code class="language-text">this.isMany</code> è¿›è¡Œå…³è”çš„ï¼Œå®žé™… <code class="language-text">this.isMany</code> æ²¡æœ‰å˜åŒ–çš„æ—¶å€™ï¼Œæ˜¯ä¸éœ€è¦è§¦å‘é‡ç»˜çš„ã€‚æ¢å¥è¯è¯´ï¼Œå‰è€… getter çš„æ–¹æ¡ˆï¼Œåœ¨ <code class="language-text">this.num</code> ä»Ž 1 æ¶¨åˆ° 6 çš„è¿‡ç¨‹ä¸­ï¼Œä¸€å…±è§¦å‘äº†äº”æ¬¡é‡æ–°æ¸²æŸ“ï¼›è€ŒåŽè€… <code class="language-text">computed</code> çš„æ–¹æ¡ˆï¼Œåªè§¦å‘äº†ä¸€æ¬¡é‡æ–°æ¸²æŸ“ï¼ˆå½“ <code class="language-text">this.num = 6</code> çš„æ—¶å€™ï¼‰</li>
</ol>
<p>é’ˆå¯¹ç¬¬äºŒç‚¹ï¼ŒMobx çš„ GitHub issue ä¸­ä½œè€…ä¹Ÿæœ‰ç›¸å…³çš„è¯´æ˜Žï¼Œè§<a href="https://github.com/mobxjs/mobx/issues/161#issuecomment-196744152">è¿™é‡Œ</a>ã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Get Current IP Address<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-10-28_get-current-ip-address">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-10-28">2019-10-28</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>åœ¨ Node.js ä¸­ï¼Œå¯ä»¥é€šè¿‡ <code class="language-text">os</code> æ¨¡å—çš„ <code class="language-text">networkInterfaces</code> API æ¥èŽ·å–å½“å‰æœºå™¨çš„ IP æ•°æ®ã€‚è¿”å›žçš„ç»“æžœç±»ä¼¼äºŽ <code class="language-text">ifconfig</code> æˆ– <code class="language-text">ipconfig</code> å‘½ä»¤ã€‚</p>
<p>ä»¥èŽ·å–å½“å‰ä¸»æœºçš„ IPv4 åœ°å€ä¸ºä¾‹ï¼Œå¯ä»¥å†™ç±»ä¼¼å¦‚ä¸‹çš„ä»£ç ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">getIPAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> interfaces <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'os'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">networkInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> results <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>interfaces<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">interface</span></span> <span class="token operator">=></span> <span class="token keyword">interface</span><span class="token punctuation">.</span>family <span class="token operator">===</span> <span class="token string">'IPv4'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">interface</span></span> <span class="token operator">=></span> <span class="token operator">!</span><span class="token keyword">interface</span><span class="token punctuation">.</span>internal<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>results<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> results<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>address<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>ç®€å•çš„è¯´æ˜Žå¦‚ä¸‹ï¼š</p>
<ul>
<li><code class="language-text">internal</code> ç”¨äºŽè¡¨ç¤ºå½“å‰çš„åœ°å€æ˜¯å¦æ˜¯æœ¬åœ°å›žçŽ¯åœ°å€æˆ–æ˜¯å…¶ä»–å¤–éƒ¨æ— æ³•è®¿é—®çš„åœ°å€ï¼ˆä¾‹ï¼š127.0.0.1ï¼‰ï¼›</li>
<li><code class="language-text">family</code> ç”¨äºŽè¡¨ç¤ºå½“å‰åœ°å€çš„ç±»åž‹ï¼Œå°†ä¼šæ˜¯ <code class="language-text">IPv4</code> æˆ– <code class="language-text">IPv6</code> ä¸­çš„ä¸€ç§ï¼›</li>
<li><code class="language-text">address</code> ç”¨äºŽè¡¨ç¤ºå½“å‰çš„ IP åœ°å€ï¼›</li>
<li><code class="language-text">os.networkInterfaces</code> çš„è¿”å›žæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œkey ç”¨äºŽè¡¨ç¤º network interfaceï¼Œæ¯”å¦‚å¸¸è§çš„ <code class="language-text">lo</code> æˆ–è€… <code class="language-text">eth0</code> ç­‰ã€‚</li>
</ul>
<p>æ›´å¤šçš„è¿”å›žæ•°æ®åŠè§£é‡Šï¼Œå¯ä»¥å‚è€ƒ<a href="https://nodejs.org/api/os.html#os_os_networkinterfaces">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Document DesignMode<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-10-22_document-designmode">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-10-22">2019-10-22</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p><code class="language-text">document.designMode</code> è¿™ä¸ªå±žæ€§ï¼Œå¯ä»¥ç”¨äºŽæŽ§åˆ¶å½“å‰çš„æ•´ä¸ªé¡µé¢æ˜¯å¦å¯ä»¥ç›´æŽ¥è¢«ç¼–è¾‘ã€‚å¯ä»¥è®¾ç½®çš„å±žæ€§å€¼åŒ…æ‹¬ <code class="language-text">on</code> å’Œ <code class="language-text">off</code> ä¸¤ç§ã€‚å¦‚æžœè®¾ç½®ä¸º <code class="language-text">on</code>ï¼Œé‚£ä¹ˆç›¸å½“äºŽå¼€å¯äº†å…¨é¡µé¢èŒƒå›´çš„ <code class="language-text">contenteditable=true</code>ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™ä¸ªå€¼æ˜¯ <code class="language-text">off</code>ã€‚</p>
<p>é€šè¿‡å¼€å…³è¿™ä¸ªå€¼ï¼Œéžç¨‹åºå‘˜ä¹Ÿå¯ä»¥è½»æ¾çš„å¯¹å½“å‰é¡µé¢è¿›è¡Œç®€å•çš„ä¿®æ”¹ï¼ˆä¸»è¦æ˜¯æ–‡æ¡ˆçš„éƒ¨åˆ†ï¼‰ã€‚ä¸€äº›ç®€å•çš„éœ€æ±‚ï¼ŒPM å’Œ UX å°±å¯ä»¥ç›´æŽ¥è¿›è¡Œå°è¯•ï¼Œè€Œä¸éœ€è¦å†å€ŸåŠ©ç¨‹åºå‘˜çš„å¸®å¿™äº†ã€‚å½“ç„¶ï¼Œå¯¹é¡µé¢â€œé€ å‡â€çš„é—¨æ§›ä¹Ÿå˜ä½Žäº†ã€‚</p>
<p>å¯ä»¥é€šè¿‡ä¸‹é¢çš„æŒ‰é’®æ¥å®žé™…ä½“éªŒä¸€ä¸‹è¿™ä¸ªåŠŸèƒ½ã€‚</p>
<p>
  <button onclick="document.designMode=(document.designMode==='off'?'on':'off')">
    Toggle Design Mode
  </button>
</p>
<p>æ›´å¤šçš„è¯´æ˜ŽåŠæµè§ˆå™¨æ”¯æŒæƒ…å†µï¼ˆåŸºæœ¬å¯ä»¥è®¤ä¸ºå…¨æ”¯æŒï¼‰ï¼Œå¯ä»¥å‚è€ƒ <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/designMode">MDN</a>ã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Get Npm Package Info<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-10-21_get-npm-package-info">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-10-21">2019-10-21</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>è¦èŽ·å–ä¸€ä¸ª NPM åŒ…æ‰€æœ‰çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨ <code class="language-text">npm view</code> è¿™ä¸ªå‘½ä»¤ã€‚æ¯”å¦‚ï¼Œæ£€æŸ¥ React è¿™ä¸ªåŒ…çš„æ‰€æœ‰ç‰ˆæœ¬ï¼Œå¹¶è¾“å‡ºæˆ JSON æ ¼å¼ï¼š</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> view react versions --json</code></pre></div>
<p>å½“ç„¶ï¼Œä»¥ä¸Šåªæ˜¯ CLI çš„æ“ä½œæ–¹å¼ï¼Œå¦‚æžœå¸Œæœ›å¯ä»¥é€šè¿‡ç¼–ç¨‹çš„æ–¹å¼åŽ»äº†è§£ä¸€ä¸ª NPM åŒ…çš„ç›¸å…³ä¿¡æ¯ï¼Œéœ€è¦æ¢ä¸€ä¸ªæ–¹å¼ã€‚æ³¨æ„åˆ° NPM æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ª <a href="https://www.npmjs.com/package/npm">NPM åŒ…</a>ï¼Œå¯¹åº”çš„æºç å¯ä»¥åœ¨ <a href="https://github.com/npm/cli">GitHub</a> ä¸Šæ‰¾åˆ°ã€‚å…¶ä¸­ï¼Œ<code class="language-text">npm view</code> è¿™ä¸ªå‘½ä»¤ï¼Œå¯¹åº”çš„ä»£ç æ˜¯ <a href="https://github.com/npm/cli/blob/c1522be2406a0ea4f14c85753edd42ddd8d7e180/lib/view.js">lib/view.js</a>ã€‚</p>
<p>é€šè¿‡è§‚å¯Ÿè¿™ä¸ªæ–‡ä»¶ï¼Œä¸éš¾å‘çŽ°ï¼ŒNPM åº•å±‚ä¾èµ–çš„å…¶å®žæ˜¯ <a href="https://www.npmjs.com/package/libnpm">libnpm</a> è¿™ä¸ªåº“ã€‚å…¶ä¸­ï¼ŒèŽ·å–åŒ…ä¿¡æ¯çš„éƒ¨åˆ†ï¼Œä½¿ç”¨çš„æ˜¯ <code class="language-text">libnpm/packument</code> è¿™ä¸ªéƒ¨åˆ†ã€‚è€Œæ ¹æ®æ–‡æ¡£ï¼Œè¿™é‡Œ <code class="language-text">libnpm/packument</code> æœ¬è´¨ä¸Šå°±æ˜¯å°† <a href="https://www.npmjs.com/package/pacote">pacote</a> ä¸­çš„ <code class="language-text">packument</code> æŽ¥å£å¼€æ”¾äº†å‡ºæ¥ã€‚</p>
<p>å®žé™…çš„ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> packument <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'libnpm/packument'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getVersions</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">package</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> versions <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">packument</span><span class="token punctuation">(</span><span class="token keyword">package</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// to use custom registry</span>
    registry<span class="token punctuation">:</span> <span class="token string">'https://registry.npm.taobao.org'</span><span class="token punctuation">,</span>
    <span class="token comment">// get all meta data</span>
    fullMetadata<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// prefer to get latest online data</span>
    <span class="token string">'prefer-online'</span><span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> versions<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>å…¶ä¸­ï¼Œ<code class="language-text">packument</code> è¿™ä¸ª API çš„è¿”å›žæ•°æ®æ ¼å¼ï¼Œå¯ä»¥å‚è€ƒ <code class="language-text">@types/pacote</code> ä¸­çš„ç›¸å…³<a href="https://github.com/DefinitelyTyped/DefinitelyTyped/blob/25fe77861d42ff01903fe2e2d1014b3ed354bfde/types/pacote/index.d.ts#L98">å®šä¹‰</a>ã€‚</p>
<p>éœ€è¦é¢å¤–æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼šnpm å’Œä¸€äº› registry æœåŠ¡ä½¿ç”¨çš„æ•°æ®æ ¼å¼å¯èƒ½ç•¥æœ‰åŒºåˆ«ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œnpm çš„è¿”å›žæ•°æ®é‡Œï¼Œæ¯ä¸ªç‰ˆæœ¬çš„ <code class="language-text">dist</code> ä¸­å¯èƒ½åŒ…å« <code class="language-text">unpackedSize</code> æ•°æ®ï¼ˆoptionalï¼‰ï¼Œè¡¨ç¤ºè¯¥ç‰ˆæœ¬æ–‡ä»¶å®žé™…çš„å¤§å°ï¼›è€Œ <a href="https://github.com/npm/cli">cnpm</a> è¿”å›žçš„æ•°æ®ä¸­ï¼Œ<code class="language-text">dist</code> å†…åŒ…å«çš„æ˜¯ <code class="language-text">size</code> æ•°æ®ï¼ˆ<a href="https://github.com/cnpm/cnpmjs.org/blob/26d7147562a1ae21db8bfec26983daf311353d96/models/module.js#L74">æºä»£ç </a>ï¼‰ï¼Œè¡¨ç¤ºè¯¥ç‰ˆæœ¬çš„åŽ‹ç¼©æ–‡ä»¶ tar çš„å¤§å°ã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">MouseDown to Click<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-10-15_mousedown-to-click">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-10-15">2019-10-15</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>åœ¨æ—¥å¸¸çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¯¹äºŽä¸€ä¸ªæŒ‰é’®æˆ–è€…é“¾æŽ¥ï¼Œä¸€èˆ¬ä¼šé™„ä¸Šä¸€ä¸ª <code class="language-text">onClick</code> äº‹ä»¶ï¼Œä»¥å“åº”ç”¨æˆ·çš„ç‚¹å‡»æ“ä½œã€‚å½“ç”¨æˆ·å®žé™…æŒ‰ä¸‹æŒ‰é’®æˆ–é“¾æŽ¥ä¹‹åŽï¼Œå†é€šè¿‡ <code class="language-text">onClick</code> äº‹ä»¶åŽ»è§¦å‘ä¹‹åŽè¦è¿›è¡Œçš„æµç¨‹ï¼ˆæ¯”å¦‚ç½‘ç»œè¯·æ±‚æˆ–æ˜¯é“¾æŽ¥è·³è½¬ç­‰ï¼‰ã€‚</p>
<p>å¦‚æžœå¯¹äºŽç”¨æˆ·æ“ä½œåŽçš„åé¦ˆé€Ÿåº¦æœ‰ä¸€å®šçš„è¦æ±‚ï¼Œè¿™é‡Œçš„è¡Œä¸ºå°±éœ€è¦è¿›è¡Œä¼˜åŒ–ã€‚ä»¥é“¾æŽ¥ä¸ºä¾‹ï¼Œä¸€ä¸ªå¸¸è§çš„æ“ä½œæ–¹æ³•æ˜¯ï¼ˆæ¯”å¦‚ <a href="https://github.com/GoogleChromeLabs/quicklink">quicklink</a>ï¼‰ï¼Œç”¨ç¨‹åºå¯¹å¯è§†èŒƒå›´å†…çš„é“¾æŽ¥åœ°å€è¿›è¡Œé¢„åŠ è½½ï¼ˆä½¿ç”¨ <code class="language-text">prefetch</code>ï¼‰ã€‚è¿™æ ·ï¼Œå½“ç”¨æˆ·çœŸæ­£ç‚¹å‡»çš„æ—¶å€™ï¼Œèµ„æºå¾ˆå¯èƒ½å·²ç»å¾—åˆ°äº†åŠ è½½ï¼Œæ‰“å¼€é€Ÿåº¦å°±ä¼šæ˜¾è‘—æå‡ã€‚</p>
<p>å½“ç„¶ï¼Œè¿™æ ·çš„è¡Œä¸ºæ˜¯æ²¡æœ‰é¢„åˆ¤çš„ï¼Œçº¯ç²¹æš´åŠ›çš„è¿›è¡Œå¯èƒ½çš„é¢„å¤‡æ“ä½œã€‚å¦‚æžœé¢„å¤‡æ“ä½œæŸè€—è¾ƒå¤šï¼Œè¿™æ ·çš„æ“ä½œå°±æ˜¾å¾—ä¸æ–¹ä¾¿äº†ã€‚</p>
<p>ä¸€ä¸ªæ›´åŠ â€œæ™ºèƒ½â€çš„æ“ä½œæ˜¯ï¼Œä»…å½“ç”¨æˆ·â€œç‚¹å‡»â€äº†ä¹‹åŽæ‰è¿›è¡Œé¢„åŠ è½½ã€‚å®žé™…ä¸Šï¼Œå³ä½¿æ˜¯ä¸€ä¸ªç‚¹å‡»çš„çš„æ“ä½œï¼Œä¹Ÿä¼šåˆ†æˆå¥½å‡ ä¸ªä¸åŒçš„äº‹ä»¶ï¼ŒåŒ…æ‹¬ <code class="language-text">MouseDown</code>ï¼Œ<code class="language-text">MouseUp</code> å’Œ <code class="language-text">Click</code>ã€‚åœ¨ <code class="language-text">MouseDown</code> å’Œ <code class="language-text">Click</code> ä¹‹é—´ï¼Œå·®ç€å¤§çº¦ 100ms çš„æ—¶é—´ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼Œå¦‚æžœåœ¨ <code class="language-text">MouseDown</code> çš„æ—¶å€™å°±å¼€å§‹é¢„å¤„ç†ï¼Œç­‰åˆ° <code class="language-text">Click</code> æ—¶æ‰çœŸæ­£è¿›è¡ŒåŠ è½½ï¼Œé‚£ä¹ˆæ•´ä½“çš„åŠ è½½æ—¶é—´ä¼šå‡å°‘ 100ms å·¦å³ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿™ä¹Ÿæ˜¯ä¸ªä¸å°çš„æå‡äº†ã€‚</p>
<p>å¯ä»¥ç”¨ä¸‹é¢çš„è¿™æ®µä»£ç å®žé™…æµ‹è¯•ä¸€ä¸‹ï¼Œ<code class="language-text">MouseDown</code> äº‹ä»¶å’Œ <code class="language-text">Click</code> äº‹ä»¶ä¹‹é—´çš„æ—¶é—´å·®ï¼ˆå…·ä½“æ—¶é—´å·®å› äººè€Œå¼‚ï¼‰ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
button<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">'Click Me'</span><span class="token punctuation">;</span>
button<span class="token punctuation">.</span><span class="token function-variable function">onmousedown</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Mousedown: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
button<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Click: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>button<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>ä¹Ÿå¯ä»¥ç›´æŽ¥ç‚¹å‡»ä¸‹é¢è¿™ä¸ªæŒ‰é’®å°è¯•ï¼š</p>
<button onmousedown="window.__down=Date.now()" onclick="this.textContent='Took:'+(Date.now() - window.__down)+' ms'">
  Click Me
</button>
<p></p>
<p>å½“ç„¶ï¼Œæ¯”è¿™ä¸ªç•¥æ¿€è¿›çš„æ“ä½œï¼Œå¯ä»¥å°† <code class="language-text">MouseDown</code> äº‹ä»¶æ¢æˆ <code class="language-text">MouseEnter</code> äº‹ä»¶ï¼Œè¿™æ ·åœ¨ Hover çš„æ—¶å€™å°±ä¼šå¼€å§‹é¢„åŠ è½½ã€‚å¤§æ¦‚èƒ½æå‰ 300ms å·¦å³å¼€å§‹æ“ä½œï¼Œå½“ç„¶å­˜åœ¨ä¸€å®šçš„è¯¯åˆ¤é£Žé™©ï¼ˆæ¯”å¦‚ç”¨æˆ·åªæ˜¯åˆ’è¿‡äº†é¼ æ ‡ï¼Œå¹¶æ²¡æœ‰æƒ³è¦ç‚¹å‡»çš„æ„æ„¿ï¼‰ã€‚</p>
<p>å¯ä»¥å‚è€ƒ <a href="http://instantclick.io/">InstantClick</a> äº†è§£æ›´å¤šå®žçŽ°çš„ç»†èŠ‚ã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Performance Measure<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-09-30_performance-measure">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-09-30">2019-09-30</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>æµè§ˆå™¨æä¾›äº† <code class="language-text">performance</code> ç”¨äºŽæµ‹é‡ JavaScript çš„ä¸€äº›è¿è¡Œæ•ˆçŽ‡ï¼Œå¹¶åœ¨æµè§ˆå™¨çš„å¯¹åº”ä½ç½®ï¼ˆå¦‚ Chrome çš„ Performance Tabï¼‰ç”Ÿæˆç«ç„°å›¾ï¼Œå¯ä»¥æ–¹ä¾¿çš„æŸ¥çœ‹ç¨‹åºè°ƒç”¨æ ˆçš„æ‰§è¡Œæ•ˆçŽ‡ã€‚ç®€å•çš„æ“ä½œå¦‚ä¸‹ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">getMarkName</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">mark: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">beginMark</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  performance<span class="token punctuation">.</span><span class="token function">mark</span><span class="token punctuation">(</span><span class="token function">getMarkName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">endMark</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> markName <span class="token operator">=</span> <span class="token function">getMarkName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    performance<span class="token punctuation">.</span><span class="token function">measure</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> markName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å¦‚æžœ markName æ— æ³•è¢«æ‰¾åˆ°ï¼ˆä¹Ÿå°±æ˜¯ beginMark å‡½æ•°æ²¡æœ‰è¢«è°ƒç”¨ï¼‰</span>
    <span class="token comment">// é‚£ä¹ˆç¨‹åºåœ¨ performance.measure çš„æ—¶å€™ä¼šæŠ¥é”™</span>
    <span class="token comment">// è¿™é‡Œæ— éœ€å°†æŠ¥é”™æŠ›å‡ºï¼Œç›´æŽ¥åžæŽ‰å°±å¯ä»¥äº†</span>
  <span class="token punctuation">}</span>
  performance<span class="token punctuation">.</span><span class="token function">clearMarks</span><span class="token punctuation">(</span>markName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  performance<span class="token punctuation">.</span><span class="token function">clearMeasure</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">beginMark</span><span class="token punctuation">(</span><span class="token string">'label name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// éœ€è¦è¿›è¡Œçš„æ“ä½œ</span>
  <span class="token function">endMark</span><span class="token punctuation">(</span><span class="token string">'label name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>å…·ä½“æ¥è¯´ï¼Œé€šè¿‡ <code class="language-text">performance.mark</code> å‡½æ•°æ ‡è®°ä¸€ä¸ªç‚¹ï¼Œç„¶åŽåœ¨éœ€è¦æµ‹é‡çš„ç¨‹åºæ‰§è¡Œå®Œæˆä¹‹åŽï¼Œé€šè¿‡ <code class="language-text">performance.measure</code> æ¥è®¡ç®—å½“å‰å’Œæœ€åˆ mark çš„ç‚¹ä¹‹é—´çš„è¿è¡Œæ—¶é—´ã€‚æœ€ç»ˆï¼Œè¿™ä¸€æ®µç»“æžœä¼šåœ¨ Chrome çš„ Performance Timings ä¸­å½¢æˆå¯¹åº”çš„ç«ç„°å›¾æ•°æ®ã€‚</p>
<p><code class="language-text">performance.measure</code> ä¹Ÿæ”¯æŒä¸‰ä¸ªå‚æ•°çš„è°ƒç”¨ï¼Œä¸‰ä¸ªå‚æ•°åˆ†åˆ«æ˜¯ label çš„åç§°ï¼Œèµ·å§‹ mark çš„åç§°ä»¥åŠç»ˆæ­¢ mark çš„åç§°ã€‚å¦‚æžœçœç•¥æœ€åŽä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆç»ˆæ­¢çš„æ—¶é—´ç‚¹å°±æ˜¯å½“å‰ <code class="language-text">performance.measure</code> è°ƒç”¨çš„æ—¶é—´ç‚¹ã€‚</p>
<p>æœ€åŽï¼Œé€šè¿‡ <code class="language-text">performance.clearMarks</code> åŠ <code class="language-text">performance.clearMeasure</code> åˆ é™¤æ ‡è®°ï¼Œæ¸…ç†ä¸å¿…è¦çš„å†…å­˜ä½¿ç”¨ã€‚</p>
<p>æ›´å¤šçš„ä»‹ç»ï¼Œå¯ä»¥å‚è€ƒ <a href="https://developer.mozilla.org/en-US/docs/Web/API/Performance">MDN</a> çš„æ–‡æ¡£ã€‚React ä¸­ä¹Ÿä½¿ç”¨äº†ç±»ä¼¼çš„æŠ€æœ¯ç”¨äºŽåœ¨ Performance ä¸­ç”Ÿæˆæ¯ä¸ª Component æ¸²æŸ“èŠ±è´¹çš„æ—¶é—´ï¼Œç›¸å…³çš„ä»£ç å¯ä»¥å‚è€ƒ <a href="https://github.com/facebook/react/blob/50addf4c0e411e351de7290c8c60ec775c25c8c4/packages/react-reconciler/src/ReactDebugFiberPerf.js#L80">ReactDebugFiberPerf.js</a>ã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Mobile Shake<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-09-29_mobile-shake">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-09-29">2019-09-29</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>JavaScript ä¸­æä¾›äº† <code class="language-text">devicemotion</code> äº‹ä»¶ï¼Œå¯ä»¥ç”¨äºŽç›‘å¬è®¾å¤‡å„ä¸ªæ–¹å‘ä¸Šå—åˆ°çš„åŠ›ï¼ˆåŠ é€Ÿåº¦ï¼‰ã€‚æœ‰äº†è¿™ä¸ªäº‹ä»¶ï¼Œå°±å¯ä»¥ç”¨äºŽåˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯å¦åœ¨è¿›è¡Œç±»ä¼¼â€œæ‘‡ä¸€æ‘‡â€ä¹‹ç±»çš„æ“ä½œï¼Œæ–¹ä¾¿å¼€å‘åŸºäºŽç‰¹å®šäº¤äº’çš„ä¸€äº›åŠŸèƒ½ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œ<code class="language-text">devicemotion</code> äº‹ä»¶ä¼šæä¾› <code class="language-text">accelerationIncludingGravity</code> æ•°æ®ï¼Œä½œä¸ºä¸€ä¸ªå¯¹è±¡åˆ†åˆ«æä¾› <code class="language-text">x</code>ï¼Œ<code class="language-text">y</code> å’Œ <code class="language-text">z</code> ä¸‰ä¸ªæ–¹å‘ä¸Šçš„åŠ é€Ÿåº¦ã€‚é€šè¿‡ä¸åŒæ—¶é—´ç‚¹ä¸ŠåŠ é€Ÿåº¦å€¼çš„ä¸åŒï¼Œå°±å¯ä»¥åˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯å¦åœ¨è¿›è¡Œæ‘‡æ™ƒæ‰‹æœºçš„æ“ä½œäº†ã€‚</p>
<p>ä½¿ç”¨ <code class="language-text">devicemotion</code> çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z <span class="token punctuation">}</span> <span class="token operator">=</span> event<span class="token punctuation">.</span>accelerationIncludingGravity<span class="token punctuation">;</span>
  <span class="token comment">// do stuff here</span>
<span class="token punctuation">}</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'devicemotion'</span><span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>åˆ¤æ–­æ˜¯å¦åœ¨æ‘‡æ™ƒæ‰‹æœºï¼Œç®€å•æ¥è¯´ï¼Œåªéœ€è¦åˆ¤æ–­å½“å‰çš„å„æ–¹å‘åŠ é€Ÿåº¦ä¹‹å·®ï¼Œæ˜¯å¦æœ‰è‡³å°‘ä¸¤ä¸ªè¶…è¿‡äº†ç»™å®šçš„é˜ˆå€¼ã€‚<a href="https://github.com/alexgibson/shake.js">shake.js</a> ä¸­å°±ä½¿ç”¨äº†è¿™æ ·çš„æ–¹æ³•æ¥åˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯å¦åœ¨æ‘‡æ™ƒæ‰‹æœºï¼Œå…·ä½“çš„ä»£ç å¯ä»¥å‚è€ƒ<a href="https://github.com/alexgibson/shake.js/blob/d232eee7a5f31e9fd37aa79aa83f1f206035ccc9/shake.js#L104">æºç </a>ã€‚</p>
<p><code class="language-text">devicemotion</code> æ›´å¤šçš„ä¿¡æ¯ï¼Œå¯ä»¥å‚è€ƒ <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/devicemotion_event">MDN</a>ã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Suspense &amp; Lazy in React<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-09-24_suspense-&amp;-lazy-in-react">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-09-24">2019-09-24</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>åœ¨ç”¨ React å¤„ç†ä¸šåŠ¡çš„è¿‡ç¨‹ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°è¿™æ ·çš„åœºæ™¯ï¼šæŸä¸€ä¸ª UI éœ€è¦ç­‰å¾…ç½‘ç»œè¯·æ±‚æ¥å±•ç¤ºï¼Œåœ¨ç­‰å¾…çš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦æ˜¾ç¤º Loading ç•Œé¢ï¼Œå¹¶åœ¨è¯·æ±‚å®ŒæˆåŽï¼Œæ˜¾ç¤ºçœŸæ­£çš„ UIã€‚è¿™ç§æƒ…å†µï¼Œå’ŒæŒ‰éœ€åŠ è½½æ¨¡å—çš„è¡Œä¸ºéžå¸¸ç±»ä¼¼ã€‚æ—¢ç„¶ React.Suspense + React.lazy å¯ä»¥ç»„åˆç”¨äºŽæŒ‰éœ€åŠ è½½æ¨¡å—æ—¶å€™çš„ UI å±•ç¤ºï¼Œé‚£ä¹ˆæ˜¯å¦å¯ä»¥ä½¿ç”¨åŒæ ·çš„ç»„åˆæ¥å®Œæˆç±»ä¼¼ç­‰å¾…ç½‘ç»œè¯·æ±‚çš„ UI æ˜¾ç¤ºå‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚ä¸‹é¢ç»™å‡ºä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token parameter">time</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=></span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">fakeFetch</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token string">"finished!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> Component <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span>
  <span class="token function">fakeFetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">text</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">default</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">&lt;</span>div<span class="token operator">></span><span class="token punctuation">{</span>text<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"App"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>React<span class="token punctuation">.</span>Suspense fallback<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>div<span class="token operator">></span>loading<span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>h1<span class="token operator">></span>Hello World<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
      <span class="token operator">&lt;</span>Component <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>React<span class="token punctuation">.</span>Suspense<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>å¦‚æ­¤ä¸€æ¥ï¼Œåœ¨ Promise æ²¡æœ‰è¿”å›žçš„æ—¶å€™ï¼Œç»„ä»¶ä¼šæ˜¾ç¤º <code class="language-text">&lt;div&gt;loading...&lt;/div&gt;</code>ã€‚è€Œç­‰åˆ° Promise resolve ä¹‹åŽï¼Œå°±ä¼šæ˜¾ç¤ºçœŸæ­£çš„ UIã€‚</p>
<p>å‡ ç‚¹è¯´æ˜Žï¼š</p>
<ol>
<li><code class="language-text">React.lazy</code> æœ¬èº«æ˜¯ä¸º <code class="language-text">import()</code> è®¾è®¡çš„ï¼Œæ‰€ä»¥åœ¨ Promise è¿”å›žçš„æ—¶å€™ï¼Œéœ€è¦å°†ç»„ä»¶æ”¾åˆ° <code class="language-text">default</code> å±žæ€§ä¸‹é¢ï¼Œä¿æŒå’Œ <code class="language-text">import()</code> çš„è¡Œä¸ºä¸€è‡´ï¼›</li>
<li><code class="language-text">React.Suspense</code> å’Œ <code class="language-text">React.lazy</code> çš„ç»„åˆï¼Œæœ¬è´¨ä¸Šå†…éƒ¨æ˜¯ä½¿ç”¨äº† <code class="language-text">throw</code> + <code class="language-text">componentDidCatch</code> çš„æ–¹å¼è¿›è¡Œå®žçŽ°çš„ï¼Œå› è€Œå¦‚æžœä¸ä½¿ç”¨ <code class="language-text">React.lazy</code>ï¼Œç›´æŽ¥åœ¨ç»„ä»¶å†… <code class="language-text">throw Promise</code>ï¼Œä¹Ÿå¯ä»¥è¾¾åˆ°ç±»ä¼¼çš„æ•ˆæžœï¼š</li>
</ol>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">fakeFetch</span> <span class="token operator">=</span> <span class="token parameter">fn</span> <span class="token operator">=></span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token string">"finished!"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token string">"before"</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">Component</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">===</span> <span class="token string">"before"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token function">fakeFetch</span><span class="token punctuation">(</span><span class="token parameter">newData</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      data <span class="token operator">=</span> newData<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">></span><span class="token punctuation">{</span>data<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"App"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>React<span class="token punctuation">.</span>Suspense fallback<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>div<span class="token operator">></span>loading<span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>h1<span class="token operator">></span>Hello World<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
      <span class="token operator">&lt;</span>Component <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>React<span class="token punctuation">.</span>Suspense<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Open Window Async<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-09-23_open-window-async">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-09-23">2019-09-23</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåªæœ‰å½“ç”¨æˆ·æœ‰æ“ä½œçš„æƒ…å†µä¸‹ï¼Œåœ¨ä¸€ä¸ª tick é‡Œï¼ŒJavaScript é€šè¿‡ <code class="language-text">window.open</code> æˆ–æ˜¯ <code class="language-text">&lt;a target=&quot;_blank&quot;&gt;</code> HTML å…ƒç´ ç›´æŽ¥ <code class="language-text">click</code> æ‰“å¼€æ–°çš„çª—å£æ‰èƒ½æ­£å¸¸å¼¹å‡ºã€‚å¦‚æžœä¸€æ—¦æ¶‰åŠåˆ°å¼‚æ­¥çš„æ“ä½œï¼Œå¼¹æ¡†å°±ä¼šé»˜è®¤è¢«æµè§ˆå™¨é˜»æ­¢ï¼Œæ— æ³•æ­£å¸¸æ˜¾ç¤ºã€‚</p>
<p>è¿™æ ·è®¾è®¡çš„åˆè¡·ï¼Œæ˜¯ä¸ºäº†é˜²æ­¢å‰ç«¯éšæ„å¼¹æ¡†ï¼Œå½±å“åˆ°ç”¨æˆ·æ­£å¸¸çš„ä½“éªŒã€‚ç„¶è€Œï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œç”¨æˆ·æ“ä½œåŽéœ€è¦ç»è¿‡ç½‘ç»œè¯·æ±‚ï¼Œè¿”å›žç»“æžœåŽæ‰çŸ¥é“åº”è¯¥å¦‚ä½•å±•ç¤ºå¼¹æ¡†ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œç®€å•çš„ <code class="language-text">fetch().then(() =&gt; window.open())</code> è‚¯å®šæ˜¯ä¸è¡Œçš„ã€‚éœ€è¦ä¸€äº› Hack çš„æ–¹æ¡ˆï¼Œå¦‚ä¸‹ã€‚</p>
<p>åœ¨ç”¨æˆ·è¿›è¡Œäº†æ“ä½œä¹‹åŽï¼Œé¦–å…ˆå…ˆæ‰“å¼€ä¸€ä¸ªæ–°çš„çª—å£ï¼Œç­‰åˆ°å¼‚æ­¥æ“ä½œè¿”å›žä¹‹åŽï¼Œå†é€šè¿‡ JavaScript ä¿®æ”¹è¿™ä¸ªçª—å£çš„åœ°å€ï¼Œä»Žè€Œè¾¾åˆ°å¼‚æ­¥æ‰“å¼€çª—å£çš„ç›®çš„ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">element<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> win <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œ</span>
  <span class="token keyword">await</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  win<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">'actual location'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>è¿™æ ·æ“ä½œå¯èƒ½çš„é—®é¢˜åŠè§£å†³æ–¹æ³•ï¼š</p>
<ol>
<li>å¦‚æžœåœ¨å¼‚æ­¥çš„è¿‡ç¨‹ä¸­æœ¬çª—å£è¢«å…³é—­äº†ï¼Œå°±ä¼šç•™ä¸‹ä¸€ä¸ªç©ºç™½çš„æ–°çª—å£ã€‚å› è€Œï¼Œéœ€è¦ç›‘å¬ <code class="language-text">beforeunload</code> äº‹ä»¶ï¼Œä»¥ä¿è¯å¿…è¦æ—¶å€™å¯ä»¥å…³é—­æ–°æ‰“å¼€çš„çª—å£ï¼›</li>
<li>å¦‚æžœå¼‚æ­¥çš„æ—¶é—´æ¯”è¾ƒé•¿ï¼Œæ‰“å¼€ä¸€ä¸ªç©ºç™½çš„çª—å£ç”¨æˆ·ä½“éªŒè¾ƒå·®ï¼ˆæ‰“å¼€åŽé»˜è®¤ä¼šèŽ·å¾—ç„¦ç‚¹ï¼‰ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥æ‰“å¼€ä¸€ä¸ªé™æ€çš„é¡µé¢ï¼Œå±•ç¤ºä¸€ä¸ª loading çš„ UI ä»¥å‘Šè¯‰ç”¨æˆ·å½“å‰æ­£åœ¨è¿›è¡Œçš„æ“ä½œã€‚å¾…å¼‚æ­¥æ“ä½œå®Œæˆï¼Œå†é€šè¿‡ postMessage ç­‰æ–¹å¼é€šçŸ¥çª—å£è¿›è¡Œé¡µé¢çš„è·³è½¬ã€‚</li>
</ol></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">compareDocumentPosition<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-09-18_comparedocumentposition">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-09-18">2019-09-18</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>åœ¨åˆ¤æ–­ä¸€ä¸ª DOM èŠ‚ç‚¹æ˜¯å¦åŒ…å«å¦ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™ï¼Œå¸¸å¸¸ç”¨åˆ° <code class="language-text">contains</code> è¿™ä¸ª APIã€‚åœ¨å®žé™…çš„ä½¿ç”¨ä»Žè¿‡ç¨‹ä¸­ï¼Œä¹Ÿç»å¸¸ä¼šé‡åˆ°è¿™æ ·çš„æƒ…å†µï¼Œéœ€è¦åˆ¤æ–­ A æ˜¯å¦åŒ…å« Bï¼Œè¿”å›žæ˜¯ <code class="language-text">false</code>ï¼Œä½†ç»è¿‡æŽ’æŸ¥ï¼Œå‘çŽ°å…¶å®ž A å’Œ B å°±æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå…‰ç”¨ <code class="language-text">contains</code> API å°±æœ‰ç‚¹ä¸å¤Ÿç”¨äº†ã€‚åŒæ—¶ï¼Œä¹Ÿæš´éœ²äº†è¿™ä¸ª API æœ¬èº«èƒ½åŠ›çš„å±€é™æ€§ã€‚</p>
<p>åœ¨ DOM Level 3 çš„<a href="https://www.w3.org/TR/DOM-Level-3-Core/core.html#Node3-compareDocumentPosition">è§„èŒƒ</a>ä¸­ï¼Œå®šä¹‰äº†ä¸€ä¸ªæ–°çš„ APIï¼Œ<code class="language-text">compareDocumentPosition</code>ã€‚ç›¸æ¯”äºŽ <code class="language-text">contains</code>ï¼Œ<code class="language-text">compareDocumentPosition</code> æä¾›äº†æ›´å¼ºå¤§çš„åˆ¤æ–­ç»“æžœã€‚</p>
<p><code class="language-text">compareDocumentPosition</code> è¿™ä¸ª API æ¯”è¾ƒåŽä¼šè¿”å›žä¸€ä¸ªæ•°å­—ï¼Œé€šè¿‡äºŒè¿›åˆ¶ä½çš„æ¯”è¾ƒï¼Œå¯ä»¥ç”¨äºŽåˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»ã€‚å‡è®¾è°ƒç”¨çš„å‡½æ•°ä¸º <code class="language-text">A.compareDocumentPosition(B)</code>ï¼Œé‚£ä¹ˆè¿”å›žå€¼å…·ä½“æ”¯æŒçš„ç±»åž‹å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>å¸¸é‡å</th>
<th>å€¼</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">Node.DOCUMENT_POSITION_DISCONNECTED</code></td>
<td>1</td>
<td>ä¸åœ¨ä¸€ä¸ªæ–‡æ¡£ä¸­</td>
</tr>
<tr>
<td><code class="language-text">Node.DOCUMENT_POSITION_PRECEDING</code></td>
<td>2</td>
<td>B åœ¨ A ä¹‹å‰</td>
</tr>
<tr>
<td><code class="language-text">Node.DOCUMENT_POSITION_FOLLOWING</code></td>
<td>4</td>
<td>B åœ¨ A ä¹‹åŽ</td>
</tr>
<tr>
<td><code class="language-text">Node.DOCUMENT_POSITION_CONTAINS</code></td>
<td>8</td>
<td>B åŒ…å« A</td>
</tr>
<tr>
<td><code class="language-text">Node.DOCUMENT_POSITION_CONTAINED_BY</code></td>
<td>16</td>
<td>A åŒ…å« B</td>
</tr>
<tr>
<td><code class="language-text">Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC</code></td>
<td>32</td>
<td>A å’Œ B çš„ä½ç½®å…³ç³»å–å†³äºŽå…·ä½“çš„å®žçŽ°æ–¹å¼ï¼ˆä¸ç”±è§„èŒƒç¡®å®šï¼‰</td>
</tr>
</tbody>
</table>
<p>è¿™é‡Œä¹‹æ‰€ä»¥ä½¿ç”¨äºŒè¿›åˆ¶ä½è¡¨ç¤ºä½ç½®å…³ç³»ï¼Œä¸€ä¸ªå¾ˆé‡è¦çš„åŽŸå› å°±æ˜¯ï¼šAPI æœ‰å¯èƒ½ä¼šä¸€æ¬¡æ€§è¿”å›žå¤šä¸ªç»“æžœã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾ <code class="language-text">A.contains(B)</code> è¿”å›ž <code class="language-text">true</code>ã€‚é‚£ä¹ˆï¼Œåœ¨è°ƒç”¨ <code class="language-text">A.compareDocumentPosition(B)</code> çš„æ—¶å€™ï¼Œè¿”å›žå€¼æ˜¯ <code class="language-text">20</code>ï¼Œä¹Ÿå°±æ˜¯ <code class="language-text">Node.DOCUMENT_POSITION_FOLLOWING | Node.DOCUMENT_POSITION_CONTAINED_BY</code> çš„ç»“æžœã€‚æ¢å¥è¯è¯´ï¼ŒB å…ƒç´ åœ¨æ–‡æ¡£ä¸­çš„ä½ç½®åœ¨ A çš„åŽé¢ï¼ŒåŒæ—¶ B ä¹Ÿæ˜¯ A çš„ä¸€ä¸ªå­å…ƒç´ ã€‚</p>
<p>è¿™é‡Œï¼Œ<code class="language-text">Node.DOCUMENT_POSITION_DISCONNECTED</code> è¡¨ç¤ºä¸¤ä¸ªèŠ‚ç‚¹ä¸å†åŒä¸€ä¸ªæ–‡æ¡£ä¸­ï¼Œæœ‰å‡ ç§å¯èƒ½çš„æƒ…å†µï¼š</p>
<ol>
<li>A å’Œ B ä¸­æŸä¸€ä¸ªå­˜åœ¨äºŽ iframe ä¸­ï¼Œå› è€Œä¸¤è€…ä¸å±žäºŽåŒä¸€ä¸ªæ–‡æ¡£ï¼ˆ<code class="language-text">A.ownerDocument !== B.ownerDocument</code>ï¼‰ï¼›</li>
<li>A å’Œ B ä¸­æŸä¸€ä¸ªå…ƒç´ è¢«åˆ é™¤äº†ï¼ˆæˆ–æ²¡æœ‰æ’å…¥åˆ° DOM ä¸­ï¼‰ï¼Œå¯¼è‡´ä¸¤è€…ä¸å±žäºŽåŒä¸€ä¸ªæ–‡æ¡£ï¼ˆå¯ä»¥é€šè¿‡ <code class="language-text">A.parentElement</code> å’Œ <code class="language-text">B.parentElement</code> åˆ¤æ–­æ˜¯å¦è¢«åˆ é™¤ï¼Œè¢«åˆ åŽå°±æ²¡æœ‰çˆ¶å…ƒç´ äº†ï¼‰</li>
</ol>
<p>å¦å¤–ï¼Œ<code class="language-text">DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC</code> æœ‰ä¸¤ç§æƒ…å†µï¼š</p>
<ol>
<li>A å’Œ B æ²¡æœ‰ä»»ä½•ç›¸åŒçš„ containerï¼Œè¿™ç§æƒ…å†µå’Œ <code class="language-text">Node.DOCUMENT_POSITION_DISCONNECTED</code> æ˜¯ç­‰ä»·çš„ã€‚æ¢å¥è¯è¯´ï¼Œå½“æœ‰ <code class="language-text">Node.DOCUMENT_POSITION_DISCONNECTED</code> çš„æ—¶å€™ï¼Œä¸€å®šåŒæ—¶æœ‰ <code class="language-text">Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC</code>ï¼›</li>
<li>A å’Œ B æ˜¯åŒä¸€ä¸ªå…ƒç´ çš„ä¸¤ä¸ªå±žæ€§å€¼ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œè°å…ˆè°åŽæ˜¯ç”±å…·ä½“å®žçŽ°å†³å®šçš„ã€‚æ¯”å¦‚ï¼Œ<code class="language-text">Element.attributes</code> è¿”å›žä¸€ä¸ª <code class="language-text">NamedNodeMap</code>ã€‚æ ¹æ®<a href="https://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-1780488922">è§„èŒƒ</a> çš„å®šä¹‰ï¼Œ<code class="language-text">NamedNodeMap</code> ä¸ç»´æŠ¤ä¸€ä¸ªå…·ä½“çš„é¡ºåºï¼Œä½†åŒæ—¶æä¾›ä½¿ç”¨ index è®¿é—®çš„ APIã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<code class="language-text">Element.attributes</code> ä¸­çš„ä»»æ„ä¸¤ä¸ªå­—æ®µï¼Œæ˜¯æ²¡æœ‰å®šä¹‰ä¸Šçš„å…ˆåŽä¹‹åˆ†çš„ï¼ˆè™½ç„¶å¯èƒ½é€šè¿‡ä¸åŒçš„ä¸‹æ ‡èŽ·å–åˆ°ï¼‰ã€‚å…·ä½“æ¥è¯´ï¼š</li>
</ol>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// div = &lt;div id="id" class="class>&lt;/div></span>
<span class="token keyword">const</span> attributes <span class="token operator">=</span> div<span class="token punctuation">.</span>attributes<span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> attributes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">compareDocumentPosition</span><span class="token punctuation">(</span>attributes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// result = 36</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>è¿™é‡Œï¼Œ<code class="language-text">compareDocumentPosition</code> è¿”å›žçš„ç»“æžœæ˜¯ <code class="language-text">36</code>ï¼Œå³ <code class="language-text">Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC | Node.DOCUMENT_POSITION_PRECEDING</code>ã€‚å› æ­¤ï¼Œåœ¨å®žé™…ä½¿ç”¨ API çš„æ—¶å€™ï¼Œæœ‰å¿…è¦æ£€æŸ¥æ˜¯å¦æœ‰ <code class="language-text">Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC</code> è¿™ä¸€ä½ï¼Œå¦‚æžœæœ‰çš„è¯ï¼Œå…¶ä»–çš„ç»“æžœéƒ½å¯ä»¥å¿½ç•¥ä¸è®¡äº†ã€‚</p>
<p>å¦å¤–ï¼Œå¦‚æžœ A å’Œ B æ˜¯åŒä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆè¿”å›žçš„ç»“æžœå°†æ˜¯ <code class="language-text">0</code>ï¼Œå› ä¸º A å’Œ B çš„å…³ç³»ä¸å±žäºŽä¸Šé¢åˆ—å‡ºçš„ä»»ä½•ä¸€ç§æƒ…å†µã€‚åŒæ—¶ï¼Œä¹Ÿä¸éš¾å‘çŽ°ï¼Œåªæœ‰å½“ A å’Œ B æ˜¯åŒä¸€ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œæ‰ä¼šå‡ºçŽ°è¿”å›žå€¼æ˜¯ 0 çš„æƒ…å†µã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Download Chunk via ServiceWorker<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-09-16_download-chunk-via-serviceworker">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-09-16">2019-09-16</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>çŽ°åœ¨ Web ç«¯çš„è§†é¢‘æ’­æ”¾ï¼Œå¤§å¤šé‡‡ç”¨åŸºäºŽ <a href="https://en.wikipedia.org/wiki/HTTP_Live_Streaming">HLS</a> æˆ–æ˜¯ <a href="https://en.wikipedia.org/wiki/Dynamic_Adaptive_Streaming_over_HTTP">MPEG Dash</a> çš„æ–¹æ¡ˆï¼Œå°†è§†é¢‘å†…å®¹åˆ†è§£æˆä¸€ç³»åˆ—å°åž‹ HTTP æ–‡ä»¶ç‰‡æ®µï¼Œæ¯æ®µéƒ½åŒ…å«å¾ˆçŸ­é•¿åº¦çš„å¯æ’­æ”¾ç‰‡æ®µï¼Œç”±å‰ç«¯é€ä¸ªæ‹‰å–ç‰‡æ®µå¹¶æ’­æ”¾ï¼Œæœ€ç»ˆå½¢æˆå®Œæ•´çš„æ’­æ”¾è§†é¢‘ã€‚</p>
<p>å¯¹äºŽä¸€äº›äº‘å­˜å‚¨ç½‘ç«™æ¥è¯´ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç±»ä¼¼çš„æ–¹æ¡ˆæ¥ä¸ºç”¨æˆ·æä¾›ä¸‹è½½æœåŠ¡ã€‚åœ¨åˆ†ç‰‡ä¸‹è½½æ–‡ä»¶çš„è¿‡ç¨‹ä¸­ï¼ŒæœåŠ¡å•†å¯ä»¥å¯¹ä¸‹è½½çš„ç”¨æˆ·è¿›è¡Œæ ¡éªŒã€‚åŒæ—¶ï¼Œç”±äºŽéœ€è¦åˆ†æ®µä¸‹è½½å†…å®¹å¹¶æ‹¼æŽ¥ï¼Œé¿å…äº†å•ä¸€ URL é€ æˆç›—é“¾ç­‰é—®é¢˜ã€‚ç„¶è€Œï¼Œä¸€ä¸ªç”¨æˆ·ä½“éªŒçš„é—®é¢˜æ˜¯ï¼Œè¿™ç§å½¢å¼çš„ä¸‹è½½å¦‚ä½•å¯ä»¥ç»™ç”¨æˆ·ä¸€ä¸ªæ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼šæ˜¾ç„¶ä¸èƒ½å°†åˆ†æ®µçš„ä¸‹è½½å†…å®¹ç›´æŽ¥å‘ˆçŽ°ç»™ç”¨æˆ·ï¼Œç”¨æˆ·ä¹Ÿä¸åº”è¯¥å…³å¿ƒè¿™äº›åˆ†ç‰‡çš„å†…å®¹ï¼›å¦‚æžœè¦ç­‰åˆ°å‰ç«¯å°†æ‰€æœ‰å†…å®¹ä¸‹è½½å®Œæˆå¹¶æ‹¼æŽ¥åŽå†å‘ˆçŽ°ç»™å®¢æˆ·ï¼Œé‚£ä¹ˆåœ¨æ–‡ä»¶è¾ƒå¤§çš„æ—¶å€™ä¼šè®©ç”¨æˆ·ç­‰å¾…å¾ˆä¹…ï¼Œç”¨æˆ·ä½“éªŒä¸ä½³ã€‚</p>
<p>è¿™æ—¶å€™ï¼Œå°±å¯ä»¥ç”¨åˆ° Service Worker çš„ Proxy åŠŸèƒ½äº†ï¼Œå¯ä»¥åœ¨å‰ç«¯è¿›è¡Œæ‹¼æŽ¥æ•°æ®çš„è¿‡ç¨‹ä¸­ï¼Œç»™ç”¨æˆ·ç­‰åŒäºŽä¸€èˆ¬ä¸‹è½½æ–‡ä»¶çš„ä½“éªŒã€‚</p>
<p>å¤§è‡´çš„æµç¨‹ä»£ç å¦‚ä¸‹ï¼š</p>
<p>é¦–å…ˆï¼Œéœ€è¦åœ¨ Service Worker å’Œ Main çº¿ç¨‹è§å»ºç«‹ä¸€ä¸ªé€šä¿¡æœºåˆ¶ã€‚æ¯”å¦‚ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨ MessageChannelã€‚åœ¨ Main çº¿ç¨‹åˆ›å»ºä¸€ä¸ª MessageChannelï¼Œç„¶åŽå°† Channel å‘é€ç»™ Service Workerã€‚ä¹‹åŽä¸¤è€…é€šè¿‡è¿™ä¸ª Channel è¿›è¡Œæ•°æ®çš„æ²Ÿé€šï¼ˆä¸»è¦æ˜¯ Main å°†ä¸‹è½½å¥½çš„æ–‡ä»¶ç‰‡æ®µå‘é€ç»™ Service Workerï¼‰ã€‚</p>
<p>æŽ¥ç€ï¼Œåœ¨ Service Worker ç«¯çš„ MessageChannel æ”¶åˆ°æ–°çš„æ•°æ®ä¹‹åŽï¼Œåˆ›å»ºä¸€ä¸ª ReadableStream å¹¶å°†æ•°æ®å†™å…¥è¿™ä¸ª Streamã€‚</p>
<p>æœ€åŽï¼ŒMain ä¼šé€šè¿‡ JavaScript è®¿é—®ä¸€ä¸ªä¸å­˜åœ¨çš„ä¸‹è½½é“¾æŽ¥ï¼Œé‡Œé¢åº”è¯¥åŒ…å«ä¸€ä¸ª IDï¼Œç”¨äºŽæŒ‡æ˜Žéœ€è¦çš„æ–‡ä»¶å…·ä½“æ˜¯å“ªä¸€ä¸ªï¼ˆä¸»è¦æ˜¯è€ƒè™‘åˆ°å¤šä¸ªæ–‡ä»¶åŒæ—¶ä¸‹è½½çš„æƒ…å†µï¼‰ã€‚Service Worker é€šè¿‡ fetch äº‹ä»¶æ‹¦æˆªè¿™ä¸ªè¯·æ±‚ï¼Œå¹¶é€šè¿‡ URL ä¸­çš„ ID æ‰¾åˆ°å¯¹åº”çš„ ReadableStreamï¼Œå¹¶å°†è¿™ä¸ª Stream ä½œä¸º Response è¿”å›žã€‚è¿™æ ·ï¼Œåœ¨æµè§ˆå™¨çš„ä¸‹è½½é¡µé¢å°±å¯ä»¥çœ‹åˆ°è¯¥æ–‡ä»¶æ­£åœ¨è¢«ä¸‹è½½ã€‚å’ŒåŽŸç”Ÿçš„ä¸‹è½½ä½“éªŒä¸€è‡´ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥çœ‹åˆ°ä¸‹è½½çš„åç§°ã€å½“å‰çš„é€Ÿåº¦ã€å‰©ä½™çš„æ—¶é—´ç­‰ä¿¡æ¯ã€‚</p>
<p>å¦‚æ­¤ï¼Œä¸€ä¸ªå®Œæ•´çš„æµç¨‹å°±èµ°å®Œäº†ã€‚å‰ç«¯ä¸‹è½½æ–‡ä»¶åˆ†ç‰‡ï¼Œå°†åˆ†ç‰‡æ•°æ®å‘é€ç»™ Service Workerï¼ŒService Worker æ”¶åˆ°æ•°æ®ä¹‹åŽï¼Œå°†æ•°æ®å†™å…¥åˆ° ReadableStream ä¸­åŽ»ï¼›åŒæ—¶ï¼Œè¿™ä¸ª ReadableStream ä»¥ Response çš„å½¢å¼è¿”å›žç»™ Main çº¿ç¨‹ï¼Œå°†è¿™ä¸ªæ‹¼æŽ¥ä¸­çš„æ–‡ä»¶é€æ­¥ä¸‹è½½åˆ°æœ¬åœ°ã€‚</p>
<p>Fetch äº‹ä»¶çš„ä»£ç†ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">self<span class="token punctuation">.</span><span class="token function-variable function">onfetch</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> url <span class="token punctuation">}</span> <span class="token operator">=</span> event<span class="token punctuation">.</span>request<span class="token punctuation">;</span>
  <span class="token comment">// è·³è¿‡ä¸€èˆ¬çš„è¯·æ±‚</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isDownloadUrl</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> event<span class="token punctuation">.</span><span class="token function">respondWith</span><span class="token punctuation">(</span><span class="token function">fetch</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>request<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> headers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Headers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  headers<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'Content-Type'</span><span class="token punctuation">,</span> <span class="token string">'application/octet-stream; charset=UTF-8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// èŽ·å– URL ä¸­çš„ ID æ•°æ®</span>
  <span class="token comment">// ç›¸å½“äºŽ Main çº¿ç¨‹é€šè¿‡ URL ä¼ é€’å‚æ•°ç»™ Service Workerï¼Œç”¨äºŽè¡¨ç¤ºæƒ³è¦ä¸‹è½½çš„å…·ä½“æ•°æ®</span>
  <span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token function">getDownloadFileID</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> streamInfo <span class="token operator">=</span> streamMapping<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>streamInfo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ²¡æœ‰æ‰¾åˆ°æ•°æ®çš„æƒ…å†µï¼Œè¿”å›ž 404</span>
    <span class="token keyword">return</span> event<span class="token punctuation">.</span><span class="token function">respondWith</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span><span class="token string">'Not Found'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      headers<span class="token punctuation">,</span>
      status<span class="token punctuation">:</span> <span class="token number">404</span><span class="token punctuation">,</span>
      statusText<span class="token punctuation">:</span> <span class="token string">'Not Found'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> <span class="token punctuation">{</span> filename <span class="token punctuation">}</span> <span class="token operator">=</span> streamInfo<span class="token punctuation">;</span>
  <span class="token comment">// Content-Disposition ä¸­çš„ filename å¿…é¡»æ˜¯ US-ASCII</span>
  <span class="token comment">// http://tools.ietf.org/html/rfc2183#section-2.3</span>
  <span class="token keyword">const</span> asciiName <span class="token operator">=</span> filename<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/[^\x20-\x7e\xa0-\xff]/g</span><span class="token punctuation">,</span> <span class="token string">'?'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// é€šè¿‡ filename*=UTF-8''xxx è¿™æ ·çš„æ–¹å¼ï¼Œå¯ä»¥è®©æµè§ˆå™¨ä½¿ç”¨ UTF-8 çš„æ–‡ä»¶å</span>
  <span class="token keyword">const</span> encodedName <span class="token operator">=</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/['()]/g</span><span class="token punctuation">,</span> escape<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\*/g</span><span class="token punctuation">,</span> <span class="token string">"%2A"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  headers<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>
    <span class="token string">'Content-Disposition'</span><span class="token punctuation">,</span>
    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">attachment; filename="</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>asciiName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"; filename*=UTF-8''</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>encodedName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  headers<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'Content-Length'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>streamInfo<span class="token punctuation">.</span>filesize<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  headers<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'X-Content-Type-Options'</span><span class="token punctuation">,</span> <span class="token string">'nosniff'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// å°† Service Worker ä¸­çš„ stream ä½œä¸º Response è¿”å›ž</span>
  <span class="token comment">// åªè¦ Stream æ²¡æœ‰å®Œç»“ï¼Œæµè§ˆå™¨çš„ä¸‹è½½è¡Œä¸ºå°±ä¼šç»§ç»­ï¼Œç›´åˆ° Stream åœæ­¢</span>
  <span class="token keyword">return</span> event<span class="token punctuation">.</span><span class="token function">respondWith</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span>streamInfo<span class="token punctuation">.</span>stream<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    headers
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>å…³äºŽä¸Šé¢ä»£ç çš„ä¸¤ä¸ªå»¶ä¼¸é˜…è¯»ï¼š</p>
<ol>
<li>è™½ç„¶ Content-Disposition é»˜è®¤åªèƒ½å†™ ASCII çš„æ–‡ä»¶åï¼Œä½†æ˜¯ UTF-8 çš„æ–‡ä»¶åä¹Ÿæ˜¯å¯ä»¥è®¾ç½®çš„ã€‚å…³äºŽ <code class="language-text">filename*=UTF-8&#39;&#39;xxx</code> è¿™ç§è®¾ç½®æ–¹æ¡ˆï¼Œåœ¨ <a href="https://stackoverflow.com/questions/93551/how-to-encode-the-filename-parameter-of-content-disposition-header-in-http">StackOverflow</a> ä¸Šæœ‰ç›¸å…³è®¨è®º</li>
<li><code class="language-text">X-COntent-Type-Options</code> è®¾ç½®ä¸º <code class="language-text">nosniff</code> å¯ä»¥é˜»æ­¢æµè§ˆå™¨çš„ <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types#MIME_sniffing">MIME ç±»åž‹å—…æŽ¢</a>ï¼Œæ›´å¤šè®¨è®ºå¯ä»¥å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/X-Content-Type-Options">MDN</a></li>
</ol>
<p>åˆ›å»ºå’Œä½¿ç”¨ Stream çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">getStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> stream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ReadableStream</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token function-variable function">start</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">controller</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span>stream<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">pull</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">controller</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          <span class="token comment">// å½“ä»Ž Stream èŽ·å–æ•°æ®çš„æ—¶å€™ï¼Œè¿”å›žä¸€ä¸ª Promise</span>
          <span class="token comment">// å¹¶åœ¨ onUpdate èµ‹å€¼ï¼Œç­‰å¾… Main çº¿ç¨‹çš„æ•°æ®</span>
          <span class="token comment">// å½“ Main çº¿ç¨‹ä¼ é€’æ–°æ•°æ®ä¹‹åŽï¼Œè°ƒç”¨è¿™é‡Œçš„ onUpdate å‡½æ•°ï¼Œå°† data ä¼ å…¥</span>
          <span class="token comment">// æŽ¥ä¸‹æ¥é€šè¿‡ FileReader è¯»å–æ•°æ®ï¼Œè½¬åŒ–æˆ Uint8Arrayï¼Œæ”¾å…¥ Stream ä¸­</span>
          <span class="token comment">// åœ¨æ¸…é™¤ onUpdate å‡½æ•°ï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡ Pull</span>
          streamInfo<span class="token punctuation">.</span><span class="token function-variable function">onUpdate</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            reader<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
              <span class="token keyword">const</span> <span class="token punctuation">{</span> target <span class="token punctuation">}</span> <span class="token operator">=</span> e<span class="token punctuation">;</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>streamInfo<span class="token punctuation">.</span>stream<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                controller<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                streamInfo<span class="token punctuation">.</span>onUpdate <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
                <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token function">reject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
            reader<span class="token punctuation">.</span><span class="token function">readAsArrayBuffer</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>ä»Ž Main èŽ·å–æ•°æ®å¹¶æ›´æ–°ç»™ Stream çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">self<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> ports <span class="token punctuation">}</span> <span class="token operator">=</span> event<span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>portA <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> portB <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">]</span> <span class="token operator">=</span> ports<span class="token punctuation">;</span>
  <span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// æ ¹æ®æ¶ˆæ¯ç±»åž‹ï¼Œé€‰æ‹©åˆ›å»ºä¸€ä¸ªæ–°çš„ stream æˆ–æ˜¯å¾€ä¸€ä¸ªå·²ç»åˆ›å»ºçš„ stream ä¸­å†™å…¥æ•°æ®</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'create'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">getStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">stream</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        streamInfo<span class="token punctuation">[</span>data<span class="token punctuation">.</span>id<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
          filesize<span class="token punctuation">:</span> data<span class="token punctuation">.</span>filesize<span class="token punctuation">,</span>
          filename<span class="token punctuation">:</span> data<span class="token punctuation">.</span>filename<span class="token punctuation">,</span>
          stream
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'insert'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      portB<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> chunk <span class="token punctuation">}</span> <span class="token operator">=</span> msg<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>streamInfo<span class="token punctuation">[</span>data<span class="token punctuation">.</span>id<span class="token punctuation">]</span><span class="token punctuation">.</span>onUpdate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          streamInfo<span class="token punctuation">[</span>data<span class="token punctuation">.</span>id<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">onUpdate</span><span class="token punctuation">(</span>chunk<span class="token punctuation">,</span> resolve<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token comment">// ç­‰å¾… onUpdate API åˆ›å»º...</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  event<span class="token punctuation">.</span><span class="token function">waitUntil</span><span class="token punctuation">(</span>promise<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p><a href="https://www.myairbridge.com/en/">MyAirBridge</a> ç½‘ç«™ä½¿ç”¨äº†ç±»ä¼¼ä¸Šé¢æåˆ°çš„æŠ€æœ¯æ¥ä¸‹è½½ä¸­çš„æ–‡ä»¶å†…å®¹ã€‚Service Worker çš„ä»£ç å‚è€ƒ<a href="https://www.myairbridge.com/media/js_compiled/sw-download-10bfedd.js">è¿™é‡Œ</a>ã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Clipboard Event<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-09-10_clipboard-event">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-09-10">2019-09-10</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>JavaScript æä¾›äº† copy äº‹ä»¶ï¼Œå¯ä»¥é’ˆå¯¹ä¸€èˆ¬çš„å¤åˆ¶åŠ¨ä½œè¿›è¡Œä¸€äº›é¢å¤–çš„æ“ä½œã€‚æ¯”å¦‚ï¼Œä¸€äº›ç½‘ç«™å‡ºäºŽç‰ˆæœ¬çš„è€ƒè™‘ï¼Œå¯èƒ½ä¼šç¦æ­¢æ‹·è´ï¼›æˆ–è€…ï¼Œä¸€äº›ç½‘ç«™å…è®¸æ‹·è´ï¼Œä½†æ˜¯ä¼šå¸Œæœ›åœ¨æ‹·è´çš„å†…å®¹åŽé¢åŠ ä¸Šä¸€äº›ç‰ˆæƒçš„å£°æ˜Žã€‚è¿™äº›æ“ä½œï¼Œéƒ½å¯ä»¥é€šè¿‡ copy äº‹ä»¶è¿›è¡Œå¤„ç†ã€‚</p>
<p>ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æžœå¸Œæœ›ç¦æ­¢ç½‘ç«™ä¸Šå†…å®¹çš„æ‹·è´ï¼Œå¯ä»¥å†™ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'copy'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œé€šè¿‡ <code class="language-text">event.preventDefault</code> API çš„è°ƒç”¨ï¼Œå¯ä»¥ç»„ç»‡æµè§ˆå™¨é»˜è®¤çš„å¤åˆ¶è¡Œä¸ºã€‚è¿™æ ·ï¼Œå³ä½¿ç”¨æˆ·è¿›è¡Œäº†å¤åˆ¶ï¼Œå®žé™…ä¸Šå‰ªè´´æ¿ä¹Ÿä¸ä¼šè¢«æ›´æ–°ã€‚</p>
<p>ç¬¬äºŒä¸ªä¾‹å­ï¼Œå‡è®¾å¸Œæœ›åœ¨å¤åˆ¶çš„å†…å®¹åŽé¢åŠ ä¸Šé¢å¤–çš„æ•°æ®ï¼Œå¯ä»¥å†™ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'copy'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> selection <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> text <span class="token operator">=</span> selection<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  event<span class="token punctuation">.</span>clipboardData<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">'text/plain'</span><span class="token punctuation">,</span> text <span class="token operator">+</span> <span class="token string">'\nExtra Text at Bottom'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>éœ€è¦æ³¨æ„å‡ ç‚¹ï¼š</p>
<ol>
<li><code class="language-text">setData</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ•°æ®çš„æ ¼å¼ï¼Œæ”¯æŒçš„ç±»åž‹å¯ä»¥å‚è€ƒ <a href="https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/types">MDN</a>ï¼Œä¸»è¦å°±æ˜¯ <a href="https://en.wikipedia.org/wiki/MIME">MIME</a> ç±»åž‹ï¼Œä¸€èˆ¬çº¯æ–‡æœ¬å¯ä»¥ä½¿ç”¨ <code class="language-text">text/plain</code></li>
<li>åœ¨è°ƒç”¨ <code class="language-text">setData</code> ä¹‹åŽï¼Œéœ€è¦è°ƒç”¨ <code class="language-text">event.preventDefault</code> æ‰èƒ½ä¿è¯è®¾ç½®æˆåŠŸï¼Œå¦åˆ™æœ€ç»ˆå¤åˆ¶å‡ºæ¥çš„ä¾ç„¶æ˜¯åŽŸå§‹çš„æ–‡æ¡ˆ</li>
</ol>
<p>æœ€åŽï¼Œéœ€è¦è¯´æ˜Žçš„ä¸€ç‚¹æ˜¯ï¼šå‡ºäºŽæµ‹è¯•æˆ–è€…å…¶ä»–ç›®çš„ï¼ŒJavaScript ä¹Ÿæ”¯æŒåˆ›å»ºä¸€ä¸ª ClipboardEvent å¹¶å‘é€ç»™ç›‘å¬çš„å…ƒç´ ï¼Œå¦‚ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'copy'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'copy event triggered'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  event<span class="token punctuation">.</span>clipboardData<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">'text/plain'</span><span class="token punctuation">,</span> <span class="token string">'hello world'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> event <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClipboardEvent</span><span class="token punctuation">(</span><span class="token string">'copy'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> clipboardData<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">DataTransfer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>é‚£ä¹ˆï¼Œå›žè°ƒå‡½æ•°å¯ä»¥æ­£å¸¸æ‰§è¡Œï¼ˆConsole å¯ä»¥çœ‹åˆ°è¾“å‡ºï¼‰ï¼Œä½†æ˜¯ event å†…å°è¯•è®¾ç½® Clipboard çš„æ•°æ®å¹¶ä¸ä¼šæˆåŠŸã€‚</p>
<p>æ€»ä½“ä¸Šæ¥è¯´ï¼Œæµè§ˆå™¨ç«¯æä¾›çš„ Copy äº‹ä»¶ï¼Œåªèƒ½èŽ·å–/ä¿®æ”¹æµè§ˆå™¨å†…å‘ç”Ÿçš„å‰ªè´´æ¿å¤åˆ¶æ“ä½œï¼›å¯¹äºŽç”¨æˆ·æœ¬èº«å‰ªè´´æ¿æ“ä½œå†…æœ‰çš„æ•°æ®æ˜¯æ— æ³•è¯»å–çš„ï¼Œåœ¨éžç”¨æˆ·è§¦å‘çš„æƒ…å†µä¸‹ï¼Œå‰ªè´´æ¿çš„æ•°æ®ä¹Ÿæ˜¯æ— æ³•ç›´æŽ¥è¢«ä¿®æ”¹çš„ã€‚</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardEvent">å»¶ä¼¸é˜…è¯»</a>ã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">URLSearchParams<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-09-05_urlsearchparams">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-09-05">2019-09-05</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>å‰ç«¯é¡¹ç›®ï¼Œæ€»å…ä¸äº†å†™ä¸€äº›æ“ä½œ URL ä¸­ query string çš„ API ä»£ç ï¼Œæ¯”å¦‚è¯»å–å½“å‰ URL ä¸­çš„ query æ•°æ®ï¼Œæˆ–æ˜¯æ ¹æ®ä¸€ä¸ª Object å¯¹è±¡æ‹¼æŽ¥å‡ºä¸€ä¸ª query stringï¼Œç­‰ç­‰ã€‚</p>
<p>å…¶å®žï¼ŒçŽ°ä»£æµè§ˆå™¨ä¸­å·²ç»æä¾›äº† <code class="language-text">URLSearchParams</code> ç±»ï¼Œå¯ä»¥å¤§å¤§ç®€åŒ–è¿™éƒ¨åˆ†çš„æ“ä½œï¼Œä¹Ÿæ— éœ€å†è‡ªå·±ç»´æŠ¤ä¸€ä¸ª <code class="language-text">qs</code> æˆ–æ˜¯ç±»ä¼¼çš„åŒ…äº†ã€‚</p>
<p>ä»¥ä¸‹ä»‹ç»å¦‚ä½•é€šè¿‡ <code class="language-text">URLSearchParams</code> å®žçŽ° <code class="language-text">qs.stringify</code> å’Œ <code class="language-text">qs.parse</code> API çš„æ–¹æ³•ï¼š</p>
<p><code class="language-text">qs.parse</code> çš„æ–¹æ³•æ¯”è¾ƒç®€å•ï¼Œåªéœ€è¦å°†å­—ç¬¦ä¸²ä¼ é€’ç»™ <code class="language-text">URLSearchParams</code> å¹¶åˆ›å»ºå®žä¾‹å°±å¯ä»¥äº†ï¼Œå®žä¾‹æœ¬èº«è‡ªå¸¦äº† iteratorï¼Œä¹Ÿæä¾› <code class="language-text">get</code>ï¼Œ<code class="language-text">keys</code> ç­‰ API èƒ½å¾ˆæ–¹ä¾¿çš„èŽ·å–éœ€è¦çš„æ•°æ®ã€‚</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> searchParams <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>search<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> param <span class="token keyword">of</span> searchParams<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token operator">=</span> param<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œä¸è®ºå‚æ•°ä¼ å…¥çš„å­—ç¬¦ä¸²æ˜¯å¦ä»¥ <code class="language-text">?</code> å­—ç¬¦å¼€å¤´ï¼Œ<code class="language-text">URLSearchParams</code> éƒ½é»˜è®¤å¯ä»¥æ­£ç¡®å¤„ç†ï¼Œä¸éœ€è¦åƒ <code class="language-text">qs</code> åŒ…ä¸€æ ·æ˜¾ç¤ºçš„æŒ‡æ˜Žç»™å®šçš„å­—ç¬¦ä¸²æ˜¯å¦æœ‰ <code class="language-text">?</code> å¼€å¤´ï¼ˆ<code class="language-text">ignoreQueryPrefix</code>ï¼‰ã€‚</p>
<p>è¦å®žçŽ° <code class="language-text">qs.stringify</code> çš„åŠŸèƒ½ä¹Ÿä¸éš¾ï¼Œ<code class="language-text">URLSearchParams</code> çš„æž„é€ å™¨æ”¯æŒä¼ å…¥ä¸€ä¸ªæ•°ç»„æˆ–ä¸€ä¸ªå¯¹è±¡ï¼Œä¹Ÿæä¾›äº† <code class="language-text">append</code> API å¯ä»¥å°† key value ä¸€ç»„ä¸€ç»„çš„åŠ å…¥åˆ°å¯¹è±¡ä¸­ï¼Œæœ€åŽåªè¦ä½¿ç”¨ <code class="language-text">toString</code> æ‹¼æŽ¥å‡ºä¸€ä¸ªå®Œæ•´çš„å­—ç¬¦ä¸²å°±å¯ä»¥äº†ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// result in: `a=b`</span>
<span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token string">'b'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// result in: `c=d&amp;e=f`</span>
<span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span><span class="token punctuation">[</span> <span class="token punctuation">[</span><span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'e'</span><span class="token punctuation">,</span> <span class="token string">'f'</span><span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>æ³¨æ„ï¼Œ<code class="language-text">toString</code> æ–¹æ³•å¾—åˆ°çš„å­—ç¬¦ä¸²ï¼Œæœ€å¼€å¤´å¹¶æ²¡æœ‰å¸¦ä¸Š <code class="language-text">?</code> å­—ç¬¦ï¼Œå¦‚æžœæœ‰éœ€è¦çš„è¯ï¼Œå¯ä»¥è‡ªè¡ŒåŠ ä¸Šã€‚</p>
<p>ç»¼ä¸Šï¼Œä¸‹é¢çš„ç­‰å¼æ˜¯æˆç«‹çš„ï¼ˆå‡å®š <code class="language-text">location.search</code> ä¸æ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼‰ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">location<span class="token punctuation">.</span>search <span class="token operator">===</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">?</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>search<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span></code></pre></div>
<p>å½“ç„¶ï¼Œ<code class="language-text">URLSearchParams</code> åœ¨æŸäº›åœºæ™¯ä¸‹è¿˜æ˜¯ä¸èƒ½æ›¿æ¢ <code class="language-text">qs</code> ä¹‹ç±»çš„åº“ï¼Œæ¯”å¦‚ï¼š</p>
<ol>
<li>é¡¹ç›®éœ€è¦æ”¯æŒè€æµè§ˆå™¨ï¼Œå¦‚ IE æ—¶ã€‚<code class="language-text">URLSearchParams</code> çš„æµè§ˆå™¨æ”¯æŒæƒ…å†µè§ï¼š<a href="https://caniuse.com/#search=URLSearchParams">CanIUse</a>ï¼Œæ€»ä½“æ¥è¯´ï¼ŒçŽ°ä»£çš„æµè§ˆå™¨éƒ½å·²ç»æ”¯æŒäº†ï¼Œä½†æ˜¯ IE å®Œå…¨æ²¡æœ‰ã€‚</li>
<li>éœ€è¦ä½¿ç”¨ä¸€äº›æ¯”è¾ƒå†·é—¨çš„è§£æžåŠŸèƒ½æ—¶ï¼Œå¦‚ <code class="language-text">qs</code> æä¾›äº†å¾ˆå¤šå¤æ‚çš„è§£æžæ–¹æ¡ˆï¼ˆè¯¦æƒ…è§<a href="https://www.npmjs.com/package/qs">æ–‡æ¡£</a>ï¼‰</li>
</ol>
<p>ä½†æ€»ä½“æ¥è¯´ï¼Œç»å¤§éƒ¨åˆ†çš„åº”ç”¨åœºæ™¯ä¸‹ï¼Œ<code class="language-text">URLSearchParams</code> éƒ½å¯ä»¥è½»æ¾åº”å¯¹ï¼Œä¸éœ€è¦é¢å¤–çš„åº“è¿›è¡Œå¿—æ„¿äº†ã€‚</p>
<p>æ›´å¤šå…³äºŽ <code class="language-text">URLSearchParams</code> çš„ä»‹ç»ï¼Œå¯ä»¥å‚è€ƒ <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams">MDN</a>ï¼Œ<a href="https://developers.google.com/web/updates/2016/01/urlsearchparams?hl=en">Easy URL Manipulation with URLSearchParams</a> æˆ– <a href="https://url.spec.whatwg.org/#urlsearchparams">WHATWG Spec</a>ã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Replace All Substring<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-08-14_replace-all-substring">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-08-14">2019-08-14</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>JavaScript å†…å»ºçš„ <code class="language-text">String.prototype.replace</code> å‡½æ•°ï¼Œå¦‚æžœä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆæ›¿æ¢è¡Œä¸ºåªä¼šå‘ç”Ÿä¸€æ¬¡ã€‚å¦‚æžœéœ€è¦å°†ä¸€ä¸ªå­—ç¬¦ä¸²å†…æ‰€æœ‰æŸå­å­—ç¬¦ä¸²éƒ½æ›¿æ¢æŽ‰ï¼Œå¾€å¾€éœ€è¦ä¸€äº›é¢å¤–çš„æ“ä½œã€‚ä»¥ä¸‹æä¾›ä¸€äº›å¯è¡Œçš„æ–¹æ¡ˆï¼š</p>
<ol>
<li>ä½¿ç”¨å¾ªçŽ¯è¿›è¡Œå¤šæ¬¡æ›¿æ¢</li>
</ol>
<p>æœ€ç›´è§‚çš„æƒ³æ³•ï¼Œå°±æ˜¯æ›¿æ¢å®ŒæˆåŽé€šè¿‡ <code class="language-text">indexOf</code> ç­‰æ–¹æ¡ˆæŸ¥æ‰¾å­—ç¬¦ä¸²ï¼Œå¦‚æžœè¿˜æœ‰å°±ç»§ç»­æ›¿æ¢ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">replace</span><span class="token punctuation">(</span><span class="token parameter">input<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> to</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>input<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">from</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span> input <span class="token operator">=</span> input<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> to<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> input<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>å½“ç„¶ï¼Œè¿™å¹¶ä¸æ˜¯ä¸€ä¸ªä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<ol start="2">
<li>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼</li>
</ol>
<p><code class="language-text">String.prototype.replace</code> æ”¯æŒç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’æ­£åˆ™è¡¨è¾¾å¼ã€‚æœ‰äº†æ­£åˆ™è¡¨è¾¾å¼ï¼Œåªè¦è®¾ç½®ä¸Š <code class="language-text">g</code> æ ‡ç­¾ï¼Œå°±å¯ä»¥å…¨å±€åŒ¹é…å¹¶æ›¿æ¢æ‰€æœ‰çš„æƒ…å†µäº†ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">replace</span><span class="token punctuation">(</span><span class="token parameter">input<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> to</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> input<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token keyword">from</span><span class="token punctuation">,</span> <span class="token string">'g'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> to<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>è¿™ä¸ªæ–¹æ¡ˆçš„åŠ£åŠ¿åœ¨äºŽï¼Œå¦‚æžœéœ€è¦æ›¿æ¢çš„å†…å®¹ä¸­å«æœ‰æŸäº›æ­£åˆ™è¡¨è¾¾å¼ç‰¹æœ‰çš„åŒ¹é…ç¬¦å·ï¼Œå¯èƒ½ä¼šå¯¼è‡´éžé¢„æœŸçš„ç»“æžœã€‚ä¸¾ä¸ªä¾‹å­æ¥è¯´ï¼Œå¦‚æžœå¸Œæœ›æŠŠ <code class="language-text">.+</code> è¿™ä¸ªå­—ç¬¦ä¸²æ›¿æ¢æˆ <code class="language-text">+.</code> è¿™æ ·ï¼Œä¸Šé¢çš„å‡½æ•°å¹¶ä¸èƒ½è¾¾åˆ°é¢„æœŸçš„æ•ˆæžœï¼Œå› ä¸º <code class="language-text">.+</code> åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å¯ä»¥åŒ¹é…ä»»æ„çš„å­—ç¬¦ã€‚<code class="language-text">replace(&#39;hello.+world&#39;, &#39;.+&#39;, &#39;+.&#39;)</code> çš„æ‰§è¡Œç»“æžœæ˜¯ <code class="language-text">+.</code>ã€‚</p>
<ol start="3">
<li>ä½¿ç”¨ <code class="language-text">split</code> &#x26; <code class="language-text">join</code></li>
</ol>
<p>è¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒå–å·§çš„æ–¹æ¡ˆï¼Œå…ˆç”¨ <code class="language-text">split</code> å‡½æ•°å°†å­—ç¬¦ä¸²è¿›è¡Œæ‹†åˆ†ï¼Œç„¶åŽå†ç”¨ <code class="language-text">join</code> å°†æ‹†åˆ†åŽçš„ç»“æžœé‡æ–°æ‹¼æŽ¥èµ·æ¥ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">replace</span><span class="token punctuation">(</span><span class="token parameter">input<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> to</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> input<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token keyword">from</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>to<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>è¿™ä¸ªæ–¹æ¡ˆä»£ç æ¯”è¾ƒç®€æ´ï¼Œä¹Ÿä¸ä¼šæœ‰æ­£åˆ™è¡¨è¾¾å¼ä¸­æåˆ°çš„é—®é¢˜ã€‚è™½ç„¶è®¡ç®—ä¼šäº§ç”Ÿä¸­é—´å˜é‡ï¼ˆæ•°ç»„ï¼‰ï¼Œä½†åªè¦ä¸æ˜¯é¢‘ç¹æˆ–åœ¨å¤§è§„æ¨¡æ•°æ®ä¸Šä½¿ç”¨ï¼Œæ•ˆçŽ‡çš„å½±å“å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Glob in NPM<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-08-13_glob-in-npm">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-08-13">2019-08-13</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>åœ¨ä½¿ç”¨ stylelint çš„æ—¶å€™ï¼Œå‘çŽ°äº†ä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜ï¼šå¦‚æžœç›´æŽ¥ä½¿ç”¨ stylelint çš„ <code class="language-text">bin</code> æ–‡ä»¶å¯¹æ‰¹é‡ LESS æ–‡ä»¶è¿›è¡Œæ£€æŸ¥ï¼Œç¨‹åºå¯ä»¥å¦‚é¢„æœŸçš„è¿è¡Œï¼›ä½†æ˜¯å¦‚æžœæŠŠåŒæ ·çš„å‘½ä»¤å†™åˆ° <code class="language-text">package.json</code> ä¸­ï¼Œä»¥ npm script çš„æ–¹å¼è¿›è¡Œè¿è¡Œï¼Œæœ€ç»ˆè¢«æ£€æŸ¥çš„æ–‡ä»¶å°±å°‘äº†å¾ˆå¤šï¼Œå®žé™…åªæœ‰ä¸€ä¸ªæ–‡ä»¶å‚ä¸Žäº†æ£€æŸ¥ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œ<code class="language-text">./node_modules/.bin/stylelint src/**/*.less</code> è¿™ä¸ªå‘½ä»¤å¯ä»¥æ£€æŸ¥æ‰€æœ‰çš„ LESS æ–‡ä»¶ï¼Œä½†æ˜¯æŠŠ <code class="language-text">stylelint src/**/*.less</code> å†™åˆ° <code class="language-text">package.josn</code> ä¸­ä¹‹åŽï¼Œå†è¿è¡Œå´åªæ£€æŸ¥äº†ä¸€ä¸ªæ–‡ä»¶ã€‚</p>
<p>é€šè¿‡æ£€æŸ¥ stylelint çš„<a href="https://github.com/stylelint/stylelint/blob/master/docs/user-guide/cli.md">æ–‡æ¡£</a>ï¼Œå‘çŽ°å®˜æ–¹åœ¨å†™å‘½ä»¤çš„æ—¶å€™ï¼Œå†™æ³•å’Œä¸Šè¿°ç•¥æœ‰ä¸åŒï¼Œä¸ºï¼š<code class="language-text">stylelint &quot;src/**/*.less&quot;</code>ã€‚</p>
<p>ç»è¿‡æŽ’æŸ¥é—®é¢˜ï¼Œå‘çŽ°æ ¹æºåœ¨äºŽï¼š<code class="language-text">npm</code> ä½¿ç”¨äº† <code class="language-text">sh</code> æ¥æ‰§è¡Œä»£ç ï¼Œè€Œ <code class="language-text">sh</code> å’Œ <code class="language-text">zsh</code> åœ¨è§£æž Glob çš„æ—¶å€™ï¼Œè¡Œä¸ºæ˜¯ä¸åŒçš„ã€‚</p>
<p><code class="language-text">npm</code>ï¼ŒåŒ…æ‹¬å…¶ä»– Linux è¿›ç¨‹ï¼Œåœ¨ä½¿ç”¨ shell çš„æ—¶å€™ï¼Œé»˜è®¤ä½¿ç”¨çš„éƒ½æ˜¯ <code class="language-text">sh</code>ï¼Œé™¤éžæœ‰å…¶ä»–æ˜Žç¡®çš„æŒ‡å®šã€‚è¿™æ„å‘³ç€ï¼Œå³ä½¿å½“å‰æ­£åœ¨ä½¿ç”¨çš„ shell æ˜¯ <code class="language-text">zsh</code>ï¼Œåœ¨è¿è¡Œ <code class="language-text">npm</code> å‘½ä»¤çš„æ—¶å€™ï¼Œè¿˜æ˜¯é»˜è®¤ä½¿ç”¨äº† <code class="language-text">sh</code> å¯¹è„šæœ¬è¿›è¡Œæ‰§è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<code class="language-text">./node_modules/.bin/stylelint src/**/*.less</code> è¿™ä¸ªå‘½ä»¤æ‰§è¡Œï¼Œä½¿ç”¨çš„æ˜¯å½“å‰æ‰“å¼€çš„ shell ç¨‹åºï¼ˆæ¯”å¦‚ <code class="language-text">zsh</code>ï¼‰ï¼›è€Œå½“è¿™ä¸ªå‘½ä»¤å†™åˆ° <code class="language-text">package.json</code> ä¸­ï¼Œå¹¶ä»¥ npm script çš„æ–¹å¼è¿›è¡Œè¿è¡Œçš„æ—¶å€™ï¼Œæ‰§è¡Œ shell çš„å°±æ˜¯ <code class="language-text">sh</code> äº†ã€‚</p>
<p>ä½¿ç”¨ä¸åŒçš„ shell ç¨‹åºï¼Œéš¾å…å°±ä¼šåœ¨è¡Œä¸ºä¸Šé€ æˆä¸ä¸€è‡´ã€‚è¿™é‡Œçš„ Glob è§£æžå°±æ˜¯ä¸€ä¸ªä¾‹å­ã€‚åœ¨ <code class="language-text">zsh</code> é‡Œé¢å¯ä»¥ç®€å•çš„åšä¸€ä¸ªå®žéªŒã€‚æ‰§è¡Œå¦‚ä¸‹çš„å‘½ä»¤ï¼š</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">ls</span> src/**/*.less</code></pre></div>
<p>å¯ä»¥çœ‹åˆ°ï¼Œ<code class="language-text">zsh</code> ç»™å‡ºäº†å½“å‰ <code class="language-text">src</code> ç›®å½•ä¸‹æ‰€æœ‰çš„ LESS æ–‡ä»¶ï¼Œ ä¸ç®¡è¿™ä¸ªæ–‡ä»¶æ˜¯åœ¨å¤šæ·±çš„å­ç›®å½•ä¸‹ï¼›è€Œå¦‚æžœå…ˆåœ¨ <code class="language-text">zsh</code> ä¸­æ‰§è¡Œ <code class="language-text">sh</code> æˆ– <code class="language-text">bash</code> è¿›å…¥åˆ° <code class="language-text">sh</code> æˆ– <code class="language-text">bash</code> çš„å·¥ä½œçŽ¯å¢ƒä¸­ï¼Œå†æ‰§è¡ŒåŒæ ·çš„å‘½ä»¤ï¼Œå¯ä»¥çœ‹åˆ°è¾“å‡ºçš„ç»“æžœå¯èƒ½å°±æ˜¯ä¸åŒçš„ã€‚å®žé™…ä¸Šï¼Œå¯¹äºŽ <code class="language-text">sh</code> æ¥è¯´ï¼Œå®ƒæœ¬èº«å¹¶ä¸è¯†åˆ« <code class="language-text">**</code> è¿™ä¸ªè¯­æ³•ï¼Œè¿™ä¸ªè¡¨ç¤ºåœ¨ <code class="language-text">sh</code> ä¸­ä¼šè¢«ç®€å•çš„è¯†åˆ«ä¸º <code class="language-text">*</code>ï¼Œ<code class="language-text">src/**/*.less</code> åœ¨ <code class="language-text">sh</code> ä¸­ç­‰ä»·äºŽ <code class="language-text">src/*/*.less</code>ã€‚æ¢å¥è¯è¯´ï¼Œåœ¨ <code class="language-text">sh</code> çš„çŽ¯å¢ƒä¸­ï¼Œä¸Šè¿°å‘½ä»¤åªä¼šå¯»æ‰¾æ‰€æœ‰åœ¨ <code class="language-text">src</code> ç›®å½•ä¸‹ä¸€çº§å­ç›®å½•ä¸­çš„ LESS æ–‡ä»¶ï¼Œä¸€æ—¦å±‚çº§å¤§äºŽä¸€å±‚ï¼Œå°±ä¸ä¼šè¢«æ‰¾åˆ°äº†ã€‚</p>
<p>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆåŒæ ·çš„å‘½ä»¤ï¼Œç›´æŽ¥æ‰§è¡Œå’Œåœ¨ npm ä¸­æ‰§è¡Œä¼šæœ‰å·®å¼‚çš„åŽŸå› ã€‚</p>
<p>æœ€åŽï¼ŒåŠ ä¸ŠåŒå¼•å· <code class="language-text">stylelint &quot;src/**/*.less&quot;</code> å°±å¯ä»¥è§£å†³è¿™ä¸€é—®é¢˜çš„åŽŸå› åœ¨äºŽï¼šä¸€æ—¦åŠ ä¸Šäº†åŒå¼•å·ï¼Œè¿™ä¸€ä¸ª Glob å°±ä¸ä¼šè¢« shell ç›´æŽ¥è§£æžï¼Œè€Œæ˜¯ä¼šä»¥å­—ç¬¦ä¸²çš„å½¢å¼ç›´æŽ¥ä¼ é€’ç»™ stylelintã€‚ï¼ˆå…·ä½“æ¥è¯´ï¼Œå¦‚æžœä¸åŠ åŒå¼•å·ï¼Œshell ä¼šå…ˆå°† Glob è§£æžæˆä¸€ç»„å…·ä½“çš„æ–‡ä»¶ï¼Œstylelint å®žé™…æ‹¿åˆ°çš„ <code class="language-text">process.env.argv</code> å¾ˆå¯èƒ½ä¼šæ˜¯ä¸€ä¸ªå¾ˆé•¿çš„å­—ç¬¦ä¸²æ•°ç»„ï¼Œæ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªå…·ä½“çš„æ–‡ä»¶ï¼›è€Œå¦‚æžœåŠ ä¸Šäº†åŒå¼•å·ï¼Œstylelint æ‹¿åˆ°çš„åªæœ‰ä¸€ä¸ª Glob è¡¨è¾¾å¼å­—ç¬¦ä¸²ã€‚ï¼‰æœ‰äº†è¿™ä¸ª Glob çš„å­—ç¬¦ä¸²ï¼Œstylelint å†…éƒ¨å°±å¯ä»¥ä½¿ç”¨ç›¸åº”çš„ package æ¥è¿›è¡Œè§£æžï¼Œä»Žè€Œå¾—åˆ°ä¸€ä¸²å…·ä½“çš„æ–‡ä»¶åˆ—è¡¨ã€‚å› ä¸ºä½¿ç”¨äº† stylelint å†…éƒ¨è‡ªå¸¦çš„ Glob è§£æžï¼Œå°±å¯ä»¥ä¿è¯åœ¨ä¸åŒçš„ shell çŽ¯å¢ƒä¸­éƒ½å¾—åˆ°ä¸€è‡´çš„ç»“æžœäº†ã€‚</p>
<p><a href="https://stackoverflow.com/questions/32017169/npm-glob-pattern-not-matching-subdirectories">å‚è€ƒ</a></p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Big Number in JavaScript<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-08-08_big-number-in-javascript">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-08-08">2019-08-08</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>JavaScript ä¸­å¯ä»¥å¾ˆæ–¹ä¾¿åœ¨å­—ç¬¦ä¸²å’Œæ•°å­—ä¹‹é—´è¿›è¡Œè½¬æ¢ï¼Œæ¯”å¦‚ï¼š<code class="language-text">+&#39;123&#39;</code> => <code class="language-text">123</code>ï¼Œ<code class="language-text">(123).toString()</code> => <code class="language-text">&#39;123&#39;</code>ã€‚</p>
<p>ç„¶è€Œï¼Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼ŒJavaScript ä¸­çš„æ•°å­—å¹¶ä¸æ˜¯æ•´æ•°ï¼Œè€Œæ˜¯æµ®ç‚¹æ•°ã€‚æ›´ç¡®åˆ‡çš„è¯´ï¼Œæ•°å­—ä½¿ç”¨çš„æ˜¯ 64 bit åŒç²¾åº¦æµ®ç‚¹æ•°æ¥è¡¨ç¤ºçš„ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æžœæœåŠ¡å™¨å­˜å‚¨çš„æ•°å­—æ˜¯ä¸€ä¸ª Int64ï¼Œé‚£ä¹ˆåœ¨ç»™åˆ°å‰ç«¯çš„æ—¶å€™ï¼Œå¾ˆæœ‰å¯èƒ½ä¼šå‡ºçŽ°è½¬åŒ–ä¸Šçš„é—®é¢˜ã€‚å¯¹äºŽåŒç²¾åº¦æµ®ç‚¹æ•°æ¥è¯´ï¼Œèƒ½å¤Ÿè¡¨ç¤ºçš„æœ€å¤§çš„æ•°æ˜¯ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mn>53</mn></msup><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^{53}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">5</span><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ï¼Œè¶…è¿‡çš„éƒ¨åˆ†å°±ä¼šè¢«æˆªæ–­ï¼Œæ— æ³•ç²¾ç¡®è¡¨ç¤ºã€‚</p>
<p>æ¯”å¦‚ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token string">'9223372036854775808'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">**</span> <span class="token number">63</span><span class="token punctuation">)</span>
<span class="token comment">// output: 9223372036854776000</span></code></pre></div>
<p>JavaScript æä¾›äº† <code class="language-text">Number.isSafeInteger</code> è¿™ä¸ª API æ¥åˆ¤æ–­ä¸€ä¸ªæ•°å­—æ˜¯å¦æ˜¯åœ¨å¯è¡¨ç¤ºçš„å®‰å…¨èŒƒå›´å†…ã€‚æ¯”å¦‚ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isSafeInteger</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">**</span> <span class="token number">63</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output: false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isSafeInteger</span><span class="token punctuation">(</span><span class="token number">9223372036854776000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output: false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isSafeInteger</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">**</span> <span class="token number">53</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output: true</span></code></pre></div>
<p>è¿™é‡Œï¼Œ<code class="language-text">2 ** 53 - 1</code> å°±æ˜¯ JavaScript ä¸­å¯ä»¥è¡¨ç¤ºçš„æœ€å¤§æ•´æ•°ï¼Œ<code class="language-text">Number.MAX_SAFE_INTEGER</code> è¿™ä¸ªå¸¸é‡ä¹Ÿç­‰äºŽè¿™ä¸ªå€¼ã€‚è¶…è¿‡è¿™ä¸ªæ•°å€¼çš„æ‰€æœ‰å€¼éƒ½ä¼šè¢«è®¤ä¸ºæ˜¯ä¸å®‰å…¨çš„ï¼Œå“ªæ€•è¯¥å€¼å®žé™…è¡¨ç¤ºçš„ç»“æžœâ€œå‡‘å·§â€æ˜¯æ­£ç¡®çš„ã€‚ä¸Šä¾‹ä¸­ï¼Œ<code class="language-text">9223372036854776000</code> è¿™ä¸ªæ•°å­—çš„è¡¨ç¤ºç»“æžœâ€œåˆšå¥½â€å°±æ˜¯ <code class="language-text">9223372036854776000</code> æœ¬èº«ï¼Œä½†æ˜¯å› ä¸ºè¿™ä¸ªæ•°å·²ç»è¶…è¿‡äº† <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mn>53</mn></msup><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^{53} - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">5</span><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ï¼Œæ‰€ä»¥ä¾ç„¶è¢«åˆ¤å®šä¸ºæ˜¯ä¸å®‰å…¨çš„ã€‚</p>
<p>è™½ç„¶ JavaScript æœ¬èº«çš„æ•°å­—ä¸æ”¯æŒå¤§æ•°ï¼Œä½†æ˜¯ Chrome å·²ç»é›†æˆäº† <code class="language-text">BigInt</code> æ•°æ®ç±»åž‹ï¼Œå®ƒå¯ä»¥è¢«ç”¨äºŽè¡¨ç¤ºä»»æ„å¤§çš„æ•´å½¢æ•°å­—ï¼Œå¯ä»¥ç”¨äºŽè¿™æ ·çš„ä½¿ç”¨åœºæ™¯ã€‚ï¼ˆæ³¨ï¼š<code class="language-text">BigInt</code> æœ¬èº«è¿˜åœ¨ staging 3ï¼Œå¹¶ä¸æ˜¯æ ‡å‡†çš„ä¸€éƒ¨åˆ†ï¼‰</p>
<p>ç®€å•çš„ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> num <span class="token operator">=</span> <span class="token function">BigInt</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">**</span> <span class="token number">63</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// or:</span>
<span class="token comment">// const num = BigInt('9223372036854776000');</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output: 9223372036854775808n</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output: bigint</span></code></pre></div>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code class="language-text">BigInt</code> ä¸å¯ä»¥ä½¿ç”¨ <code class="language-text">new</code> è¿ç®—ç¬¦ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ç›´æŽ¥åƒå‡½æ•°ä¸€æ ·ä¼ é€’å‚æ•°è°ƒç”¨å°±å¯ä»¥äº†ã€‚</p>
<p><code class="language-text">BigInt</code> ä¹Ÿæ˜¯æ”¯æŒæ•°å­—è¿ç®—çš„ï¼Œè¿ç®—çš„ç»“æžœä¾ç„¶æ˜¯ <code class="language-text">BigInt</code>ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1n</span> <span class="token operator">+</span> <span class="token number">2n</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => 3n</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3n</span> <span class="token operator">-</span> <span class="token number">1n</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => 2n</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2n</span> <span class="token operator">*</span> <span class="token number">3n</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => 6n</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5n</span> <span class="token operator">/</span> <span class="token number">2n</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => 2n</span></code></pre></div>
<p>ç‰¹åˆ«éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå› ä¸ºæ˜¯æ•´åž‹æ•°å­—ä¹‹é—´çš„è½¬æ¢ï¼Œæ‰€ä»¥åœ¨åšé™¤æ³•çš„æ—¶å€™ï¼Œä¸ä¼šå‡ºçŽ°å°æ•°ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code class="language-text">5n</code> å’Œ <code class="language-text">2n</code> çš„é™¤æ³•ï¼Œç»“æžœæ˜¯ <code class="language-text">2n</code> è€Œä¸æ˜¯ <code class="language-text">2.5</code>ï¼Œè¿™ä¸€ä¸ªè¡Œä¸ºå’Œ C ä¸­ä¸¤ä¸ª Integer ä¹‹é—´é™¤æ³•çš„è¡Œä¸ºæ˜¯ä¸€è‡´çš„ã€‚</p>
<p>å¦å¤–ï¼Œ<code class="language-text">BigInt</code> ä¸æ”¯æŒå’Œå…¶ä»–çš„æ•°æ®ç±»åž‹è¿›è¡Œæ··åˆè®¡ç®—ã€‚æ¯”å¦‚ï¼š<code class="language-text">1n + 2</code> è¿™æ ·çš„è®¡ç®—æ˜¯ä¼šæŠ¥é”™çš„ï¼Œéœ€è¦æ˜¾å¼çš„è¿›è¡Œç±»åž‹è½¬æ¢åŽï¼Œæ‰å¯ä»¥è¿›è¡Œè¿ç®—ã€‚è¿™ä¸€ç‚¹ï¼Œå’Œ JavaScript ä¸­å…¶ä»–æ•°æ®ç±»åž‹ä¹‹é—´éšæ„æ··ä¹±çš„è¿ç®—è¡Œä¸ºæ˜¯ä¸åŒçš„ï¼ˆæ¯”å¦‚ï¼Œ<code class="language-text">1 + &#39;2&#39;</code> è¿™æ ·çš„è®¡ç®— JavaScript å°±ä¸ä¼šæŠ¥é”™ï¼Œè¿˜ä¼šå¾—åˆ° <code class="language-text">&#39;12&#39;</code> è¿™æ ·æ€ªå¼‚çš„ç»“æžœï¼‰ã€‚</p>
<p>è™½ç„¶ <code class="language-text">BigInt</code> ä¸å…è®¸å’Œä¸€èˆ¬çš„ <code class="language-text">Number</code> è¿›è¡Œæ··åˆè®¡ç®—ï¼Œä½†æ˜¯æ¯”è¾ƒè¿ç®—ç¬¦æ˜¯å¯ä»¥åœ¨ä¸¤è€…ä¹‹é—´è¿›è¡Œæ¯”è¾ƒçš„ã€‚æ¯”å¦‚ï¼š<code class="language-text">1n &lt; 2</code> æˆ– <code class="language-text">2n &gt; 1</code> è¿™äº›éƒ½æ˜¯æˆç«‹çš„ã€‚<code class="language-text">BigInt</code> å’Œ <code class="language-text">Number</code> ä¹‹é—´æ— æ³•å–å¾— <code class="language-text">===</code> çš„ä¸¥æ ¼ç­‰ä»·å…³ç³»ï¼Œä½†æ˜¯ <code class="language-text">==</code> çš„æ¯”è¾ƒæ˜¯å¯èƒ½æˆç«‹çš„ã€‚æ¢å¥è¯è¯´ï¼š<code class="language-text">1n == 1</code> æ˜¯æˆç«‹çš„ï¼Œä½†æ˜¯ <code class="language-text">1n === 1</code> æ˜¯ä¸æˆç«‹çš„ã€‚</p>
<p>æ›´å¤šå…³äºŽ <code class="language-text">BigInt</code> çš„è¡Œä¸ºï¼Œå¯ä»¥å‚è€ƒ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt">MDN</a>ã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Jest with Ant Design<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-07-29_jest-with-ant-design">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-07-29">2019-07-29</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>å½“ Ant Design å’Œ Jest ä¸€èµ·ä½¿ç”¨çš„æ—¶å€™ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼ˆå¼€å¯ coverage çš„æ—¶å€™ï¼‰ä¼šå¯¼è‡´å•å…ƒæµ‹è¯•è¿è¡Œå¤±è´¥ã€‚ä¸€ä¸ªå¯èƒ½é€ æˆé—®é¢˜çš„ Ant Design ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Input <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'antd'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> TextArea <span class="token punctuation">}</span> <span class="token operator">=</span> Input<span class="token punctuation">;</span></code></pre></div>
<p>Jest ä¼šæŠ¥é”™ï¼š</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">ReferenceError: Input is not defined

  1 | import { Input } from &#39;ant-design&#39;;
  2 |
&gt; 3 | const { TextArea } = Input;</code></pre></div>
<p>æŠ¥é”™çš„ç›´æŽ¥åŽŸå› ï¼Œæ˜¯ä½¿ç”¨äº† Ant Design æŽ¨èçš„ <code class="language-text">babel-plugin-import</code> å’Œ Jest è®¡ç®— coverage ä½¿ç”¨çš„ <code class="language-text">babel-plugin-istanbul</code> é€ æˆçš„ã€‚åœ¨<a href="https://github.com/ant-design/babel-plugin-import/issues/172">è¿™é‡Œ</a>ã€<a href="https://github.com/ant-design/babel-plugin-import/issues/189#issuecomment-445139343">è¿™é‡Œ</a>ç­‰ GitHub Issue ä¸­éƒ½æœ‰ç›¸åº”çš„è®¨è®ºã€‚</p>
<p>è¦ä¿®å¤è¿™ä¸ªé—®é¢˜ï¼Œåªéœ€è¦åœ¨ Jest æˆ–è€…å•å…ƒæµ‹è¯•çŽ¯å¢ƒä¸­ï¼Œä¸ä½¿ç”¨ <code class="language-text">babel-plugin-import</code> è¿™ä¸ªè½¬æ¢æ’ä»¶å°±å¯ä»¥äº†ã€‚å‚è€ƒä»£ç å¦‚ä¸‹ï¼Œåœ¨ <code class="language-text">.babelrc</code> ä¸­ï¼š</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"env"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"development"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span>
          <span class="token string">"import"</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token property">"libraryName"</span><span class="token operator">:</span> <span class="token string">"antd"</span><span class="token punctuation">,</span>
            <span class="token property">"style"</span><span class="token operator">:</span> <span class="token boolean">true</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"production"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// same as above</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// rest of plugins...</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre></div>
<p>å¦‚æ­¤ä¸€æ¥ï¼Œåªæœ‰åœ¨ <code class="language-text">NODE_ENV</code> ä¸º <code class="language-text">production</code> æˆ– <code class="language-text">development</code> çš„æƒ…å†µä¸‹ï¼ŒBabel æ‰ä¼šå¯ç”¨ <code class="language-text">babel-plugin-import</code> è¿™ä¸ªè½¬æ¢æ’ä»¶ã€‚å¯¹äºŽ Jest æ¥è¯´ï¼Œå› ä¸ºé»˜è®¤è®¾ç½®äº†çŽ¯å¢ƒå˜é‡ <code class="language-text">NODE_ENV</code> ä¸º <code class="language-text">test</code>ï¼Œæ‰€ä»¥ Plugin ä¸ä¼šèµ·æ•ˆã€‚</p>
<p>è¿™æ ·é€ æˆçš„é—®é¢˜æ˜¯ Jest çš„è¿è¡Œé€Ÿåº¦ä¼šæœ‰æ‰€é™ä½Žã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Import Chunkname with Babel Plugin<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-07-26_import-chunkname-with-babel-plugin">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-07-26">2019-07-26</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒWebapck ä¼šç”¨ Chunk ID ä¸º <code class="language-text">import()</code> äº§ç”Ÿçš„ç‹¬ç«‹æ–‡ä»¶å‘½åï¼Œæœ€ç»ˆçš„ç»“æžœå°±æ˜¯ç±»ä¼¼äºŽ <code class="language-text">0.bundle.js</code> è¿™æ ·çš„æ–‡ä»¶ã€‚è¿™æ ·çš„æ–‡ä»¶å¹¶ä¸æ–¹ä¾¿ç†è§£å’Œç®¡ç†ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¼šä½¿ç”¨ <code class="language-text">webpackChunkName</code> è¿™ä¸ªæ³¨é‡Šæ¥è®© Webapck ä½¿ç”¨æ›´åŠ æœ‰æ„ä¹‰çš„å‘½åã€‚ä¾‹å­ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: "module-name" */</span> <span class="token string">'path-to-bundle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>æœ€ç»ˆäº§ç”Ÿçš„æ–‡ä»¶ä¸º <code class="language-text">module-name.bundle.js</code>ï¼ˆè¿™é‡Œå‡è®¾åœ¨ Webpack ä¸­é…ç½®äº† <code class="language-text">output.filename</code> ä¸º <code class="language-text">[name].bundle.js</code>ï¼‰ã€‚</p>
<p>ç„¶è€Œï¼Œæ¯æ¬¡è¦æ‰‹å†™è¿™æ ·çš„æ³¨é‡Šæœ‰äº›éº»çƒ¦ã€‚å¦‚æžœåŠ¨æ€åŠ è½½çš„æ¨¡å—æœ¬èº«å­˜æ”¾ä½ç½®æœ‰è§„å¾‹å¯å¾ªï¼ˆæ¯”å¦‚æ˜¯åœ¨ pages ç›®å½•ä¸‹ï¼Œæ¯ä¸ªç›®å½•æœ‰ä¸€ä¸ªå…¥å£æ–‡ä»¶ï¼‰ï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥è€ƒè™‘ä½¿ç”¨ Babel æ’ä»¶çš„æ–¹å¼ï¼Œè‡ªåŠ¨ä¸ºæ¯ä¸ª <code class="language-text">import()</code> å¢žåŠ åˆé€‚çš„ bundle nameã€‚</p>
<p>å‚è€ƒä»£ç å¦‚ä¸‹ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">addComments</span><span class="token punctuation">(</span><span class="token parameter">arg<span class="token punctuation">,</span> name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// only add leading comment when not found</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>arg<span class="token punctuation">.</span>leadingComments<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
  arg<span class="token punctuation">.</span>leadingComments <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    type<span class="token punctuation">:</span> <span class="token string">'CommentBlock'</span><span class="token punctuation">,</span>
    value<span class="token punctuation">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> webpackChunkName: '</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">' </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getChunkNameFromImportPath</span><span class="token punctuation">(</span><span class="token parameter">importPath</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// find a way to transform from import path to chunk name</span>
  <span class="token comment">// example: from 'path/to/file' to 'path.to.file' as chunk name</span>
  <span class="token keyword">return</span> importPath<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\//g</span><span class="token punctuation">,</span> <span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">babel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> types<span class="token punctuation">:</span> t <span class="token punctuation">}</span> <span class="token operator">=</span> babel<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'add-bundle-name'</span><span class="token punctuation">,</span>
    visitor<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">CallExpression</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> node <span class="token punctuation">}</span> <span class="token operator">=</span> path<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>t<span class="token punctuation">.</span><span class="token function">isImport</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>callee<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token punctuation">[</span>firstArg<span class="token punctuation">]</span> <span class="token operator">=</span> node<span class="token punctuation">.</span>arguments<span class="token punctuation">;</span>
        <span class="token keyword">const</span> importPath <span class="token operator">=</span> firstArg<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
        <span class="token function">addComments</span><span class="token punctuation">(</span>firstArg<span class="token punctuation">,</span> <span class="token function">getChunkNameFromImportPath</span><span class="token punctuation">(</span>importPath<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">navigator.platform<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-07-18_navigator.platform">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-07-18">2019-07-18</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p><code class="language-text">navigator.platform</code> å¯ä»¥èŽ·å–åˆ°å½“å‰æµè§ˆå™¨æ‰€åœ¨çš„æ“ä½œç³»ç»Ÿä¿¡æ¯ã€‚ä¸€èˆ¬æ¥è¯´ä¼šå¾—åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ç”¨ä»¥è¡¨ç¤ºæ“ä½œç³»ç»Ÿï¼Œä½†æŸäº›æƒ…å†µä¸‹ä¹Ÿå¯èƒ½ä¼šæ‹¿åˆ°ç©ºå­—ç¬¦ä¸²ï¼ˆæµè§ˆå™¨æ‹’ç»æˆ–ä¸èƒ½ç»™å‡ºæ“ä½œç³»ç»Ÿä¿¡æ¯ï¼‰ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œå³ä½¿æ˜¯ 64 ä½çš„ Windows æ“ä½œç³»ç»Ÿï¼Œå¾—åˆ°çš„ç»“æžœå¾ˆå¯èƒ½æ˜¯ <code class="language-text">Win32</code> è€Œä¸æ˜¯ <code class="language-text">Win64</code>ã€‚æ ¹æ® <a href="https://developer.mozilla.org/en-US/docs/Web/API/NavigatorID/platform">MDN</a> çš„æ•°æ®ï¼ŒInternet Explorer å’Œ v63 å‰çš„ Firefox ä¼šä½¿ç”¨ <code class="language-text">Win64</code>ï¼Œå…¶ä»–çš„ä¸€èˆ¬è¿”å›ž <code class="language-text">Win32</code>ã€‚</p>
<p>ç»¼ä¸Šï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„æ–¹æ³•æ£€æµ‹å½“å‰æ˜¯å¦æ˜¯ Windows ç³»ç»Ÿï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> isWindows <span class="token operator">=</span> navigator<span class="token punctuation">.</span>platform<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Win'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">;</span></code></pre></div>
<p><code class="language-text">navigator.platform</code> åŸºæœ¬æ²¡æœ‰æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜ï¼Œå¯ä»¥æ”¾å¿ƒä½¿ç”¨ã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">console.count<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-07-17_console.count">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-07-17">2019-07-17</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>console ä¸­å¯ä»¥é€šè¿‡ <code class="language-text">console.count</code> æ¥è¿›è¡Œè®°æ•°ã€‚</p>
<p>ç®€å•çš„ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">callMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token string">'callMe func'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">countReset</span><span class="token punctuation">(</span><span class="token string">'callMe func'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">callMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// output => callMe func: 1</span>
<span class="token function">callMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// output => callMe func: 2</span>
<span class="token function">callMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// output => callMe func: 3</span></code></pre></div>
<p>å‡ ç‚¹è¯´æ˜Žï¼š</p>
<ul>
<li><code class="language-text">console.countReset</code> å‡½æ•°å¯ä»¥ç”¨äºŽæ¸…ç©ºè®°æ•°</li>
<li>ä¼ é€’çš„å‚æ•°å¯ä»¥ç”¨äºŽæ ‡è®° <code class="language-text">count</code> çš„ç±»åˆ«ï¼Œå¦‚æžœä¸ä¼ å°±æ˜¯é»˜è®¤çš„ default</li>
<li>ä¸åŒç±»åˆ«ä¹‹é—´çš„ <code class="language-text">count</code> ä¸ä¼šå…±äº«æ•°æ®</li>
</ul></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Detect True Encoding of File and Convert<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-07-16_detect-true-encoding-of-file-and-convert">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-07-16">2019-07-16</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>åœ¨ Windows ä¸Šï¼Œå¾ˆå¤šæ–‡æœ¬æ–‡ä»¶å¹¶ä¸æ˜¯ä»¥ UTF-8 çš„æ ¼å¼è¿›è¡Œå­˜å‚¨çš„ã€‚æ¯”å¦‚ï¼Œä¸­æ–‡å¯èƒ½çš„å­˜å‚¨æ ¼å¼æ˜¯ GB2312 æˆ–æ˜¯ BIG5ã€‚è¿™å¯¼è‡´ï¼Œåœ¨å…¶ä»–ç³»ç»Ÿä¸­ï¼Œå¦‚æžœç›´æŽ¥ä»¥ UTF-8 çš„æ ¼å¼æ‰“å¼€å¯¹åº”çš„æ–‡æœ¬æ–‡ä»¶ï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸²ä¹±ç ã€‚</p>
<p>å¦‚æžœä¸çŸ¥é“ä¹‹å‰æ˜¯ä»¥ä»€ä¹ˆæ ¼å¼å­˜å‚¨çš„æ–‡ä»¶ï¼Œè¿™æ—¶å°±ä¼šæœ‰ç‚¹æŸæ‰‹æ— ç­–äº†ã€‚</p>
<p>ä¸€ä¸ªå¯è¡Œçš„ç®€å•æ–¹æ³•æ˜¯ç”¨ VSCode çš„â€œçŒœæµ‹â€åŠŸèƒ½ã€‚åœ¨ VSCode ä¸­ï¼Œå¦‚æžœé€‰æ‹© <code class="language-text">Reopen with Encoding</code>ï¼Œä¼šå¾—åˆ° VSCode çŒœæµ‹çš„å½“å‰æ–‡æœ¬ç¼–ç æ ¼å¼ã€‚å¦‚æžœä½¿ç”¨æ–°çš„ç¼–ç é‡æ–°æ‰“å¼€æ–‡æœ¬ï¼Œçœ‹åˆ°çš„ä¸å†æ˜¯ä¹±ç ï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½ VSCode å°±çŒœæµ‹æ­£ç¡®äº†ã€‚ä¸€èˆ¬å»ºè®®å†ä»¥ UTF-8 çš„æ ¼å¼ä¿å­˜ä¸€ä¸‹ï¼Œä»¥åŽå†æ¬¡æ‰“å¼€å°±ä¸ä¼šæœ‰ä¹±ç çš„å›°æ‰°äº†ã€‚</p>
<p>ç„¶è€Œï¼Œè¿™ä¸ªæ–¹æ³•ä¸é€‚åº”å¤§è§„æ¨¡æ‰¹é‡ä¿®æ”¹çš„éœ€æ±‚ã€‚æ—¢ç„¶å¦‚æ­¤ï¼Œä¸å¦‚ç›´æŽ¥ä»Ž VSCode çš„æºç å…¥æ‰‹ï¼Œçœ‹çœ‹è¿™ä¸ªæ–‡æœ¬ç¼–ç æ£€æµ‹çš„åŠŸèƒ½æ˜¯å¦‚ä½•å®žçŽ°çš„ã€‚</p>
<p>VSCode ç›¸å…³çš„ä»£ç ï¼Œå¯ä»¥åœ¨ <code class="language-text">src/vs/base/node/encoding.ts</code> ä¸­æ‰¾åˆ°ï¼ŒGitHub çš„ä»£ç åœ¨<a href="https://github.com/microsoft/vscode/blob/HEAD/src/vs/base/node/encoding.ts">è¿™é‡Œ</a>ã€‚</p>
<p>ç²¾ç®€åŽçš„ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> jschardet <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'jschardet'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> iconv <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'iconv-lite'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">JSCHARDET_TO_ICONV_ENCODINGS</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string">'ibm866'</span><span class="token punctuation">:</span> <span class="token string">'cp866'</span><span class="token punctuation">,</span>
  <span class="token string">'big5'</span><span class="token punctuation">:</span> <span class="token string">'cp950'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> fromPath <span class="token operator">=</span> <span class="token string">'/path/to/read/file'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> toPath <span class="token operator">=</span> <span class="token string">'/path/to/save/file'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> buffer <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>fromPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> encoding <span class="token punctuation">}</span> <span class="token operator">=</span> jschardet<span class="token punctuation">.</span><span class="token function">detect</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> iconvEncoding <span class="token operator">=</span> <span class="token constant">JSCHARDET_TO_ICONV_ENCODINGS</span><span class="token punctuation">[</span>encoding<span class="token punctuation">]</span> <span class="token operator">||</span> encoding<span class="token punctuation">;</span>
<span class="token keyword">const</span> content <span class="token operator">=</span> iconv<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span> iconvEncoding<span class="token punctuation">)</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span><span class="token function">writeFileSync</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> content<span class="token punctuation">,</span> <span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>è¿™é‡Œä¸»è¦ç”¨åˆ°äº†ä¸¤ä¸ªåº“ï¼Œ<code class="language-text">jschardet</code> å’Œ <code class="language-text">iconv-lite</code>ã€‚</p>
<p><a href="https://github.com/aadsm/jschardet">jschardet</a> æ˜¯ Python <a href="https://github.com/chardet/chardet">chardet</a> çš„ä¸€ä¸ª JavaScript ç§»æ¤ç‰ˆæœ¬ï¼Œç”¨äºŽæ£€æµ‹å½“å‰çš„äºŒè¿›åˆ¶æµï¼ˆBufferï¼‰æ˜¯ä»€ä¹ˆç±»åž‹çš„ç¼–ç ã€‚æ£€æµ‹çš„å¤§è‡´åŽŸç†ï¼Œå¯ä»¥åœ¨ chardet çš„ç½‘ç«™ä¸Šæ‰¾åˆ°ï¼ˆ<a href="https://chardet.readthedocs.io/en/latest/how-it-works.html">è¿™é‡Œ</a>ï¼‰ã€‚</p>
<p><a href="https://github.com/ashtuchkin/iconv-lite">iconv-lite</a> ç”¨äºŽå°†äºŒè¿›åˆ¶æµè½¬åŒ–æˆæŒ‡å®šç¼–ç æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œæ˜¯ä¸€ä¸ªçº¯ JavaScript çš„ <code class="language-text">iconv</code> åº“ã€‚è¿™é‡Œ <code class="language-text">iconv</code> çš„å…¨ç§°æ˜¯ internationalization conversionï¼Œåœ¨ç±» Unix ç³»ç»Ÿä¸­ï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨äºŽè½¬æ¢ä¸åŒç¼–ç å­—ç¬¦ä¸²çš„å‘½ä»¤è¡Œå·¥å…·ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code class="language-text">iconv-lite</code> å¹¶ä¸é€šè¿‡ç¼–ç æ¥åŒºåˆ† UTF-8 å’Œ UTF-8 with BOMï¼Œè€Œæ˜¯é€šè¿‡ç¬¬äºŒä¸ªå‚æ•° <code class="language-text">{ addBOM }</code> æ¥å®Œæˆçš„ã€‚å› æ­¤ï¼Œè½¬åŒ– UTF-8 with BOM çš„æ—¶å€™ï¼Œéœ€è¦ç¨å¾®æ‰‹åŠ¨å¤„ç†ä¸€ä¸‹ã€‚ï¼ˆå¤„ç†çš„æ–¹æ³•å¯ä»¥å‚è€ƒ VSCode ä¸­çš„ç›¸å…³å‡½æ•°ï¼Œæ¯”å¦‚ <code class="language-text">encode</code>ï¼‰</p>
<p>å¦å¤–ï¼Œ<code class="language-text">jschardet</code> å’Œ <code class="language-text">iconv-lite</code> å¯¹ç¼–ç çš„å‘½åæœ‰äº›ä¸åŒï¼Œä½¿ç”¨å‰éœ€è¦è½¬åŒ–ã€‚ä¸Šé¢ç¤ºä¾‹ä»£ç ä¸­çš„ <code class="language-text">JSCHARDET_TO_ICONV_ENCODINGS</code> å°±æ˜¯åšçš„è¿™ä¸ªäº‹æƒ…ã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Inspect React Node without DevTool<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-07-11_inspect-react-node-without-devtool">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-07-11">2019-07-11</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>åœ¨ React å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨ Facebook æä¾›çš„å®˜æ–¹ Chrome DevTool Extension å¯ä»¥å¾ˆæ–¹ä¾¿çš„æŸ¥çœ‹ï¼Œä¿®æ”¹é¡µé¢ä¸Šçš„ React ç»„ä»¶ã€‚ç„¶è€Œï¼Œæœ‰æ—¶å€™ä¹Ÿéœ€è¦åœ¨æ²¡æœ‰ DevTool çš„æƒ…å†µä¸‹ï¼Œå¯¹ React ç»„ä»¶è¿›è¡Œ Debugã€‚æ¯”å¦‚ï¼šåœ¨æµ‹è¯•ç”µè„‘ä¸ŠæŸ¥çœ‹ä¸€ä¸ªå³æ—¶å‡ºçŽ°çš„é—®é¢˜ï¼Œæˆ–æ˜¯åœ¨ Internet Explorer / Safari ä¸Šè°ƒè¯•ä¸€ä¸ªå‡ºçŽ°çš„é—®é¢˜ç­‰ã€‚</p>
<p>ä»¥ä¸‹ä»‹ç»å¦‚ä½•åœ¨ä¸å€ŸåŠ© Chrome DevTool Extension çš„æƒ…å†µä¸‹ï¼Œå®Œæˆå¯¹å½“å‰ React ç»„ä»¶çš„æ£€æŸ¥ã€‚</p>
<p>é¦–å…ˆï¼Œéœ€è¦èŽ·å–åˆ°æŸä¸ªéœ€è¦æŸ¥çœ‹çš„ DOM å…ƒç´ ã€‚å¯ä»¥ç”¨ <code class="language-text">querySelector</code> æˆ–æ˜¯åœ¨ Chrome DevTool ä¸­é€‰ä¸­æŸä¸ªå…ƒç´ ï¼Œç„¶åŽåœ¨ Console ä¸­ä½¿ç”¨ <code class="language-text">$0</code> èŽ·å¾—è¯¥å…ƒç´ ã€‚</p>
<p>React ä¼šåœ¨å…ƒç´ ä¸Šæ·»åŠ é¢å¤–çš„å±žæ€§ï¼Œç”¨äºŽè®°å½•å½“å‰è¿™ä¸ª React èŠ‚ç‚¹çš„ç›¸å…³æ•°æ®ã€‚å¯ä»¥é€šè¿‡ä¸‹é¢çš„ä»£ç æ¥èŽ·å–è¿™ä¸ªå±žæ€§æ•°æ®ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> key <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=></span> key<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'__reactInternalInstance$'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>key<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> element<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>React åœ¨æ·»åŠ å±žæ€§çš„æ—¶å€™ï¼Œå±žæ€§åç§°ä¼šå¢žåŠ ä¸€ä¸ªéšæœºå­—ç¬¦ä¸²ä½œä¸ºåŽç¼€ï¼ˆå„ä¸ª React Node ä½¿ç”¨çš„éšæœºå­—ç¬¦ä¸²æ˜¯ä¸€è‡´çš„ï¼‰ã€‚æ‰€ä»¥éœ€è¦é€šè¿‡æ£€æŸ¥ <code class="language-text">startsWith</code> æ¥åˆ¤æ–­å½“å‰å±žæ€§æ˜¯å¦æ˜¯ React ä½¿ç”¨çš„å±žæ€§ã€‚</p>
<p>æ‹¿åˆ°çš„è¿™ä¸ªå¯¹è±¡ï¼Œæœ‰ä¸€äº›æœ‰ç”¨çš„æ•°æ®ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>child - å½“å‰å…ƒç´ å­å…ƒç´ çš„å¤´ä¸ªå…ƒç´ </li>
<li>elementType/type - è¯¥ React èŠ‚ç‚¹å¯¹åº”çš„ç±»åž‹ã€‚å¦‚æžœæ˜¯ HTML Elementï¼Œé‚£ä¹ˆå°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ <code class="language-text">&quot;div&quot;</code>ï¼›å¦‚æžœæ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„ React å…ƒç´ ï¼Œåˆ™æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ˆclass æˆ– functionï¼‰ã€‚ä¹Ÿå°±æ˜¯ <code class="language-text">React.createElement</code> å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚</li>
<li>memoizedProps - å½“å‰å…ƒç´ ä½¿ç”¨çš„ propsã€‚å¯¹äºŽä»»ä½•ä¸€ä¸ª React ç”Ÿæˆçš„ HTML å…ƒç´ ï¼Œå¯¹ä¼šæœ‰å¯¹åº”çš„ Propsã€‚ï¼ˆå†™ JSX çš„æ—¶å€™ï¼Œæ¯ä¸€ä¸ªå±žæ€§ï¼ŒåŒ…æ‹¬ childrenï¼Œéƒ½æ˜¯ä¸€ä¸ª Props çš„å±žæ€§å€¼ï¼‰</li>
<li>memoizedState - å½“å‰å…ƒç´ ä½¿ç”¨çš„ state</li>
<li>return - å½“å‰å…ƒç´ æ‰€åœ¨åŒå‘é“¾è¡¨çš„ä¸Šä¸€ä¸ªå…ƒç´ </li>
<li>sibling - å½“å‰å…ƒç´ ä¸‹ä¸€ä¸ªå…„å¼Ÿå…ƒç´ </li>
<li>stateNode - å½“å‰å…ƒç´ åœ¨ç»„ä»¶å†…å¯ä»¥ç”¨çš„ <code class="language-text">this</code>ï¼ŒåŒ…å«äº† <code class="language-text">props</code>ï¼Œ<code class="language-text">refs</code>ï¼Œ<code class="language-text">state</code>ï¼Œ<code class="language-text">context</code> ä»¥åŠå…¶ä»– React Component çš„æ–¹æ³•ã€‚åœ¨è¿™ä¸ªå¯¹è±¡çš„åŽŸåž‹é“¾ä¸Šï¼Œè¿˜æœ‰ React Component ç»„ä»¶çš„å„ä¸ªæ–¹æ³•ï¼ˆæ¯”å¦‚ç”Ÿå‘½å‘¨æœŸå‡½æ•°å¦‚ <code class="language-text">componentDidMount</code>ï¼‰ä»¥åŠ <code class="language-text">setState</code> ç­‰å¯ç”¨æ–¹æ³•ã€‚æ¢å¥è¯è¯´ï¼Œè¿™é‡Œçš„å¯¹è±¡å°±æ˜¯ä¸€ä¸ª React Component Class ç”Ÿæˆçš„å®žä¾‹ã€‚å¦‚æžœç»„ä»¶æ˜¯ä¸€ä¸ª Functional Componentï¼Œé‚£ä¹ˆè¿™é‡Œå°±æ˜¯ <code class="language-text">null</code> äº†ã€‚</li>
</ul>
<p>æ ¹æ® React 16 ä¸­ Fiber çš„è®¾è®¡ï¼Œå…ƒç´ ä¹‹é—´æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨çš„å…³ç³»ï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹ä¼šè¿žç»“å…¶ä¸Šä¸€ä¸ªå…ƒç´ ï¼ˆ<code class="language-text">return</code>ï¼‰ï¼Œå­å…ƒç´ çš„é¦–ä¸ªå…ƒç´ ï¼ˆ<code class="language-text">child</code>ï¼‰ï¼Œä¸‹ä¸€ä¸ªå…„å¼Ÿå…ƒç´ ï¼ˆ<code class="language-text">sibling</code>ï¼‰ï¼Œå› è€Œä»Žä»»æ„ä¸€ä¸ªä¸­é—´çš„ HTML å…ƒç´ å¼€å§‹ï¼Œéƒ½å¯ä»¥éåŽ†æ•´ä¸ª React æ ‘ã€‚</p>
<p>æ³¨ï¼šä»Žä¸€ä¸ªå…ƒç´  A çš„ <code class="language-text">sibling</code> æŠµè¾¾ä¸‹ä¸€ä¸ªå…ƒç´  B åŽï¼Œè¯¥å…ƒç´  B çš„ <code class="language-text">return</code> æ˜¯ä»–çš„ä¸Šä¸€ä¸ªå…„å¼Ÿå…ƒç´ ï¼Œä¹Ÿå°±æ˜¯ Aï¼Œè€Œä¸æ˜¯çœŸæ­£æ„ä¹‰ä¸Š React / HTML æ ‘çš„çˆ¶å…ƒç´ ã€‚åªæœ‰å½“ B æ˜¯ A çš„ç¬¬ä¸€ä¸ªå­å…ƒç´ çš„æ—¶å€™ï¼ŒB çš„ <code class="language-text">return</code> æ‰æ˜¯å®ƒåœ¨æ ‘ä¸Šçš„çˆ¶å…ƒç´ ã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Trigger onChange for React Input<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-07-10_trigger-onchange-for-react-input">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-07-10">2019-07-10</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>åœ¨ React 16 ä¸­ï¼ˆåŒ…æ‹¬ React 15.6 åŠä¹‹åŽçš„ç‰ˆæœ¬ï¼‰ï¼Œå¦‚æžœæƒ³è¦ç”¨ JavaScript åœ¨å¤–éƒ¨è§¦å‘ä¸€ä¸ª <code class="language-text">input</code> ç»„ä»¶çš„ <code class="language-text">onChange</code> äº‹ä»¶ï¼Œéœ€è¦åšå¦‚ä¸‹çš„å‡ ä¸ªäº‹æƒ…ï¼š</p>
<ol>
<li>é¦–å…ˆï¼Œè®© React è®°å½•ä¸‹æ–°çš„ <code class="language-text">value</code> å€¼ã€‚React é€šè¿‡ <code class="language-text">defineProperty</code> å°è£…äº† <code class="language-text">value</code> çš„ <code class="language-text">set</code> æ–¹æ³•ï¼Œå› è€Œç›´æŽ¥è°ƒç”¨ <code class="language-text">input.value = xxx</code> å¹¶ä¸èƒ½è¾¾åˆ°é¢„æœŸçš„æ•ˆæžœï¼ˆå®žé™…è§¦å‘çš„æ˜¯ React å°è£…çš„ setterï¼Œè€Œä¸æ˜¯å®žé™… DOM çš„ setterï¼‰ã€‚ä¸ºæ­¤ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„æ–¹æ³•ç»•è¿‡åŽ»ï¼š</li>
</ol>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.xxx'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> originalSetter <span class="token operator">=</span>
  Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span><span class="token class-name">HTMLInputElement</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">'value'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>set<span class="token punctuation">;</span>
<span class="token function">originalSetter</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token string">'your value here'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<ol start="2">
<li>å…¶æ¬¡ï¼Œéœ€è¦è§¦å‘ä¸€æ¬¡ <code class="language-text">onChange</code> çš„äº‹ä»¶ï¼Œå¥½è®© React çš„ç»„ä»¶å¯ä»¥åœ¨åŽŸæ¥æ—¢å®šçš„å›žè°ƒå‡½æ•°ä¸­å¤„ç†æ–°çš„æ•°æ®ï¼š</li>
</ol>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> event <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Event</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> bubbles<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
input<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´å¯ç”¨çš„æ–¹æ³•ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">change</span><span class="token punctuation">(</span><span class="token parameter">input<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> setter <span class="token operator">=</span>
    Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span><span class="token class-name">HTMLInputElement</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">'value'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>set<span class="token punctuation">;</span>
  <span class="token function">setter</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> event <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Event</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> bubbles<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  input<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Object Spread and Proxy<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-07-09_object-spread-and-proxy">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-07-09">2019-07-09</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p><a href="http://www.ecma-international.org/ecma-262/9.0/#sec-object-initializer">ES2018</a> å¢žåŠ äº† Object Spread æ“ä½œç¬¦çš„å®˜æ–¹æ”¯æŒã€‚Object Spread æ“ä½œç¬¦å’Œ <code class="language-text">Object.assign</code> çš„ä¸€äº›åŒºåˆ«ï¼Œå¯ä»¥å‚è€ƒ<a href="https://2ality.com/2016/10/rest-spread-properties.html#spread-defines-properties-objectassign-sets-them">è¿™ç¯‡æ–‡ç« </a>ã€‚</p>
<p>åœ¨ JavaScript æ‰§è¡Œ Object Spread æ“ä½œç¬¦çš„æ—¶å€™ï¼Œéœ€è¦è¿›è¡Œå¦‚ä¸‹çš„å‡ æ­¥æ“ä½œï¼š</p>
<ol>
<li>ç¡®å®šå¯¹è±¡æœ‰å“ªäº›è‡ªå·±çš„å±žæ€§ã€‚åŽŸåž‹é“¾ä¸Šçš„éƒ¨åˆ†æ˜¯ä¸ä¼šè¢« Object Spread æ“ä½œç¬¦æŽ¥æ”¶çš„ï¼Œä¸¾ä¸ªä¾‹å­ï¼š</li>
</ol>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span> parent<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    current<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      enumerable<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      value<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>obj <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output => { current: 2 }</span></code></pre></div>
<ol start="2">
<li>ç¡®å®šç¬¬ä¸€æ­¥æ‹¿åˆ°çš„å±žæ€§ä¸­ï¼Œæœ‰é‚£äº›æ˜¯å¯æžšä¸¾çš„ï¼ˆenumerableï¼‰ã€‚ä¸å¯æžšä¸¾çš„éƒ¨åˆ†ï¼Œä¸ä¼šè¢«æŽ¥æ”¶ï¼Œä¸¾ä¸ªä¾‹å­ï¼š</li>
</ol>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span> parent<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    current<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      enumerable<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      value<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>obj <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output => { }</span></code></pre></div>
<ol start="3">
<li>åˆ†åˆ«èŽ·å–åˆ°è¿™äº›å±žæ€§çš„å€¼</li>
</ol>
<p>æ ¹æ®ä»¥ä¸Šçš„è§„åˆ™ï¼ŒçŽ°åœ¨å¯ä»¥è€ƒè™‘è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼šå‡è®¾éœ€è¦ä¸€ä¸ª Proxy æ¥ä¿®æ”¹è®¿é—®å¯¹è±¡å±žæ€§çš„è¡Œä¸ºï¼Œæ¯”å¦‚å¯¹å¯¹è±¡ä»»æ„å±žæ€§çš„å–å€¼ï¼Œéƒ½ä»Žå®ƒçš„æŸä¸€ä¸ªå­å±žæ€§ä¸­åŽ»æ‹¿ã€‚ä¾‹å­ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">'value'</span><span class="token punctuation">,</span> child<span class="token punctuation">:</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">'inner-value'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> handler <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment">/* todo */</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => output: inner-value</span></code></pre></div>
<p>è¿™é‡Œçš„ handler å¹¶ä¸éš¾å†™ï¼Œåªéœ€è¦ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> handler <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> target<span class="token punctuation">.</span>child<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// or:</span>
    <span class="token comment">// return Reflect.get(target.child, key);</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>çŽ°åœ¨ï¼Œå¦‚æžœéœ€è¦ Proxy ä¹ŸåŒæ ·å¯ä»¥æ”¯æŒ Object Spread çš„åŠŸèƒ½ï¼Œé‚£ä¹ˆå°±éœ€è¦å¯¹ <code class="language-text">handler</code> åšæ›´å¤šçš„å¤„ç†ã€‚ä»Žä¸Šé¢çš„åˆ†æžæ¥çœ‹ï¼Œç¬¬ä¸€æ­¥èŽ·å–è‡ªæœ‰å±žæ€§ï¼Œéœ€è¦ç”¨åˆ° <code class="language-text">ownKeys</code>ï¼›ç¬¬äºŒæ­¥èŽ·å–å¯æžšä¸¾å±žæ€§ï¼Œéœ€è¦ç”¨åˆ° <code class="language-text">getOwnPropertyDescriptor</code>ï¼›æœ€åŽä¸€æ­¥èŽ·å¾—å±žæ€§å€¼ï¼Œä¾ç„¶éœ€è¦ <code class="language-text">get</code>ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">'value'</span><span class="token punctuation">,</span> child<span class="token punctuation">:</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">'inner-value'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> handler <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>child<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">ownKeys</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>child<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>proxy <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => output: { key: 'inner-value' }</span></code></pre></div></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Array.from<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-07-02_array.from">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-07-02">2019-07-02</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p><code class="language-text">Array.from</code> æ˜¯ JavaScript ä¸­ä¸€ä¸ªè¾ƒæ–°çš„ APIï¼Œå¯ä»¥å°†ä¸€ä¸ªç±»æ•°ç»„æˆ–å¯è¿­ä»£å¯¹è±¡è½¬åŒ–æˆä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ã€‚</p>
<p>ç±»æ•°ç»„ï¼ˆarray-likeï¼‰å¸¸è§äºŽ DOM API ä¸­å–åˆ°çš„æ•°æ®ï¼Œæ¯”å¦‚ <code class="language-text">.querySelectorAll</code>ã€‚å¾—åˆ°çš„ç»“æžœæœ‰ <code class="language-text">.length</code> å±žæ€§ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¸‹æ ‡èŽ·å–åˆ°æ•°æ®ï¼Œä½†æ˜¯æœ¬èº«å´ä¸æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ²¡æœ‰ <code class="language-text">Array.prototype</code> ä¸Šçš„ API å¯ä»¥ç›´æŽ¥ç”¨ã€‚</p>
<p>å¯è¿­ä»£å¯¹è±¡åˆ™æ˜¯æŒ‡é‚£äº›å®šä¹‰äº† <code class="language-text">Symbol.iterator</code> å±žæ€§çš„å¯¹è±¡ã€‚</p>
<p><code class="language-text">Array.from</code> å¯ä»¥å°†ä¸Šè¿°çš„ä¸¤ç§å¯¹è±¡ç›´æŽ¥è½¬åŒ–æˆä¸€ä¸ªæ ‡å‡†çš„æ•°ç»„ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> iterable <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">*</span><span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>iterable<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => [1, 2];</span>

<span class="token keyword">const</span> arrayLike <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => [span, span, ...]</span></code></pre></div>
<p>é™¤äº†ä¸Šè¿°å¸¸è§çš„åº”ç”¨ä¹‹å¤–ï¼Œ<code class="language-text">Array.from</code> è¿˜æœ‰ä¸€äº›ç‰¹æ®Šçš„åº”ç”¨ã€‚</p>
<p>é¦–å…ˆï¼Œåªè¦æŒ‡å®šäº† <code class="language-text">length</code> å±žæ€§ï¼Œ<code class="language-text">Array.from</code> å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªæ•°ç»„ã€‚è¿™ä¸€è¡Œä¸ºå¯ä»¥ç”¨æ¥åˆ›å»ºä¸€ä¸ªæŒ‡å®šé•¿åº¦çš„æ•°ç»„ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span> length<span class="token punctuation">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=></span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// => [0, 1, 2, 3, 4]</span></code></pre></div>
<p>å…¶æ¬¡ï¼Œ<code class="language-text">Array.from</code> å‡½æ•°å…¶å®žæŽ¥å—ä¸æ­¢ä¸€ä¸ªå‚æ•°ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ª map å‡½æ•°ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ <code class="language-text">thisArg</code>ï¼Œç”¨äºŽæŒ‡å®š map å‡½æ•°çš„ <code class="language-text">this</code> å¯¹è±¡ã€‚æœ‰äº†è¿™ä¸ª map å‡½æ•°çš„æ”¯æŒï¼Œä¸Šé¢è¿™ä¸ªä¾‹å­å°±å¯ä»¥è¿›ä¸€æ­¥æ”¹å†™æˆï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span> length<span class="token punctuation">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=></span> i<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>åœ¨è½¬åŒ– DOM ç±»æ•°ç»„çš„æ—¶å€™ï¼Œç›´æŽ¥é€šè¿‡æŒ‡å®š map å‡½æ•°è¿›è¡Œè¿›ä¸€æ­¥çš„è½¬åŒ–ï¼Œæ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ã€‚å¯ä»¥çœç•¥ä¸€ä¸ª <code class="language-text">.map</code> å‡½æ•°çš„åµŒå¥—ï¼Œä¹ŸèŠ‚çœä¸€ä¸ªä¸­é—´æ•°ç»„å¯¹è±¡çš„åˆ›å»ºã€‚</p>
<p><code class="language-text">Array.prototype.map</code> å‡½æ•°å¯ä»¥æŒ‡å®š <code class="language-text">thisArg</code>ï¼Œåœ¨ <code class="language-text">Array.from</code> ä¸­ä¹Ÿå¯ä»¥é€šè¿‡ç¬¬ä¸‰ä¸ªå‚æ•°æŒ‡å®š <code class="language-text">thisArg</code>ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> mapper <span class="token operator">=</span> <span class="token punctuation">{</span>
  shift<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token function">run</span><span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>shift <span class="token operator">+</span> i<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span> length<span class="token punctuation">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> mapper<span class="token punctuation">.</span>run<span class="token punctuation">,</span> mapper<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// => [1, 2, 3, 4, 5];</span></code></pre></div>
<p>ä¸Šè¿°å†™æ³•ç­‰ä»·äºŽï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span> length<span class="token punctuation">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>mapper<span class="token punctuation">.</span>run<span class="token punctuation">,</span> mapper<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Get Available Port Number<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-06-24_get-available-port-number">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-06-24">2019-06-24</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>å‰ç«¯çš„å¼€å‘å·¥ç¨‹ï¼Œç»å¸¸éœ€è¦å¼€å¯ä¸€äº›è°ƒè¯•ç”¨çš„æœåŠ¡å™¨ï¼Œä¸€æ—¦è°ƒè¯•çš„æœåŠ¡å™¨å¤šäº†ï¼Œéš¾å…ä¼šå‡ºçŽ°ç½‘ç»œç«¯å£å·çš„å†²çªï¼›ç±»ä¼¼çš„ï¼Œå¦‚æžœåœ¨ä¸€å°å¼€å‘æœºä¸Šæœ‰å¤šä¸ªäººåŒæ—¶å¼€å‘ï¼Œå¼€å‘è„šæœ¬ä¹Ÿå°±ä¸èƒ½å†™æ­»ä¸€ä¸ªå›ºå®šçš„ç«¯å£å·äº†ã€‚åœ¨è¿™ç±»æƒ…å†µä¸‹ï¼Œå¦‚æžœè¦æ‰‹åŠ¨è§£å†³è¿™äº›å†²çªï¼ˆä¿®æ”¹ç«¯å£å·æˆ–è€…æ‰‹å†™ç«¯å£å·çš„åˆ†é…è§„åˆ™ï¼‰ï¼Œä¸å…æœ‰äº›éº»çƒ¦ã€‚</p>
<p>äº‹å®žä¸Šï¼Œåˆ›å»ºæœåŠ¡çš„æ—¶å€™ï¼Œå¯ä»¥è®¾ç½® <code class="language-text">0</code> ä½œä¸ºç«¯å£å·ã€‚è¿™æ ·çš„è¯ï¼Œç³»ç»Ÿå°±ä¼šæŒ‡å®šä¸€ä¸ªå½“å‰ç©ºé—²å¯ç”¨çš„ç«¯å£å·ï¼Œä»¥ä¿è¯ä¸å‘ç”Ÿç«¯å£å·å†²çªçš„æƒ…å†µã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€æ®µ Node.js çš„ç¤ºæ„ä»£ç ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> server  <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  response<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'text/html'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  response<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string">'&lt;html>'</span><span class="token punctuation">,</span>
    <span class="token string">'&lt;head>&lt;title>Node.js Server&lt;/title>&lt;/head>'</span><span class="token punctuation">,</span>
    <span class="token string">'&lt;body>&lt;h1>Hello World&lt;/h1>&lt;/body>'</span><span class="token punctuation">,</span>
    <span class="token string">'&lt;/html>'</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  response<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ask for an available port</span>
server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'listening'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ask for actually used port</span>
  <span class="token keyword">var</span> port <span class="token operator">=</span> server<span class="token punctuation">.</span><span class="token function">address</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>port<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">server is listening: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>å…¶ä¸­ï¼Œ<code class="language-text">server.address().port</code> å¯ä»¥æ‹¿åˆ°å½“å‰ç³»ç»Ÿå…·ä½“åˆ†é…çš„ç«¯å£å·ã€‚æœ‰äº†è¿™ä¸ªç«¯å£å·ï¼Œå°±å¯ä»¥è‡ªåŠ¨/æ‰‹åŠ¨çš„æ‰“å¼€å¯¹åº”çš„ URL åœ°å€ä»¥è®¿é—®æ–°ç”Ÿæˆçš„æœåŠ¡äº†ã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Detect Overflow<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-06-21_detect-overflow">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-06-21">2019-06-21</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>ä¸‹é¢å±•ç¤ºçš„è¿™æ®µ CSS è®¾ç½®éžå¸¸å¸¸è§ï¼Œå¯ä»¥è®©æ–‡å­—è¶…è¿‡å®½åº¦çš„æ—¶å€™ï¼Œæ˜¾ç¤º <code class="language-text">...</code>ï¼š</p>
<div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css"><span class="token selector">.ellipsis</span> <span class="token punctuation">{</span>
  <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
  <span class="token property">text-overflow</span><span class="token punctuation">:</span> ellipsis<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>åœ¨å®žé™…ä¸šåŠ¡ä¸­ï¼Œç»å¸¸ä¼šç¢°åˆ°è¿™æ ·çš„éœ€æ±‚ï¼šåªæœ‰å½“æ˜¾ç¤ºå‡º <code class="language-text">...</code> çš„æ—¶å€™ï¼Œæ‰åšæŸäº›äº‹æƒ…ï¼ˆæ¯”å¦‚ï¼Œæ‰åœ¨é¼ æ ‡æ‚¬åœçš„æ—¶å€™å±•ç¤º Tooltipï¼Œç”¨ä»¥æ˜¾ç¤ºå®Œæ•´çš„æ–‡å­—å†…å®¹ï¼‰ã€‚CSS æœ¬èº«å¹¶æ²¡æœ‰æä¾›è¶³å¤Ÿçš„æŽ¥å£ï¼Œè®©å¼€å‘è€…å¯ä»¥ç›´è§‚çš„äº†è§£åˆ°å½“å‰çš„æ–‡å­—å†…å®¹æ˜¯å¦å·²ç»è¶…å‡ºäº†å¯ä»¥æ˜¾ç¤ºçš„èŒƒå›´ã€‚å¦‚æžœéœ€è¦åˆ¤æ–­å½“å‰å†…å®¹æ˜¯å¦è¶…å‡ºäº†å…ƒç´ çš„å®½åº¦ï¼ˆå› è€Œè®© CSS æ¸²æŸ“å‡º <code class="language-text">...</code>ï¼‰ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„ JavaScript ä»£ç ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">isOverflow</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> element<span class="token punctuation">.</span>scrollWidth <span class="token operator">!==</span> element<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>æ ¹æ® <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollWidth">MDN</a> çš„ä»‹ç»ï¼Œ<code class="language-text">scrollWidth</code> æ˜¯ä¸€ä¸ªåˆ¶åº¦å…ƒç´ ï¼Œå…¶å€¼ç­‰äºŽè¯¥å…ƒç´ å®žé™…çš„å®½åº¦ï¼ˆåŒ…å«äº†å…ƒç´ å› ä¸º <code class="language-text">overflow</code> æ²¡æœ‰å±•ç¤ºå‡ºæ¥çš„éƒ¨åˆ†ï¼‰ï¼›è€ŒäºŽæ­¤ç›¸å¯¹çš„ï¼Œ<code class="language-text">clientWidth</code> æ˜¯å…ƒç´ å®žé™…å±•ç¤ºçš„å®½åº¦ã€‚æ³¨ï¼Œå¯¹è¡Œå†…å…ƒç´ å’Œæ²¡æœ‰ CSS çš„å…ƒç´ æ¥è¯´ï¼Œ<code class="language-text">clientWidth</code> æ˜¯ 0ï¼Œå…·ä½“è§ <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/clientWidth">MDN</a>ã€‚é’ˆå¯¹åˆ¤æ–­æ˜¯å¦å‡º <code class="language-text">...</code> çš„æƒ…å†µï¼Œè¿™é‡Œä¸éœ€è¦è€ƒè™‘ <code class="language-text">clientWidth</code> çš„ç‰¹æ®Šæƒ…å†µã€‚å› ä¸º <code class="language-text">scrollWidth</code> å®žé™…ç»™å‡ºçš„å€¼åŒ…å«äº†è¢«éšåŽ»çš„éƒ¨åˆ†ï¼Œå› è€Œå½“ <code class="language-text">scrollWidth</code> å’Œ <code class="language-text">clientWidth</code> ä¸æƒ³ç­‰çš„æ—¶å€™ï¼Œå°±å¯ä»¥è®¤å®šå½“å‰æœ‰éƒ¨åˆ†å†…å®¹è¢«éšåŽ»äº†ï¼Œå› è€Œ <code class="language-text">...</code> ä¹Ÿå‡ºçŽ°äº†ã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Unzip using JavaScript<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-06-17_unzip-using-javascript">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-06-17">2019-06-17</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>ä½¿ç”¨ JavaScript åº“ <a href="https://www.npmjs.com/package/jszip">jszip</a> å¯ä»¥å¯¹ä¼ å…¥çš„æœ¬åœ° zip åŒ…è¿›è¡Œè§£åŽ‹ç¼©å¹¶è¯»å–å…¶ä¸­çš„æ–‡ä»¶ã€‚</p>
<p>ä¸€æ®µå‚è€ƒä»£ç å¦‚ä¸‹ï¼š</p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">const</span> filename <span class="token operator">=</span> <span class="token string">'example.txt'</span><span class="token punctuation">;</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">onDrop</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">:</span> DragEvent<span class="token operator">&lt;</span>HTMLDivElement<span class="token operator">></span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> file<span class="token punctuation">:</span> File <span class="token operator">=</span> event<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> zip <span class="token operator">=</span> <span class="token keyword">await</span> jszip<span class="token punctuation">.</span><span class="token function">loadAsync</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> content <span class="token operator">=</span> <span class="token keyword">await</span> zip<span class="token punctuation">.</span>files<span class="token punctuation">[</span>filename<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token keyword">async</span><span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'content of example.txt: '</span><span class="token punctuation">,</span> content<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>è¿™é‡Œï¼Œ<code class="language-text">loadAsync</code> å‡½æ•°æŽ¥å—çš„å‚æ•°æ˜¯ä¸€ä¸ª <code class="language-text">Blob</code>ï¼Œè€Œæ— è®ºæ˜¯ <code class="language-text">input[type=file]</code> è¿˜æ˜¯é€šè¿‡ drag-n-drop å¾—åˆ°çš„æ–‡ä»¶ï¼ˆ<code class="language-text">File</code>ï¼‰ï¼Œéƒ½æ˜¯ä¸€ç§ç‰¹æ®Šçš„ <code class="language-text">Blob</code>ï¼Œå› è€Œå¯ä»¥ç›´æŽ¥ä¼ é€’ç»™ <code class="language-text">loadAsync</code> ä½¿ç”¨ã€‚</p>
<p><code class="language-text">.async(&#39;text&#39;)</code> å¯ä»¥å°†ç»“æžœå¼‚æ­¥è½¬åŒ–æˆå­—ç¬¦ä¸²ã€‚API ä¹Ÿæ”¯æŒå…¶ä»–çš„æ ¼å¼ç±»åž‹ï¼Œæ¯”å¦‚ ArrayBuffer ç­‰ã€‚ï¼ˆ<a href="https://stuk.github.io/jszip/documentation/api_zipobject/async.html">æ–‡æ¡£</a>ï¼‰</p>
<p>é™¤äº†è¯»å–å†…å®¹ä¹‹å¤–ï¼Œjszip ä¹Ÿæ”¯æŒåˆ›å»ºä¿®æ”¹ zip åŒ…çš„å†…å®¹ã€‚å®Œæ•´çš„ API æ–‡æ¡£å¯ä»¥å‚è€ƒ<a href="https://stuk.github.io/jszip/documentation/api_jszip.html">è¿™é‡Œ</a>ã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">HashHistory &amp; State<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-06-16_hashhistory-&amp;-state">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-06-16">2019-06-16</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>react-router åº•å±‚ä½¿ç”¨äº† history åº“æ¥å¤„ç†è·¯ç”±ã€‚ä¸€èˆ¬æœ‰ä¸¤ç§é€‰æ‹©ï¼Œä¸€ç§æ˜¯ä½¿ç”¨ <code class="language-text">BrowserHistory</code>ï¼ˆèƒŒåŽçš„å®žçŽ°ä¾èµ–äº† History APIï¼‰ï¼Œä¸€ç§æ˜¯ä½¿ç”¨ <code class="language-text">HashHistory</code>ï¼ˆèƒŒåŽçš„å®žçŽ°ä¸»è¦ä¾èµ– <code class="language-text">window.location.hash</code>ï¼‰ã€‚</p>
<p>å¦‚æžœå°è¯•åœ¨ HashHistory ä¸Šè°ƒç”¨ <code class="language-text">push</code> API å¹¶ä¼ é€’ state å‚æ•°ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> history <span class="token operator">=</span> <span class="token function">HashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> state<span class="token punctuation">:</span> <span class="token string">'value'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>ä¼šåœ¨ console çœ‹åˆ°å¦‚ä¸‹çš„æŠ¥é”™ï¼Œå¹¶ä¸” state å¹¶æ²¡æœ‰ä¼ é€’æˆåŠŸï¼š</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Hash history cannot push state; it is ignored</code></pre></div>
<p>è¿™ä¸ªæ˜¯ history åº“çš„é»˜è®¤è¡Œä¸ºï¼Œå…·ä½“çš„ä»£ç å¯ä»¥å‚è€ƒ <code class="language-text">modules/createHashHistory.js</code> ä¸­ <code class="language-text">push</code> çš„ä»£ç ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token parameter">path<span class="token punctuation">,</span> state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">warning</span><span class="token punctuation">(</span>
    state <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    <span class="token string">'Hash history cannot push state; it is ignored'</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> action <span class="token operator">=</span> <span class="token string">'PUSH'</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> location <span class="token operator">=</span> <span class="token function">createLocation</span><span class="token punctuation">(</span>
    path<span class="token punctuation">,</span>
    <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    history<span class="token punctuation">.</span>location
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span></code></pre></div>
<p>ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æžœä¼ é€’äº†ç¬¬äºŒä¸ªå‚æ•° stateï¼Œé‚£ä¹ˆå°±ä¼šè¾“å‡ºæŠ¥é”™ã€‚åŒæ—¶ï¼Œåœ¨ createLocation å‡½æ•°è°ƒç”¨çš„æ—¶å€™ï¼Œç¬¬äºŒä¸ªå‚æ•°æœ¬æ¥åº”è¯¥æ˜¯ stateï¼Œè¿™é‡Œæ˜¾å¼åœ°å†™æˆäº† <code class="language-text">undefined</code>ï¼Œæ˜Žç¡®æ‹’ç»äº†ä¼ é€’ state çš„åšæ³•ã€‚</p>
<p>ç„¶è€Œï¼Œè¿™å¹¶ä¸æ„å‘³ç€å°±å®Œå…¨ä¸èƒ½ä¼ é€’ <code class="language-text">state</code> äº†ã€‚</p>
<p>äº‹å®žä¸Šï¼Œ<code class="language-text">push</code> å‡½æ•°æœ‰ä¸¤ç§ API å¯ä¾›é€‰æ‹©ï¼Œä¸€ç§æ˜¯ path æ˜¯å­—ç¬¦ä¸²ï¼Œç„¶åŽ state ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ï¼›å¦ä¸€ç§åˆ™ç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­ä¸€ä¸ªå±žæ€§å°±æ˜¯ stateã€‚</p>
<p>å¦‚æžœä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•è°ƒç”¨ï¼Œstate å°±å¯ä»¥åœ¨ react-router ä¸­è¢«ä¼ é€’äº†ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">hashHistory<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token string">'path'</span><span class="token punctuation">,</span> state<span class="token punctuation">:</span> <span class="token punctuation">{</span> state<span class="token punctuation">:</span> <span class="token string">'value'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>ä½†æ˜¯ï¼Œéœ€è¦æŒ‡å‡ºçš„æ˜¯ã€‚è¿™ä¸ªåªæ˜¯ <code class="language-text">state</code> è¢«<strong>ä¼ é€’</strong>äº†ï¼Œå¹¶ä¸ä»£è¡¨ <code class="language-text">state</code> çœŸçš„è¢«å­˜å‚¨äº†ä¸‹æ¥ã€‚äº‹å®žä¸Šï¼ŒHashHistory å¹¶æ²¡æœ‰ä¾èµ–æµè§ˆå™¨çš„ History API åŠŸèƒ½ã€‚å› æ­¤ï¼Œè¿™é‡Œçš„ <code class="language-text">state</code> ä¼ é€’ä¹‹åŽï¼Œä¼šå‡ºçŽ°åœ¨ <code class="language-text">history.location.state</code> ä¸­ï¼Œä½†æ˜¯åœ¨æµè§ˆå™¨å‰è¿›/åŽé€€çš„æ“ä½œä¸­ï¼Œæ•°æ®ä¼šè¢«ä¸¢å¼ƒï¼Œæ— æ³•æ‰¾åˆ°ã€‚</p>
<p>ä¸€ä¸ªç®€å•çš„ä¾‹å­æ˜¯ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> h <span class="token operator">=</span> <span class="token function">createHashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
h<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">location</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
h<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> pathname<span class="token punctuation">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span> state<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output: 1</span>
h<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> pathname<span class="token punctuation">:</span> <span class="token string">'b'</span><span class="token punctuation">,</span> state<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output: 2</span>
h<span class="token punctuation">.</span><span class="token function">goBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output: undefined</span>
h<span class="token punctuation">.</span><span class="token function">goForward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output: undefined</span></code></pre></div>
<p>å¦‚æžœå°† HashHistory æ”¹æˆ BrowserHistoryï¼Œåˆ™å¯ä»¥æ­£ç¡®è¾“å‡ºï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> h <span class="token operator">=</span> <span class="token function">createBrowserHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
h<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">location</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
h<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> pathname<span class="token punctuation">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span> state<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output: 1</span>
h<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> pathname<span class="token punctuation">:</span> <span class="token string">'b'</span><span class="token punctuation">,</span> state<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output: 2</span>
h<span class="token punctuation">.</span><span class="token function">goBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output: 1</span>
h<span class="token punctuation">.</span><span class="token function">goForward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output: 2</span></code></pre></div></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Generate v4 UUID<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-06-12_generate-v4-uuid">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-06-12">2019-06-12</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p><a href="https://gist.github.com/jed/982883">è¿™é‡Œ</a>æœ‰ä¸€æ®µç”Ÿæˆ UUID v4 éžå¸¸çŸ­å°çš„ JavaScript ä»£ç ã€‚è™½ç„¶æœ‰ä¸€äº›æ³¨é‡Šï¼Œä½†æ€»ä½“ä¸Šå¹¶ä¸æ˜¯éžå¸¸çš„å¥½ç†è§£ã€‚</p>
<p>é¦–å…ˆï¼Œç”¨ TypeScript ç¿»è¯‘ä¸€éåŽŸå§‹çš„ä»£ç ï¼š</p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">const</span> slot <span class="token operator">=</span> <span class="token string">'10000000-1000-4000-8000-100000000000'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>to <span class="token operator">-</span> <span class="token keyword">from</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">from</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getRandomChar</span><span class="token punctuation">(</span><span class="token parameter">input<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> seed <span class="token operator">=</span> input <span class="token operator">===</span> <span class="token number">8</span> <span class="token operator">?</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> seed<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">uuidReplacer</span><span class="token punctuation">(</span><span class="token parameter">char<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">getRandomChar</span><span class="token punctuation">(</span><span class="token operator">+</span>char<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">uuid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> slot<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/[018]/g</span><span class="token punctuation">,</span> uuidReplacer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>æŽ¥ä¸‹æ¥å¯¹åŽŸå§‹çš„ä»£ç ä¸­çš„éƒ¨åˆ†åšä¸€äº›è§£é‡Šï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">a <span class="token operator">^</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">16</span> <span class="token operator">>></span> a<span class="token operator">/</span><span class="token number">4</span></code></pre></div>
<p>è¿™ä¸ªéƒ¨åˆ†çš„ä»£ç ä¸å¤ªå¥½ç†è§£ã€‚é¦–å…ˆï¼Œå…ˆæ ¹æ®è¿ç®—ç¬¦çš„<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Operator_Precedence">ä¼˜å…ˆçº§</a>ï¼Œç»™ä¸Šé¢è¿™ä¸ªç®—å¼åŠ ä¸Šå¸®åŠ©ç†è§£çš„æ‹¬å·ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">a <span class="token operator">^</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token punctuation">(</span>a <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">)</span></code></pre></div>
<p>æŽ¥ä¸‹æ¥ï¼Œå†æ¥çœ‹æ¯ä¸ªéƒ¨åˆ†éƒ½æ˜¯ä»€ä¹ˆæ„æ€ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">16</span></code></pre></div>
<p>åˆ›å»ºäº†ä¸€ä¸ª <code class="language-text">0~16</code> èŒƒå›´å†…çš„éšæœºæ•°ï¼Œ<code class="language-text">&gt;&gt; (a / 4)</code> è¿™ä¸ªè¿ç®—ä¹‹åŽï¼Œä¼šå¾—åˆ°å‡ ç§ä¸åŒçš„ç»“æžœï¼ˆæ³¨æ„ï¼Œè¿™é‡Œ <code class="language-text">a</code> åªå¯èƒ½æ˜¯ <code class="language-text">&#39;0&#39;</code>ï¼Œ<code class="language-text">&#39;1&#39;</code>ï¼Œ<code class="language-text">&#39;8&#39;</code> ä¸‰ç§æƒ…å†µï¼‰ï¼š</p>
<ul>
<li><code class="language-text">&#39;0&#39;</code> æˆ– <code class="language-text">&#39;1&#39;</code> çš„æ—¶å€™ï¼Œç»“æžœæ˜¯ <code class="language-text">0~15</code> çš„éšæœºæ•°ï¼ˆæ•´æ•°ï¼‰</li>
<li><code class="language-text">&#39;8&#39;</code> çš„æ—¶å€™ï¼Œç­‰ä»·äºŽ <code class="language-text">&gt;&gt; 2</code>ï¼Œæ‰€ä»¥ç»“æžœæ˜¯ä¸€ä¸ª <code class="language-text">0~3</code> çš„éšæœºæ•°ï¼ˆæ•´æ•°ï¼‰</li>
</ul>
<p>æœ€åŽä¸€æ­¥å¼‚æˆ–è¿ç®— <code class="language-text">^</code>ï¼Œå¾—åˆ°çš„å¯èƒ½ç»“æžœåˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li><code class="language-text">&#39;0&#39;</code> çš„æ—¶å€™ï¼Œå¼‚æˆ–ç»“æžœä¸å˜ï¼Œæ˜¯ <code class="language-text">0~15</code> çš„éšæœºæ•°ï¼ˆæ•´æ•°ï¼‰</li>
<li><code class="language-text">&#39;1&#39;</code> çš„æ—¶å€™ï¼Œå¼‚æˆ–ç»“æžœæœ€åŽä¸€ä¸ªæ¯”ç‰¹ä½çš„å€¼æ­£å¥½ç›¸åï¼Œæœ€ç»ˆçš„ç»“æžœä»ç„¶æ˜¯ <code class="language-text">0~15</code> çš„éšæœºæ•°ï¼ˆæ•´æ•°ï¼‰</li>
<li><code class="language-text">&#39;8&#39;</code> çš„æ—¶å€™ï¼Œæœ€ç»ˆç»“æžœæ˜¯ <code class="language-text">8~11</code> çš„éšæœºæ•°ï¼ˆæ•´æ•°ï¼‰ã€‚å› ä¸º <code class="language-text">8</code> çš„ç¬¬å››ä½äºŒè¿›åˆ¶æ˜¯ <code class="language-text">1</code> å…¶ä»–éƒ½æ˜¯ <code class="language-text">0</code>ï¼Œè€Œ <code class="language-text">0~3</code> è¿™å‡ ä¸ªæ•°çš„äºŒè¿›åˆ¶ä½æ•°ä¸è¶…è¿‡ä¸¤ä½ï¼Œæ‰€ä»¥ä½æ•°ä¹‹é—´ä¸å­˜åœ¨äº¤é›†ï¼Œå¼‚æˆ–è¿ç®—ç›¸å½“äºŽæ˜¯ <code class="language-text">8 + n</code>ï¼Œ<code class="language-text">n</code> æ˜¯ <code class="language-text">0~3</code> ä¸­çš„æŸä¸€ä¸ªæ•°ã€‚æœ€ç»ˆå¾—åˆ°çš„å°±æ˜¯ <code class="language-text">8~11</code> çš„éšæœºæ•°ï¼ˆæ•´æ•°ï¼‰ã€‚</li>
</ul>
<p>æœ€ç»ˆï¼Œå°†ç”Ÿæˆçš„ä¸è¶…è¿‡ 16 çš„æ•´æ•°è½¬åŒ–æˆåå…­è¿›åˆ¶çš„å¯¹åº”å­—ç¬¦ã€‚</p>
<p>ç¬¬äºŒéƒ¨åˆ†çš„ä»£ç ç”¨åˆ°äº†æ­£åˆ™åŒ¹é…å’Œæ›¿æ¢ï¼ˆæ³¨æ„ï¼Œè¿™é‡Œ <code class="language-text">&#39;4&#39;</code> æ²¡æœ‰è¢«æ›¿æ¢ï¼Œä¾ç„¶ä¿ç•™ï¼‰ï¼Œä¸»è¦ä¸å®¹æ˜“ç†è§£çš„æ˜¯ä¸‹é¢è¿™ä¸ªéƒ¨åˆ†ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token punctuation">[</span><span class="token number">1e7</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token operator">-</span><span class="token number">1e3</span> <span class="token operator">+</span> <span class="token operator">-</span><span class="token number">4e3</span> <span class="token operator">+</span> <span class="token operator">-</span><span class="token number">8e3</span> <span class="token operator">+</span> <span class="token operator">-</span><span class="token number">1e11</span>    </code></pre></div>
<p>è¿™é‡Œç”¨åˆ°äº† JavaScript æ¯”è¾ƒå¥‡æ€ªçš„ç±»åž‹è½¬åŒ–åŠŸèƒ½ã€‚å› ä¸ºæœ€å¼€å§‹æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ‰€ä»¥è¿™é‡Œçš„ç›¸åŠ å®žé™…ä¸Šæ˜¯å­—ç¬¦ä¸²çš„æ‹¼æŽ¥ã€‚ç­‰ä»·äºŽ <code class="language-text">&#39;10000000-1000-4000-8000-100000000000&#39;</code> è¿™ä¸ªå­—ç¬¦ä¸²ã€‚ä¸Šé¢è¿™æ ·å†™ä¸»è¦æ˜¯å­—ç¬¦æ•°ä¸Šæ¯”è¾ƒå°‘ã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">TextDecoder<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-06-04_textdecoder">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-06-04">2019-06-04</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>åœ¨ JavaScript ä¸­ï¼Œå¦‚æžœå¾—åˆ°äº†ä¸€ä¸²å­—èŠ‚ï¼ˆæ¯”å¦‚ <code class="language-text">Uint8Array</code>ï¼‰ï¼Œè¦è½¬åŒ–æˆå¯¹åº”çš„å­—ç¬¦ä¸²ï¼Œå°±å¯ä»¥ç”¨åˆ° <code class="language-text">TextDecoder</code>ã€‚ç®€å•çš„ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> decoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextDecoder</span><span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token number">104</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">108</span><span class="token punctuation">,</span> <span class="token number">108</span><span class="token punctuation">,</span> <span class="token number">111</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">119</span><span class="token punctuation">,</span> <span class="token number">111</span><span class="token punctuation">,</span> <span class="token number">114</span><span class="token punctuation">,</span> <span class="token number">108</span><span class="token punctuation">,</span> <span class="token number">100</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> decoder<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => "hello world"</span></code></pre></div>
<p>å½“ç„¶ï¼Œä¸Šé¢çš„è¿™ä¸ªä¾‹å­æ˜¯æ¯”è¾ƒç®€å•çš„ã€‚ä¸ä½¿ç”¨ <code class="language-text">TextDecoder</code> ä¹Ÿå¯ä»¥ç›´æŽ¥è½¬åŒ–æˆå­—ç¬¦ä¸²ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token number">104</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">108</span><span class="token punctuation">,</span> <span class="token number">108</span><span class="token punctuation">,</span> <span class="token number">111</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">119</span><span class="token punctuation">,</span> <span class="token number">111</span><span class="token punctuation">,</span> <span class="token number">114</span><span class="token punctuation">,</span> <span class="token number">108</span><span class="token punctuation">,</span> <span class="token number">100</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> String<span class="token punctuation">.</span><span class="token function">fromCharCode</span><span class="token punctuation">(</span><span class="token operator">...</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => "hello world"</span></code></pre></div>
<p><code class="language-text">TextDecoder</code> çš„ä¸»è¦ä¼˜åŠ¿ï¼Œéœ€è¦åœ¨éž ASCII ç èŒƒå›´å†…æ‰ä½“çŽ°å‡ºæ¥ã€‚ç‰¹åˆ«æ˜¯ utf-8 è¿™ç±»å˜é•¿å­—ç¬¦ä¸²ç¼–ç ï¼Œç›´æŽ¥å¤„ç†æ¯”è¾ƒå›°éš¾ã€‚äº¤ç»™çŽ°æˆçš„ API æ¥å¤„ç†ï¼Œç®€å•æ–¹ä¾¿ã€‚</p>
<p>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://developer.mozilla.org/en-US/docs/Web/API/TextDecoder">MDN</a></p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">global Provider for storybook<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-06-03_global-provider-for-storybook">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-06-03">2019-06-03</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>ä¸€ä¸ªé¡¹ç›®å·¥ç¨‹é‡Œçš„ç»„ä»¶ï¼Œå¾ˆå¯èƒ½éœ€è¦ä¾èµ–äºŽæŸäº›é¡¹ç›®é¡¶å±‚å®šä¹‰çš„ <code class="language-text">Provider</code> æ‰èƒ½æ­£ç¡®ä½¿ç”¨ã€‚æ¯”å¦‚ï¼Œmobx çš„é¡¹ç›®å¯èƒ½ä¼šåœ¨é¡¶å±‚é€šè¿‡ <code class="language-text">mobx-react</code> ä¸­çš„ <code class="language-text">Provider</code> æä¾› <code class="language-text">store</code> å‚æ•°ã€‚</p>
<p>å¦‚æžœéœ€è¦åœ¨æ¯ä¸€ä¸ª story ä¸­éƒ½å†™ï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Provider</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token punctuation">...</span><span class="token attr-value">info</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ComponentForThisStory</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Provider</span></span><span class="token punctuation">></span></span></code></pre></div>
<p>æ˜¾ç„¶å¤ªå•°å—¦äº†ã€‚</p>
<p>storybook æä¾›äº†å…¨å±€å®šä¹‰ decorator çš„æ–¹æ³•ï¼Œå¯ä»¥ä»¥æ­¤æ¥æ³¨å†Œä¸€äº›å…¨å±€éƒ½ç”¨å¾—åˆ°çš„æ”¹åŠ¨ã€‚ä¸¾ä¾‹å¦‚ä¸‹ï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> configure<span class="token punctuation">,</span> addDecorator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@storybook/react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Provider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'mobx-react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">withProvider</span><span class="token punctuation">(</span><span class="token parameter">story</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Provider</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token punctuation">...</span><span class="token attr-value">info</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span><span class="token function">story</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Provider</span></span><span class="token punctuation">></span></span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">loadStories</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token function">addDecorator</span><span class="token punctuation">(</span>withProvider<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

<span class="token function">configure</span><span class="token punctuation">(</span>loadStories<span class="token punctuation">,</span> module<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>è¿™æ ·ï¼Œåœ¨ story ä¸­ï¼Œåªéœ€è¦ç®€å•çš„æä¾›ç»„ä»¶å°±å¯ä»¥äº†ï¼Œ<code class="language-text">decorator</code> ä¼šè‡ªåŠ¨ä¸ºç»„ä»¶åŠ ä¸Šåˆé€‚çš„å¤–å±‚ <code class="language-text">Provider</code>ã€‚</p>
<p><a href="https://alligator.io/react/storybook-with-redux/">å‚è€ƒæ–‡æ¡£</a></p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Transform node_modules in Jest<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-05-30_transform-node_modules-in-jest">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-05-30">2019-05-30</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒJest é…ç½®æ–‡ä»¶ä¸­çš„ <code class="language-text">transform</code> å±žæ€§ï¼Œæ˜¯ä¸ä¼šè¢«åº”ç”¨åˆ° node_modules ç›®å½•ä¸‹çš„ã€‚å¦‚æžœå¼•ç”¨çš„åº“æœ¬èº«ä½¿ç”¨äº†éž JavaScript æ–‡ä»¶ï¼ˆæ¯”å¦‚ CSS æ–‡ä»¶ï¼‰ï¼Œä¼šé€ æˆ Jest æ— æ³•æ­£ç¡®å¤„ç†ã€‚</p>
<p>ä¸€ä¸ªå¯è¡Œçš„æ›¿ä»£æ–¹æ¡ˆï¼Œæ˜¯ç”¨ <code class="language-text">moduleNameMapper</code> æ¥ä»£æ›¿ <code class="language-text">transform</code> çš„åŠŸèƒ½ã€‚</p>
<p>ä»¥ CSS çš„å¤„ç†ä¸ºä¾‹ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  transform<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"^.+\\.(less|css)$"</span><span class="token punctuation">:</span> <span class="token string">"jest-transform-stub"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>ä¸Šé¢è¿™ä¸ªæ˜¯å¸¸è§„æ–¹æ¡ˆï¼Œä½†æ˜¯å¯¹ CSS / Less çš„å¤„ç†ä¸åŒ…å« node_modules çš„éƒ¨åˆ†ã€‚</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  moduleNameMapper<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"^.+\\.(less|css)$"</span><span class="token punctuation">:</span> <span class="token string">"jest-transform-stub"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>ä¸Šé¢è¿™ä¸ªæ–¹æ¡ˆï¼Œå¯ä»¥è¾¾åˆ°ä¸€æ ·çš„æ•ˆæžœï¼Œä½†æ˜¯ node_module å†…çš„ CSS å¼•ç”¨ä¹Ÿä¼šè¢«æ­£ç¡®çš„å¤„ç†ã€‚</p>
<p>ä¸¤ç§æ–¹æ¡ˆæ²¡æœ‰ä¼˜åŠ£ï¼Œä¸»è¦æ˜¯çœ‹ä½¿ç”¨çš„åœºæ™¯ã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">rxjs and hooks<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-05-23_rxjs-and-hooks">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-05-23">2019-05-23</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>ä¸€ç›´ä»¥æ¥ï¼Œ<a href="https://github.com/ReactiveX/rxjs">rxjs</a> å’Œ <a href="https://github.com/facebook/react">react</a> éƒ½ä¸å¤ªæ­ï¼Œè¦åœ¨ React ä¸­ä½¿ç”¨ rxjs å¾€å¾€éœ€è¦å†™å¹¶ä¸æ€Žä¹ˆä¼˜é›…çš„ä»£ç ï¼Œæ¯”å¦‚ï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> initial <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      value<span class="token punctuation">:</span> initial<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>subscription <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token parameter">prevProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>prevProps<span class="token punctuation">.</span>value$ <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>value$<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">unregister</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">unregister</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>subscription <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>value$
      <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> value <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">unregister</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>subscription<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>subscription<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> value <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>value<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Example value$<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">interval</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>ä¸Šé¢è¿™æ®µä»£ç ï¼Œä¼šæ ¹æ® <code class="language-text">value$</code> è¿™ä¸ª Observable çš„æ•°æ®ï¼Œé€šè¿‡ React State è¿™ä¸ªæ¡¥æ¢ï¼ŒåŽ»æ›´æ–° UIã€‚å¹¶ä¸”ï¼Œä»£ç è€ƒè™‘åˆ°äº†ç»™å®šçš„ <code class="language-text">value$</code> å¯èƒ½åŽç»­å˜åŒ–çš„æƒ…å†µã€‚å¦‚æžœä¸è€ƒè™‘åŽç»­ <code class="language-text">props</code> çš„ä¿®æ”¹ï¼Œä¸Šé¢çš„ä»£ç ä¾ç„¶éœ€è¦åœ¨ <code class="language-text">componentDidMount</code> çš„æ—¶å€™æ³¨å†Œå›žè°ƒå¹¶æ›´æ–°ï¼Œç„¶åŽåœ¨ <code class="language-text">componentWillUnmount</code> çš„æ—¶å€™æ³¨é”€ï¼Œæ˜¾å¾—éžå¸¸çš„å•°å—¦ã€‚</p>
<p>LeetCode æä¾›çš„ <a href="https://github.com/LeetCode-OpenSource/rxjs-hooks">rxjs-hooks</a> æä¾›äº†ä¸€ä¸ªæ›´ä¸ºä¼˜é›…çš„è§£å†³æ–¹æ¡ˆï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function">Example</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> initial <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token function">useObservable</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token parameter">inputs$</span><span class="token punctuation">)</span> <span class="token operator">=></span> inputs$<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
      <span class="token function">switchMap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>value$<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> value$<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
    initial<span class="token punctuation">,</span>
    <span class="token punctuation">[</span>props<span class="token punctuation">.</span>value$<span class="token punctuation">]</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>value<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Example value$<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">interval</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>rxjs-hooks å¦å¤–æä¾›äº† <code class="language-text">useEventCallback</code> æ¥æ›´å¥½çš„å¤„ç†äº‹ä»¶æµï¼Œå…·ä½“å¯ä»¥æŸ¥çœ‹å®˜æ–¹çš„<a href="https://github.com/LeetCode-OpenSource/rxjs-hooks#useeventcallback">æ–‡æ¡£</a>ã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">classnames &amp; css module<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-05-20_classnames-&amp;-css-module">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-05-20">2019-05-20</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p><a href="https://github.com/JedWatson/classnames">classnames</a> åº“æä¾›äº†ä¸€ä¸ª <code class="language-text">bind</code> APIï¼Œç”¨äºŽå¤„ç† CSS Module çš„æƒ…å†µã€‚</p>
<p>åœ¨ Webpack ä¸­ç”¨ CSS Module çš„æ–¹æ¡ˆç¼–è¯‘ CSS æ–‡ä»¶ï¼ŒåŽç»­åœ¨ JavaScript ä¸­ <code class="language-text">import style from &#39;xxx.css&#39;;</code> åŽï¼Œ<code class="language-text">style</code> å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡çš„å¤§ä½“ç»“æž„å¦‚ä¸‹ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">style <span class="token operator">=</span> <span class="token punctuation">{</span>
  foo<span class="token punctuation">:</span> <span class="token string">'foo-abcde'</span><span class="token punctuation">,</span>
  bar<span class="token punctuation">:</span> <span class="token string">'bar-12345'</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>å…¶ä¸­ï¼Œå¯¹è±¡çš„ <code class="language-text">key</code> æ˜¯åŽŸå§‹çš„ class nameï¼Œè€Œ <code class="language-text">value</code> åˆ™æ˜¯æ–½åŠ  CSS Module ä¹‹åŽå¾—åˆ°çš„å”¯ä¸€åç§°ã€‚</p>
<p>å¦‚æžœç›´æŽ¥ä½¿ç”¨ <code class="language-text">classnames</code> çš„æ ‡å‡† APIï¼Œé‚£ä¹ˆå†™èµ·æ¥å°±éœ€è¦å¤§é‡ä½¿ç”¨ computed property name çš„è¯­æ³•ï¼Œæ¯”å¦‚ï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">classnames</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token punctuation">[</span>style<span class="token punctuation">.</span>foo<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>style<span class="token punctuation">.</span>bar<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span></code></pre></div>
<p>è€Œä½¿ç”¨ <code class="language-text">bind</code> APIï¼Œå¯ä»¥äº‹å…ˆå‘ŠçŸ¥ <code class="language-text">classnames</code> class name çš„å¯¹åº”å…³ç³»ï¼ˆé€šè¿‡æŒ‡å®š <code class="language-text">this</code>ï¼‰ï¼ŒåŽç»­åªéœ€è¦ä½¿ç”¨å­—ç¬¦ä¸²ï¼Œ<code class="language-text">classnames</code> å°±å¯ä»¥è‡ªåŠ¨ä½¿ç”¨åˆé€‚çš„ç»“æžœï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> classNames <span class="token keyword">from</span> <span class="token string">'classnames/bind'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">'./style.css'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> cx <span class="token operator">=</span> <span class="token function">classNames</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>styles<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Component</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
  <span class="token comment">// result in: className="foo-abcde"</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">cx</span><span class="token punctuation">(</span><span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> bar<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Object.create(null)<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-05-16_object.create(null)">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-05-16">2019-05-16</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p><code class="language-text">Object.create</code> å¯ä»¥ç”¨æä¾›çš„å¯¹è±¡åšæ–°å¯¹è±¡çš„ <code class="language-text">__proto__</code>ã€‚è¿™å¯¼è‡´äº†ä¸€ä¸ªå¾ˆæœ‰è¶£çš„çŽ°è±¡ï¼Œå¦‚æžœä½¿ç”¨ <code class="language-text">Object.create(null)</code> æ¥åˆ›å»ºæ–°å¯¹è±¡ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–°å¯¹è±¡ä¸Šå°±æ²¡æœ‰ä»»ä½• <code class="language-text">__proto__</code>ã€‚å› ä¸º JavaScript çš„å¯¹è±¡ç»å¸¸è¢«ç”¨æ¥åšå­—å…¸ä½¿ç”¨ï¼Œ<code class="language-text">Object.create(null)</code> å¯ä»¥è®©è¿™ä¸ªåŠŸèƒ½ä½¿ç”¨æ›´åŠ çš„çº¯ç²¹ã€‚</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> dict <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>dict<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output: null</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> dict<span class="token punctuation">.</span>hasOwnProperty<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output: "undefined"</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output:</span>
<span class="token comment">// {</span>
<span class="token comment">//   constructor,</span>
<span class="token comment">//   hasOwnProperty,</span>
<span class="token comment">//   isPrototypeOf,</span>
<span class="token comment">//   propertyIsEnumerable,</span>
<span class="token comment">//   toLocaleString,</span>
<span class="token comment">//   toString,</span>
<span class="token comment">//   valueOf,</span>
<span class="token comment">//   ...</span>
<span class="token comment">// }</span></code></pre></div>
<p>åŒæ ·ï¼Œå› ä¸ºæ²¡æœ‰ <code class="language-text">prototype</code>ï¼Œç†è®ºä¸Šæ¥è¯´ï¼ŒåŽç»­å¦‚æžœæœ‰äººå¯¹ <code class="language-text">Object.prototype</code> åšæ“ä½œï¼Œä¹Ÿä¸ä¼šå½±å“åˆ°ä½¿ç”¨ã€‚</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> dict <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">addSomething</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> dict<span class="token punctuation">.</span>addSomething<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output: undefined</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> dict<span class="token punctuation">)</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// no output</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>addSomething<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output: function</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output: 'addSomething'</span></code></pre></div>
<p>æ‰€ä»¥ï¼Œå¦‚æžœåˆ¤æ–­å¯¹è±¡æœ‰æŸä¸ªå­—æ®µï¼Œé‚£ä¹ˆä¸€å®šæ˜¯ä»–è‡ªèº«æœ‰è¿™ä¸ªå­—æ®µï¼Œè€Œä¸ä¼šæ˜¯å› ä¸ºåŽŸåž‹é“¾ä¸Šçš„å®šä¹‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸éœ€è¦ç”¨ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>dict<span class="token punctuation">,</span> <span class="token string">'addSomething'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>è€Œåªéœ€è¦å†™ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span>dict<span class="token punctuation">.</span>addSomething<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>å½“ç„¶ï¼Œè¿™ä¹Ÿä¼šæœ‰ä¸€äº›å¼Šç«¯ï¼Œæ¯”å¦‚é»˜è®¤ <code class="language-text">Object.prototype</code> çš„ä¸œè¥¿å°±æ²¡äº†ï¼Œå¦‚æžœéœ€è¦ <code class="language-text">toString</code> ä¹‹ç±»çš„å‡½æ•°ï¼Œå¾—è‡ªå·±å†™ã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">performance data via JavaScript<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-05-13_performance-data-via-javascript">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-05-13">2019-05-13</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>JavaScript çš„ <code class="language-text">performance</code> é™¤äº†å¸¸ç”¨çš„ <code class="language-text">now</code> / <code class="language-text">mark</code> ä¹‹å¤–ï¼Œä¹Ÿæä¾›äº†å’Œé¡µé¢åŠ è½½ç›¸å…³çš„å¾ˆå¤šæŽ¥å£ã€‚é€šè¿‡è°ƒç”¨è¿™äº›æŽ¥å£ï¼Œå°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ”¶é›†é¡µé¢åŠ è½½çš„ç›¸å…³æŒ‡æ ‡ï¼Œæ–¹ä¾¿äº†è§£ä¸åŒç”¨æˆ·çš„å®žé™…ä½“éªŒã€‚</p>
<p><code class="language-text">perfomance.getEntries</code> è¿”å›žçš„æ•°æ®ï¼Œæœ‰ä¸‰ç§ç±»åž‹ï¼š<code class="language-text">navigation</code>ï¼Œ<code class="language-text">resource</code>ï¼Œ<code class="language-text">paint</code>ã€‚</p>
<p>å…¶ä¸­ï¼Œ<code class="language-text">navigation</code> åŒ…å«äº† <code class="language-text">PerformanceNavigationTiming</code>ï¼Œé‡Œé¢è®°å½•äº†å’Œé¡µé¢å¯¼èˆªç›¸å…³çš„æ—¶é—´ä¿¡æ¯ï¼Œæ¯”å¦‚ connection çš„èµ·å§‹/ç»“æŸæ—¶é—´ç­‰ã€‚å¯ä»¥é€šè¿‡ä¸‹é¢çš„ä»£ç æ‹¿åˆ°å®Œæ•´çš„æ•°æ®ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">performance<span class="token punctuation">.</span><span class="token function">getEntriesByType</span><span class="token punctuation">(</span><span class="token string">'navigation'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output:</span>
<span class="token comment">// connectEnd: xxx</span>
<span class="token comment">// connectStart: xxx</span>
<span class="token comment">// ...</span></code></pre></div>
<p><code class="language-text">resource</code> åŒ…å«äº†æ‰€æœ‰çš„ <code class="language-text">PerformanceResourceTiming</code>ã€‚æ¯ä¸€ä¸ªèµ„æºçš„è¯·æ±‚ï¼Œå¯¹åº”ä¸€ä¸ª <code class="language-text">PerformanceResourceTiming</code>ã€‚ä¾‹å­ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">performance<span class="token punctuation">.</span><span class="token function">getEntriesByType</span><span class="token punctuation">(</span><span class="token string">'resource'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> name<span class="token punctuation">,</span> duration <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">resource: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> use </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>duration<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> milliseconds to load</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// output:</span>
  <span class="token comment">// resource: https://xxxx use xxx milliseconds to load</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p><code class="language-text">paint</code> åŒ…å«äº†æ‰€æœ‰çš„ <code class="language-text">PerformancePaintTiming</code>ã€‚ä¸€å…±æœ‰ä¸¤ä¸ªï¼Œåˆ†åˆ«æ˜¯ first-paint å’Œ first-contentful-paintã€‚ä¾‹å­ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">performance<span class="token punctuation">.</span><span class="token function">getEntriesByType</span><span class="token punctuation">(</span><span class="token string">'paint'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> name<span class="token punctuation">,</span> startTime <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">name: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, startTime: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>startTime<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// output:</span>
  <span class="token comment">// first-paint: xxxx</span>
  <span class="token comment">// first-contentful-paint: xxx</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">download third party resource<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-05-10_download-third-party-resource">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-05-10">2019-05-10</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>åœ¨ HTML ä¸­ï¼Œå¦‚æžœä¸€ä¸ª <code class="language-text">a</code> æ ‡ç­¾ï¼Œå¸¦ä¸Šäº† <code class="language-text">download</code> çš„å±žæ€§ï¼Œé“¾æŽ¥åœ°å€å°±ä¼šè¢«æµè§ˆå™¨ç›´æŽ¥ç”¨äºŽä¸‹è½½ã€‚ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link_here<span class="token punctuation">"</span></span> <span class="token attr-name">download</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>filename.suffix<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Link<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></code></pre></div>
<p>åŒæ ·ï¼Œå¦‚æžœéœ€è¦ JavaScript èƒ½å¤Ÿç›´æŽ¥è§¦å‘ä¸€ä¸ªèµ„æºçš„ä¸‹è½½ï¼Œå¯ä»¥åˆ›å»ºå¸¦ <code class="language-text">download</code> å±žæ€§çš„ <code class="language-text">a</code> æ ‡ç­¾ï¼Œç„¶åŽè°ƒç”¨è¿™ä¸ªå…ƒç´ çš„ <code class="language-text">click</code> æ–¹æ³•ã€‚</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocument</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">'link_here'</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span>download <span class="token operator">=</span> <span class="token string">'filename'</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// trigger download</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p><code class="language-text">download</code> çš„æ”¯æŒæƒ…å†µè§<a href="https://caniuse.com/download/embed">è¿™é‡Œ</a>ã€‚</p>
<p>è¿™ä¸ªæ–¹æ¡ˆæœ‰ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æžœæ˜¯è·¨åŸŸçš„èµ„æºï¼Œç›´æŽ¥è¿™æ ·çš„ <code class="language-text">a</code> æ ‡ç­¾ç‚¹å‡»æ˜¯ä¸èƒ½è°ƒç”¨ä¸‹è½½çš„ï¼ˆå› ä¸ºæ‰§è¡Œäº†ä¸¥æ ¼çš„åŒæºç­–ç•¥ï¼‰ï¼Œè¡Œä¸ºä¸Šå°±ä¼šå’Œä¸€ä¸ªæ™®é€šçš„å¯¼èˆªæ²¡æœ‰åŒºåˆ«ï¼ˆæ¯”å¦‚ï¼Œå¢žåŠ  <code class="language-text">target=_blank</code> ä¹‹åŽå°±ä¼šæ‰“å¼€ä¸€ä¸ªæ–°çª—å£å±•ç¤ºèµ„æºï¼‰ã€‚</p>
<p>è§£å†³è·¨åŸŸçš„ä¸€ä¸ªå‰ç«¯æ–¹æ¡ˆæ˜¯ï¼šfetch èµ„æºï¼Œç„¶åŽå°†ç»“æžœè½¬åŒ–æˆ Blobï¼Œç„¶åŽå°†è¿™ä¸ª Blob ç”Ÿæˆä¸€ä¸ª URLã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'link_here'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">repsonse</span> <span class="token operator">=></span> response<span class="token punctuation">.</span><span class="token function">blob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">blob</span> <span class="token operator">=></span> <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>blob<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">link</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    a<span class="token punctuation">.</span>href <span class="token operator">=</span> link<span class="token punctuation">;</span>
    a<span class="token punctuation">.</span>download <span class="token operator">=</span> <span class="token string">'filename.here'</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    a<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">Promise.allSettled<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-05-09_promise.allsettled">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-05-09">2019-05-09</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>Promise.allSettled å·²ç»åœ¨ Chrome 76 ä¸­ä¸Šçº¿äº†ã€‚</p>
<p>ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> promises <span class="token operator">=</span> <span class="token punctuation">[</span>
  Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'fulfilled'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'rejected'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

Promise<span class="token punctuation">.</span><span class="token function">allSettled</span><span class="token punctuation">(</span>promises<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * output:
     * [
     *   { status: 'fulfilled', value: 'fulfilled' },
     *   { status: 'rejected', reason: 'rejected' },
     * ]
     */</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>åªæœ‰æ‰€æœ‰æ•°ç»„ä¸­çš„ Promise çš„ç»“æžœä¸å†æ˜¯ <code class="language-text">pending</code>ï¼Œ<code class="language-text">.allSettled</code> æ‰ä¼šè¿”å›žç»“æžœã€‚</p>
<p>å’Œ <code class="language-text">.all</code>ï¼Œ<code class="language-text">.race</code> ä¸¤ä¸ª API æœ€å¤§çš„åŒºåˆ«åœ¨äºŽï¼Œ<code class="language-text">.allSettled</code> ä¸ä¼šæå‰ç»“æŸã€‚<code class="language-text">.all</code> ä¼šåœ¨ä»»æ„ä¸€ä¸ª Promise <code class="language-text">reject</code> çš„æ—¶å€™å¤±è´¥ï¼Œè€Œ <code class="language-text">.race</code> åˆ™ä¼šåœ¨ä»»æ„ä¸€ä¸ª Promise <code class="language-text">fulfilled</code> çš„æ—¶å€™æˆåŠŸã€‚<code class="language-text">.allSettled</code> ä¼šç­‰åˆ°æ‰€æœ‰ç»“æžœéƒ½å‡ºæ¥ä¹‹åŽï¼Œå†å¦‚å®žè¿”å›žï¼ˆä»¥ <code class="language-text">fulfilled</code> çš„çŠ¶æ€ï¼‰ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿”å›žçš„ç»“æžœæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚å…¶ä¸­ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ <code class="language-text">status</code> çš„å­—æ®µï¼Œè¡¨ç¤ºå¯¹åº”çš„ Promise æœ€ç»ˆçš„ç»“æžœæ˜¯ <code class="language-text">fulfilled</code> è¿˜æ˜¯ <code class="language-text">rejected</code>ã€‚å¦‚æžœæ˜¯ <code class="language-text">fulfilled</code> çŠ¶æ€ï¼Œé‚£ä¹ˆå¯¹è±¡ä¼šæœ‰ <code class="language-text">value</code> å­—æ®µï¼Œå€¼ç›¸å½“äºŽ <code class="language-text">.then</code> å›žè°ƒä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼›å¦‚æžœæ˜¯ <code class="language-text">rejected</code> çŠ¶æ€ï¼Œé‚£ä¹ˆå¯¹è±¡ä¼šæœ‰ <code class="language-text">reason</code> å­—æ®µï¼Œå€¼ç›¸å½“äºŽ <code class="language-text">.catch</code> å›žè°ƒä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">custom display time of notification<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-05-07_custom-display-time-of-notification">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-05-07">2019-05-07</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>æµè§ˆå™¨æ˜¾ç¤º Notification é»˜è®¤æ˜¯æœ‰ä¸€ä¸ªè‡ªåŠ¨æ¶ˆå¤±æ—¶é—´çš„ã€‚ä¸åŒçš„æµè§ˆå™¨ï¼Œè¿™é‡Œçš„æ¶ˆå¤±æ—¶é—´å¹¶ä¸ä¸€è‡´ï¼Œä»Žæµ‹è¯•æ¥çœ‹ï¼š</p>
<ul>
<li>Chrome: ~6s</li>
<li>Firefox: ~19s</li>
<li>Edge: ~6s</li>
</ul>
<p>ä»Žç›®å‰æµè§ˆå™¨å…¬å¼€çš„ API æ¥çœ‹ï¼Œå¹¶æ²¡æœ‰ä¸€ä¸ªæŽ¥å£å¯ä»¥ç›´è§‚çš„ä¿®æ”¹è¿™é‡Œçš„æ¶ˆå¤±æ—¶é—´ã€‚ä¸€ä¸ªå¯è¡Œçš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼šç”¨ <code class="language-text">requireInteraction</code> æ¥å¼ºåˆ¶è¦æ±‚æµè§ˆå™¨ä¸è‡ªåŠ¨å…³é—­ Notificationï¼Œç„¶åŽè®¾ç½® <code class="language-text">setTimeout</code> å¹¶åœ¨åˆé€‚çš„æ—¶æœºæ‰‹åŠ¨å…³é—­è¿™ä¸ªæ˜¾ç¤ºçš„ Notificationã€‚</p>
<p>ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> delay <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">;</span>
Notification<span class="token punctuation">.</span><span class="token function">requestPermission</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">status</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> <span class="token string">"granted"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> notification <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Notification</span><span class="token punctuation">(</span>
      <span class="token string">"Hi! "</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        requireInteraction<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      notification<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>ç›®å‰ <code class="language-text">requireInteraction</code> çš„æµè§ˆå™¨æ”¯æŒæƒ…å†µå¹¶ä¸éžå¸¸ç†æƒ³ï¼Œåªæœ‰ Chrome, Edge(17+) å’Œ Opera åšäº†æ”¯æŒã€‚å…·ä½“çš„æ”¯æŒåˆ—è¡¨ï¼Œå¯ä»¥çœ‹<a href="https://developer.mozilla.org/en-US/docs/Web/API/Notification/requireInteraction">è¿™é‡Œ</a>ã€‚</p>
<p>å¦å¤–ï¼Œä»Žå®žé™…çš„ä½¿ç”¨ä¸Šæ¥çœ‹ï¼ŒEdge æµè§ˆå™¨ä¸­å³ä½¿è®¾ç½®äº† <code class="language-text">requireInteraction</code>ï¼Œnotification åœ¨ä¸€å®šæ—¶é—´ä¹‹åŽä¹Ÿä¼šæ¶ˆå¤±ï¼Œåªæ˜¯æ¶ˆå¤±çš„æ—¶é—´ä¼šæ¯”åŽŸæ¥é»˜è®¤çš„æƒ…å†µè¦é•¿ä¸€äº›ï¼Œå¤§çº¦æ˜¯ 25 ç§’ã€‚Chrome çš„ Notification å¦‚æžœè®¾ç½®äº† <code class="language-text">requireInteraction</code>ï¼Œä¼šå¤šä¸€ä¸ª Close çš„æŒ‰é’®ï¼Œå±•ç¤ºæ•ˆæžœå’Œæ²¡æœ‰ <code class="language-text">requireInteraction</code> çš„æƒ…å†µæœ‰æ‰€ä¸åŒã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">contenteditable style<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-05-05_contenteditable-style">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-05-05">2019-05-05</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p><code class="language-text">style</code> æœ¬èº«æ˜¯ä¸€ä¸ªæ ‡å‡†çš„ HTML æ ‡ç­¾ï¼Œåœ¨é‡Œé¢å†™çš„ CSS æ ·å¼ï¼Œä¼šè¢«åº”ç”¨åˆ°é¡µé¢ä¸Šã€‚åŒæ—¶ï¼Œä½œä¸ºä¸€ä¸ª HTML æ ‡ç­¾ï¼Œ<code class="language-text">style</code> æœ¬èº«ä¹Ÿå¯ä»¥è¢«èµ‹äºˆä¸€å®šçš„å±•ç¤ºæ ·å¼ï¼ˆæ¯”å¦‚å°†é»˜è®¤çš„ <code class="language-text">style { display: none; }</code> ç»™è¦†ç›–æŽ‰ï¼‰ã€‚åŠ ä¸Š <code class="language-text">contenteditable</code> çš„å±žæ€§ï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªå¯ç¼–å†™çš„ <code class="language-text">style</code> æ ‡ç­¾ã€‚é€šè¿‡ç›´æŽ¥ç¼–å†™å…¶ä¸­çš„ CSS æ ·å¼ï¼Œé¡µé¢ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œå±•ç¤ºåº”ç”¨æ ·å¼åŽçš„æ•ˆæžœã€‚</p>
<style>

.editable-style-indicator {
  width: 20px;
  height: 20px;
  border-radius: 20px;
  margin-left: 3px;
  background-color: #e65525;
  box-shadow: 0 0 0 3px #e78267;
}
.editable-style-indicator:hover + style.editable-style,
style.editable-style:focus,
style.editable-style:hover {
  display: block;
  min-height: 5rem;
  max-height: 10rem;
  overflow: auto;
  margin-top: -23px;
  background-color: #ccc;
}
</style>
<p></p>
<div class="editable-style-indicator"></div>
<style contenteditable class="editable-style"></style>
<p></p>
<p>ä¸Šé¢å±•ç¤ºçš„è¿™ä¸ªåœ†ç‚¹ï¼Œé¼ æ ‡æ‚¬åœä¹‹åŽï¼Œå°±ä¼šæ˜¾ç¤ºä¸€ä¸ªå¯è¾“å…¥çš„æ¡†ã€‚åœ¨é‡Œé¢è¾“å…¥ä¸€äº› CSS å¯ä»¥çœ‹åˆ°å¯¹é¡µé¢å…ƒç´ çš„ä¿®æ”¹ã€‚æ¯”å¦‚ï¼Œå¯ä»¥è¯•è¯•è¾“å…¥ï¼š</p>
<div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css"><span class="token selector">article small:nth-child(3)</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> #007acc<span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre></div>
<p>å‡ ç‚¹æ³¨æ„ï¼š</p>
<ol>
<li>ç›´æŽ¥å¤åˆ¶ä¸Šé¢çš„ CSS ç„¶åŽé»è´´ä¸ä¼šèµ·æ•ˆï¼Œå› ä¸ºæ ·å¼ä¹Ÿè¢«é»è´´åˆ° <code class="language-text">style</code> é‡Œé¢åŽ»äº†ï¼Œè¿™ä¼šå¯¼è‡´ <code class="language-text">style</code> é‡Œçš„å†…å®¹ä¸æ˜¯åˆæ³•çš„ CSSï¼Œæ— æ³•åº”ç”¨æ ·å¼</li>
<li>CSS éœ€è¦å†™åœ¨ä¸€è¡Œé‡Œé¢ï¼Œå›žè½¦ä¼šå¯¼è‡´æ’å…¥ <code class="language-text">&lt;br /&gt;</code>ï¼ŒåŒæ ·ä¼šå¯¼è‡´ CSS è¯­æ³•é”™è¯¯ï¼Œæ— æ³•åº”ç”¨æ ·å¼</li>
</ol></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">restore source map<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-05-03_restore-source-map">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-05-03">2019-05-03</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>å¦‚æžœæ‹¿åˆ°äº†ä¸€ä»½å¸¦æœ‰ source map çš„ JavaScript ä»£ç ï¼Œé‚£ä¹ˆç†è®ºä¸Šå°±å¯ä»¥é€šè¿‡è¿™ä»½ source map åŽ»å°½å¯èƒ½çš„è¿˜åŽŸå‡ºåŽŸå§‹çš„æ–‡ä»¶å†…å®¹ã€‚</p>
<p>é¦–å…ˆï¼Œsource map æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª JSON æ–‡ä»¶ã€‚åœ¨å…¶ä¸­ï¼Œ<code class="language-text">sourceContent</code> æ•°ç»„å°±è®°å½•äº†æ‰€æœ‰æºæ–‡ä»¶çš„çº¯æ–‡æœ¬å†…å®¹ï¼Œè€Œè¿™äº›æ–‡ä»¶çš„æ–‡ä»¶è·¯å¾„åŠæ–‡ä»¶ååˆ™å­˜æ”¾åœ¨äº† <code class="language-text">sources</code> æ•°ç»„ä¸­ã€‚ä¸¤è€…ç›¸äº’å¯¹åº”ï¼Œç†è®ºä¸Šæ¥è¯´å‚ç…§è¿™ä¸¤è€…çš„æ•°æ®ï¼Œå°±å¯ä»¥å°†æºæ–‡ä»¶è¿˜åŽŸåˆ°åŽŸå§‹çš„ç›®å½•ä¸‹ã€‚</p>
<p>ç„¶è€Œï¼ŒWebpack çš„æ‰“åŒ…ç»“æžœï¼Œæ–‡ä»¶çš„è·¯å¾„åç§°éƒ½å¸¦ä¸Šäº† <code class="language-text">webpack:///</code> çš„å‰ç¼€ã€‚åœ¨å®žé™…å¤„ç†çš„è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥ç›´æŽ¥ä½¿ç”¨å·²æœ‰çš„åº“ï¼Œæ¯”å¦‚ <a href="https://github.com/alexkuz/restore-source-tree"><code class="language-text">restore-source-tree</code></a>ã€‚</p>
<p>è¿™ä¸ªåº“å› ä¸ºå·²ç»æ¯”è¾ƒè€äº†ï¼Œå¯¹ Webpack 3/4 ç­‰æ–°ç‰ˆæœ¬çš„æ”¯æŒå­˜åœ¨é—®é¢˜ã€‚åœ¨åŽŸåº“åˆå¹¶ PR ä¹‹å‰ï¼Œå¯ä»¥å…ˆä½¿ç”¨æ”¹è¿›è¿‡çš„ç‰ˆæœ¬ <a href="https://github.com/laysent/restore-source-tree"><code class="language-text">restore-source-tree</code></a>ã€‚</p>
<p>è¿™ä¸ªä¿®æ”¹è¿‡çš„ç‰ˆæœ¬ï¼Œé™¤äº†ä¿®å¤å¯¹æ–°ç‰ˆ Webpack ç¼–è¯‘ç»“æžœçš„æ”¯æŒå¤–ï¼Œä¹ŸåŠ å…¥äº† glob çš„æ”¯æŒï¼Œå¯ä»¥æ›´æ–¹ä¾¿çš„è¿›è¡Œæ‰¹é‡ source map è¿˜åŽŸã€‚</p>
<p>å‚è€ƒä»£ç å¦‚ä¸‹ï¼š</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">restore-source-tree -o output_folder path/to/source-maps/*.map</code></pre></div>
<p>æœ€ç»ˆç”Ÿæˆçš„æ–‡ä»¶ä¼šå­˜æ”¾åœ¨ output_folder ä¸‹ã€‚</p></div><hr/></article><article itemscope="" itemType="http://schema.org/BlogPosting"><h1 style="margin-bottom:0.4375rem">use case of switch<a class="no-link-style" style="font-size:0.875rem;margin-left:0.875rem" href="/til/2019-05-01_use-case-of-switch">ðŸ”—</a></h1><p><small><time itemProp="datePublished" dateTime="2019-05-01">2019-05-01</time></small><small> â€¢ <a aria-current="page" class="" href="/til/category/javascript">JavaScript</a></small><small><span itemscope="" itemType="http://schema.org/Person" itemProp="author"> â€¢ by <span itemProp="name">LaySent</span></span></small></p><div itemProp="articleBody"><p>åœ¨ã€ŠJavaScript: The Good Partsã€‹é‡Œï¼Œä½œè€…å¹¶ä¸èµžæˆ <code class="language-text">switch</code> è¯­å¥çš„ä½¿ç”¨ï¼ˆä¸»è¦æ˜¯å› ä¸º fall-through çš„æƒ…å†µå¾ˆå®¹æ˜“é€ æˆé”™è¯¯ï¼‰ã€‚ç„¶è€Œåœ¨å®žé™…çš„ä»£ç é‡Œï¼Œè¿˜æ˜¯æœ‰ä¸å°‘åœ°æ–¹å¯ä»¥çœ‹åˆ° switch çš„ä½¿ç”¨ã€‚ç›®çš„å„ä¸ç›¸åŒï¼Œæœ‰ä¸å°‘å¯ä»¥å€Ÿé‰´çš„åœ°æ–¹ã€‚</p>
<section><h2>é»˜è®¤å€¼è®¾ç½®</h2><p>React çš„ <a href="https://github.com/facebook/react/blob/master/packages/scheduler/src/Scheduler.js#L220">Scheduler</a> ä¸­ï¼Œæœ‰è¿™æ ·ä¸€æ®µä»£ç ï¼š</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">switch</span> <span class="token punctuation">(</span>priorityLevel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> ImmediatePriority<span class="token punctuation">:</span>
  <span class="token keyword">case</span> UserBlockingPriority<span class="token punctuation">:</span>
  <span class="token keyword">case</span> NormalPriority<span class="token punctuation">:</span>
  <span class="token keyword">case</span> LowPriority<span class="token punctuation">:</span>
  <span class="token keyword">case</span> IdlePriority<span class="token punctuation">:</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">default</span><span class="token punctuation">:</span>
    priorityLevel <span class="token operator">=</span> NormalPriority<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div><p>ä¸å¤±ä¸ºè®¾ç½®é»˜è®¤å€¼çš„ä¸€ç§å†™æ³•ï¼Œçœ‹ä¸ŠåŽ»æ¯”ä½¿ç”¨ if æ¥å¾—æ›´æ˜Žç¡®ä¸€äº›ï¼š</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span>
  priorityLevel <span class="token operator">!==</span> ImmediatePriority <span class="token operator">&amp;&amp;</span>
  priorityLevel <span class="token operator">!==</span> UserBlockingPriority <span class="token operator">&amp;&amp;</span>
  priorityLevel <span class="token operator">!==</span> NormalPriority <span class="token operator">&amp;&amp;</span>
  priorityLevel <span class="token operator">!==</span> LowPriority <span class="token operator">&amp;&amp;</span>
  priorityLevel <span class="token operator">!==</span> IdlePriority
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  priorityLevel <span class="token operator">=</span> NormalPriority<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div></section>
<section><h2>é˜²æ­¢ä»£ç ç¯¡æ”¹çš„åˆ¤å®š</h2><p>ä¸Šé¢çš„éœ€æ±‚ï¼Œä¹Ÿå¾ˆå®¹æ˜“å†™æˆä¸‹é¢è¿™ç§æ•°ç»„çš„æ–¹æ¡ˆï¼š</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> allowedValues <span class="token operator">=</span> <span class="token punctuation">[</span>
  ImmediatePriority<span class="token punctuation">,</span>
  UserBlockingPriority<span class="token punctuation">,</span>
  NormalPriority<span class="token punctuation">,</span>
  LowPriority<span class="token punctuation">,</span>
  IdlePriority<span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">isNot</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=></span> <span class="token parameter">comparedTo</span> <span class="token operator">=></span> value <span class="token operator">!==</span> comparedTo<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>allowedValues<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token function">isNot</span><span class="token punctuation">(</span>priorityLevel<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  priorityLevel <span class="token operator">=</span> NormalPriority<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div><p>ç„¶è€Œï¼Œè¿™æ ·çš„ä»£ç æ–¹å¼ï¼Œå¯èƒ½å­˜åœ¨è¢«å…¥ä¾µçš„å±é™©ã€‚ä¸è®ºæ˜¯ä¸Šé¢ä¾‹å­ä¸­çš„ <code class="language-text">every</code> å‡½æ•°ï¼Œè¿˜æ˜¯ç”¨ <code class="language-text">Array.prototype</code> ä¸Šçš„ä»»æ„å‡½æ•°ï¼Œéƒ½æœ‰è¢«ç¯¡æ”¹çš„å¯èƒ½æ€§ã€‚å¦‚æžœå…¶ä»–åœ°æ–¹çš„ä»£ç ä¿®æ”¹äº† <code class="language-text">Array.prototype.every</code> çš„è¡Œä¸ºï¼Œè®©è¿™é‡Œçš„è¿”å›žå€¼å‘ç”Ÿäº†å˜åŒ–ï¼Œé‚£ä¹ˆä»£ç æœ€ç»ˆå°±ä¼šäº§ç”Ÿæ„æ–™ä¹‹å¤–çš„è¡Œä¸ºã€‚</p><p>åœ¨ Scheduler ä¸­å½“ç„¶ä¸éœ€è¦è€ƒè™‘è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯åœ¨å…¶ä»–çš„åº”ç”¨åœºæ™¯ä¸‹ï¼Œè¿™å¯èƒ½æ˜¯ä¸å¾—ä¸è€ƒè™‘çš„é—®é¢˜ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æžœä¸€ä¸ª Web åº”ç”¨å…è®¸ç¬¬ä¸‰æ–¹è„šæœ¬çš„è¿è¡Œï¼ŒåŒæ—¶è‡ªèº«æœ‰å¯¹æ•°æ®è¿›è¡Œç™½åå•æ£€æŸ¥çš„éœ€æ±‚ï¼Œé‚£ä¹ˆå°±åªèƒ½ä½¿ç”¨ switch ç¡¬ç¼–ç æ‰€æœ‰çš„æƒ…å†µï¼Œè€Œä¸èƒ½ä½¿ç”¨æ•°ç»„æˆ–è€…å¯¹è±¡ï¼Œå¦åˆ™ç¬¬ä¸‰æ–¹çš„è„šæœ¬æœ‰å¯èƒ½å¯¹æœ€ç»ˆçš„è¡Œä¸ºåšç¯¡æ”¹ã€‚</p><p>Microsoft Teams çš„ä»£ç é‡Œï¼Œå°±æœ‰ç±»ä¼¼çš„åº”ç”¨åœºæ™¯ï¼ˆè§ extracted/lib/renderer/preload_sandbox.jsï¼‰ï¼š</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">isChannelAllowed</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">channel</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token keyword">let</span> isAllowed <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token comment">// IMPORTANT - the allowList must be a hardcorded switch statement.</span>
  <span class="token comment">// Array and object methods can be overridden and forced to return true.</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>channel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> xxx<span class="token punctuation">:</span>
    <span class="token comment">// ...</span>
    <span class="token keyword">case</span> zzz<span class="token punctuation">:</span>
      isAllowed <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span>
      isAllowed <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div></section></div><hr/></article><footer><div class="license" style="margin-bottom:1.75rem;font-size:0.875rem"><a rel="license noopener noreferrer" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank"><img alt="Creative Commons License" src="data:image/png;base64,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"/></a><div><span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">Every blog post in this site</span><span> by </span><a xmlns:cc="http://creativecommons.org/ns#" href="https://github.com/laysent" property="cc:attributionName" rel="cc:attributionURL noopener noreferrer" target="_blank">LaySent</a><span> is licensed under a </span><a rel="license noopener noreferrer" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC 4.0 License</a><span>, based on a work at </span><a xmlns:dct="http://purl.org/dc/terms/" href="http://github.com/laysent/website" rel="dct:source noopener noreferrer" target="_blank">GitHub</a><span>. You can see the source code of this blog site at </span><a href="https://github.com/laysent/laysent.github.io" target="_blank" rel="noopener noreferrer">github.com/laysent/laysent.github.io</a><span>.</span></div></div></footer><hr/></main><footer><span>Â© </span><span itemProp="copyrightYear">2019</span><span> </span><span itemProp="author" itemscope="" itemType="http://schema.org/Person"><span itemProp="name">LaySent</span></span></footer></main></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/til/category/javascript";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-15e06c0726879bc1b144.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-f19e4b79347eca6fefd4.js"],"component---src-templates-category-js":["/component---src-templates-category-js-890ee488d5ef2dd98532.js"],"component---src-templates-tag-js":["/component---src-templates-tag-js-6cbad32efb0c065d02ac.js"],"component---src-templates-til-per-month-js":["/component---src-templates-til-per-month-js-6d2c62393cbaa366cbea.js"],"component---src-templates-til-js":["/component---src-templates-til-js-87e63848f60be6e34462.js"],"component---src-templates-til-category-js":["/component---src-templates-til-category-js-54f94ab5f341d054bb2e.js"],"component---src-pages-404-js":["/component---src-pages-404-js-b36da248605fd32eaf9c.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-b2a3d20ee331239068b5.js"],"component---src-pages-index-js":["/component---src-pages-index-js-b55198a92cda43f3f039.js"],"component---src-pages-styleguide-js":["/component---src-pages-styleguide-js-2c60e9d8cae4a8ebfe67.js"],"component---src-pages-til-js":["/component---src-pages-til-js-1ce5f0fe866c49962382.js"],"katex":[]};/*]]>*/</script><script src="/webpack-runtime-c6a0aad0d1f5f7e27cb3.js" async=""></script><script src="/styles-4e1ffb7669217ab15814.js" async=""></script><script src="/app-15e06c0726879bc1b144.js" async=""></script><script src="/commons-11844f26a7ddf5dbba5a.js" async=""></script><script src="/component---src-templates-til-category-js-54f94ab5f341d054bb2e.js" async=""></script></body></html>